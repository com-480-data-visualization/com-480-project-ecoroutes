var XS=Object.create;var la=Object.defineProperty,QS=Object.defineProperties,JS=Object.getOwnPropertyDescriptor,eT=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertyNames,pl=Object.getOwnPropertySymbols,nT=Object.getPrototypeOf,ch=Object.prototype.hasOwnProperty,Ky=Object.prototype.propertyIsEnumerable;var Yy=(e,t,r)=>t in e?la(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||={})ch.call(t,r)&&Yy(e,r,t[r]);if(pl)for(var r of pl(t))Ky.call(t,r)&&Yy(e,r,t[r]);return e},qe=(e,t)=>QS(e,eT(t));var Xy=(e,t)=>{var r={};for(var n in e)ch.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&pl)for(var n of pl(e))t.indexOf(n)<0&&Ky.call(e,n)&&(r[n]=e[n]);return r};var ml=(e,t)=>()=>(e&&(t=e(e=0)),t);var Qt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rT=(e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},Qy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tT(t))!ch.call(e,i)&&i!==r&&la(e,i,{get:()=>t[i],enumerable:!(n=JS(t,i))||n.enumerable});return e};var xi=(e,t,r)=>(r=e!=null?XS(nT(e)):{},Qy(t||!e||!e.__esModule?la(r,"default",{value:e,enumerable:!0}):r,e)),iT=e=>Qy(la({},"__esModule",{value:!0}),e);var gl=(e,t,r)=>new Promise((n,i)=>{var s=d=>{try{l(r.next(d))}catch(f){i(f)}},a=d=>{try{l(r.throw(d))}catch(f){i(f)}},l=d=>d.done?n(d.value):Promise.resolve(d.value).then(s,a);l((r=r.apply(e,t)).next())});var Vu=Qt((vf,tM)=>{"use strict";(function(e,t){typeof vf=="object"&&typeof tM<"u"?t(vf):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.leaflet={}))})(vf,function(e){"use strict";var t="1.9.4";function r(o){var u,c,h,g;for(c=1,h=arguments.length;c<h;c++){g=arguments[c];for(u in g)o[u]=g[u]}return o}var n=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function i(o,u){var c=Array.prototype.slice;if(o.bind)return o.bind.apply(o,c.call(arguments,1));var h=c.call(arguments,2);return function(){return o.apply(u,h.length?h.concat(c.call(arguments)):arguments)}}var s=0;function a(o){return"_leaflet_id"in o||(o._leaflet_id=++s),o._leaflet_id}function l(o,u,c){var h,g,_,E;return E=function(){h=!1,g&&(_.apply(c,g),g=!1)},_=function(){h?g=arguments:(o.apply(c,arguments),setTimeout(E,u),h=!0)},_}function d(o,u,c){var h=u[1],g=u[0],_=h-g;return o===h&&c?o:((o-g)%_+_)%_+g}function f(){return!1}function p(o,u){if(u===!1)return o;var c=Math.pow(10,u===void 0?6:u);return Math.round(o*c)/c}function m(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function v(o){return m(o).split(/\s+/)}function y(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?n(o.options):{});for(var c in u)o.options[c]=u[c];return o.options}function w(o,u,c){var h=[];for(var g in o)h.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(!u||u.indexOf("?")===-1?"?":"&")+h.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function x(o,u){return o.replace(C,function(c,h){var g=u[h];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(u)),g})}var k=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function j(o,u){for(var c=0;c<o.length;c++)if(o[c]===u)return c;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var O=0;function F(o){var u=+new Date,c=Math.max(0,16-(u-O));return O=u+c,window.setTimeout(o,c)}var H=window.requestAnimationFrame||P("RequestAnimationFrame")||F,W=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function M(o,u,c){if(c&&H===F)o.call(u);else return H.call(window,i(o,u))}function R(o){o&&W.call(window,o)}var D={__proto__:null,extend:r,create:n,bind:i,get lastId(){return s},stamp:a,throttle:l,wrapNum:d,falseFn:f,formatNum:p,trim:m,splitWords:v,setOptions:y,getParamString:w,template:x,isArray:k,indexOf:j,emptyImageUrl:b,requestFn:H,cancelFn:W,requestAnimFrame:M,cancelAnimFrame:R};function A(){}A.extend=function(o){var u=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=u.__super__=this.prototype,h=n(c);h.constructor=u,u.prototype=h;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(u[g]=this[g]);return o.statics&&r(u,o.statics),o.includes&&(S(o.includes),r.apply(null,[h].concat(o.includes))),r(h,o),delete h.statics,delete h.includes,h.options&&(h.options=c.options?n(c.options):{},r(h.options,o.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,E=h._initHooks.length;_<E;_++)h._initHooks[_].call(this)}},u},A.include=function(o){var u=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},A.mergeOptions=function(o){return r(this.prototype.options,o),this},A.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),c=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function S(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=k(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var T={on:function(o,u,c){if(typeof o=="object")for(var h in o)this._on(h,o[h],u);else{o=v(o);for(var g=0,_=o.length;g<_;g++)this._on(o[g],u,c)}return this},off:function(o,u,c){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var h in o)this._off(h,o[h],u);else{o=v(o);for(var g=arguments.length===1,_=0,E=o.length;_<E;_++)g?this._off(o[_]):this._off(o[_],u,c)}return this},_on:function(o,u,c,h){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,c)===!1){c===this&&(c=void 0);var g={fn:u,ctx:c};h&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}},_off:function(o,u,c){var h,g,_;if(this._events&&(h=this._events[o],!!h)){if(arguments.length===1){if(this._firingCount)for(g=0,_=h.length;g<_;g++)h[g].fn=f;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var E=this._listens(o,u,c);if(E!==!1){var V=h[E];this._firingCount&&(V.fn=f,this._events[o]=h=h.slice()),h.splice(E,1)}}},fire:function(o,u,c){if(!this.listens(o,c))return this;var h=r({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var _=0,E=g.length;_<E;_++){var V=g[_],z=V.fn;V.once&&this.off(o,z,V.ctx),z.call(V.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(o,u,c,h){typeof o!="string"&&console.warn('"string" type argument expected');var g=u;typeof u!="function"&&(h=!!u,g=void 0,c=void 0);var _=this._events&&this._events[o];if(_&&_.length&&this._listens(o,g,c)!==!1)return!0;if(h){for(var E in this._eventParents)if(this._eventParents[E].listens(o,u,c,h))return!0}return!1},_listens:function(o,u,c){if(!this._events)return!1;var h=this._events[o]||[];if(!u)return!!h.length;c===this&&(c=void 0);for(var g=0,_=h.length;g<_;g++)if(h[g].fn===u&&h[g].ctx===c)return g;return!1},once:function(o,u,c){if(typeof o=="object")for(var h in o)this._on(h,o[h],u,!0);else{o=v(o);for(var g=0,_=o.length;g<_;g++)this._on(o[g],u,c,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[a(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[a(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var B=A.extend(T);function N(o,u,c){this.x=c?Math.round(o):o,this.y=c?Math.round(u):u}var U=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(o){return this.clone()._add(I(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(I(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new N(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new N(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(o){o=I(o);var u=o.x-this.x,c=o.y-this.y;return Math.sqrt(u*u+c*c)},equals:function(o){return o=I(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=I(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function I(o,u,c){return o instanceof N?o:k(o)?new N(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new N(o.x,o.y):new N(o,u,c)}function $(o,u){if(o)for(var c=u?[o,u]:o,h=0,g=c.length;h<g;h++)this.extend(c[h])}$.prototype={extend:function(o){var u,c;if(!o)return this;if(o instanceof N||typeof o[0]=="number"||"x"in o)u=c=I(o);else if(o=G(o),u=o.min,c=o.max,!u||!c)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=c.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(o){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,c;return typeof o[0]=="number"||o instanceof N?o=I(o):o=G(o),o instanceof $?(u=o.min,c=o.max):u=c=o,u.x>=this.min.x&&c.x<=this.max.x&&u.y>=this.min.y&&c.y<=this.max.y},intersects:function(o){o=G(o);var u=this.min,c=this.max,h=o.min,g=o.max,_=g.x>=u.x&&h.x<=c.x,E=g.y>=u.y&&h.y<=c.y;return _&&E},overlaps:function(o){o=G(o);var u=this.min,c=this.max,h=o.min,g=o.max,_=g.x>u.x&&h.x<c.x,E=g.y>u.y&&h.y<c.y;return _&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,c=this.max,h=Math.abs(u.x-c.x)*o,g=Math.abs(u.y-c.y)*o;return G(I(u.x-h,u.y-g),I(c.x+h,c.y+g))},equals:function(o){return o?(o=G(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function G(o,u){return!o||o instanceof $?o:new $(o,u)}function q(o,u){if(o)for(var c=u?[o,u]:o,h=0,g=c.length;h<g;h++)this.extend(c[h])}q.prototype={extend:function(o){var u=this._southWest,c=this._northEast,h,g;if(o instanceof Y)h=o,g=o;else if(o instanceof q){if(h=o._southWest,g=o._northEast,!h||!g)return this}else return o?this.extend(K(o)||X(o)):this;return!u&&!c?(this._southWest=new Y(h.lat,h.lng),this._northEast=new Y(g.lat,g.lng)):(u.lat=Math.min(h.lat,u.lat),u.lng=Math.min(h.lng,u.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(o){var u=this._southWest,c=this._northEast,h=Math.abs(u.lat-c.lat)*o,g=Math.abs(u.lng-c.lng)*o;return new q(new Y(u.lat-h,u.lng-g),new Y(c.lat+h,c.lng+g))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Y||"lat"in o?o=K(o):o=X(o);var u=this._southWest,c=this._northEast,h,g;return o instanceof q?(h=o.getSouthWest(),g=o.getNorthEast()):h=g=o,h.lat>=u.lat&&g.lat<=c.lat&&h.lng>=u.lng&&g.lng<=c.lng},intersects:function(o){o=X(o);var u=this._southWest,c=this._northEast,h=o.getSouthWest(),g=o.getNorthEast(),_=g.lat>=u.lat&&h.lat<=c.lat,E=g.lng>=u.lng&&h.lng<=c.lng;return _&&E},overlaps:function(o){o=X(o);var u=this._southWest,c=this._northEast,h=o.getSouthWest(),g=o.getNorthEast(),_=g.lat>u.lat&&h.lat<c.lat,E=g.lng>u.lng&&h.lng<c.lng;return _&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=X(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(o,u){return o instanceof q?o:new q(o,u)}function Y(o,u,c){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,c!==void 0&&(this.alt=+c)}Y.prototype={equals:function(o,u){if(!o)return!1;o=K(o);var c=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return c<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+p(this.lat,o)+", "+p(this.lng,o)+")"},distanceTo:function(o){return ge.distance(this,K(o))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,c=u/Math.cos(Math.PI/180*this.lat);return X([this.lat-u,this.lng-c],[this.lat+u,this.lng+c])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function K(o,u,c){return o instanceof Y?o:k(o)&&typeof o[0]!="object"?o.length===3?new Y(o[0],o[1],o[2]):o.length===2?new Y(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Y(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new Y(o,u,c)}var oe={latLngToPoint:function(o,u){var c=this.projection.project(o),h=this.scale(u);return this.transformation._transform(c,h)},pointToLatLng:function(o,u){var c=this.scale(u),h=this.transformation.untransform(o,c);return this.projection.unproject(h)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,c=this.scale(o),h=this.transformation.transform(u.min,c),g=this.transformation.transform(u.max,c);return new $(h,g)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?d(o.lng,this.wrapLng,!0):o.lng,c=this.wrapLat?d(o.lat,this.wrapLat,!0):o.lat,h=o.alt;return new Y(c,u,h)},wrapLatLngBounds:function(o){var u=o.getCenter(),c=this.wrapLatLng(u),h=u.lat-c.lat,g=u.lng-c.lng;if(h===0&&g===0)return o;var _=o.getSouthWest(),E=o.getNorthEast(),V=new Y(_.lat-h,_.lng-g),z=new Y(E.lat-h,E.lng-g);return new q(V,z)}},ge=r({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var c=Math.PI/180,h=o.lat*c,g=u.lat*c,_=Math.sin((u.lat-o.lat)*c/2),E=Math.sin((u.lng-o.lng)*c/2),V=_*_+Math.cos(h)*Math.cos(g)*E*E,z=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*z}}),Fe=6378137,Ne={R:Fe,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,o.lat),-c),g=Math.sin(h*u);return new N(this.R*o.lng*u,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var u=180/Math.PI;return new Y((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=Fe*Math.PI;return new $([-o,-o],[o,o])}()};function be(o,u,c,h){if(k(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=c,this._d=h}be.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new N((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function Re(o,u,c,h){return new be(o,u,c,h)}var De=r({},ge,{code:"EPSG:3857",projection:Ne,transformation:function(){var o=.5/(Math.PI*Ne.R);return Re(o,.5,-o,.5)}()}),Ee=r({},De,{code:"EPSG:900913"});function Te(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Qe(o,u){var c="",h,g,_,E,V,z;for(h=0,_=o.length;h<_;h++){for(V=o[h],g=0,E=V.length;g<E;g++)z=V[g],c+=(g?"L":"M")+z.x+" "+z.y;c+=u?se.svg?"z":"x":""}return c||"M0 0"}var nt=document.documentElement.style,te="ActiveXObject"in window,Nt=te&&!document.addEventListener,fn="msLaunchUri"in navigator&&!("documentMode"in document),Ot=Pt("webkit"),ne=Pt("android"),it=Pt("android 2")||Pt("android 3"),Ct=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),hn=ne&&Pt("Google")&&Ct<537&&!("AudioNode"in window),$t=!!window.opera,di=!fn&&Pt("chrome"),fi=Pt("gecko")&&!Ot&&!$t&&!te,Mr=!di&&Pt("safari"),jn=Pt("phantom"),Ir="OTransition"in nt,hi=navigator.platform.indexOf("Win")===0,Sr=te&&"transition"in nt,ir="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,pi="MozPerspective"in nt,zs=!window.L_DISABLE_3D&&(Sr||ir||pi)&&!Ir&&!jn,pn=typeof orientation<"u"||Pt("mobile"),Hs=pn&&Ot,po=pn&&ir,mo=!window.PointerEvent&&window.MSPointerEvent,Gs=!!(window.PointerEvent||mo),qs="ontouchstart"in window||!!window.TouchEvent,qu=!window.L_NO_TOUCH&&(qs||Gs),Ws=pn&&$t,Zs=pn&&fi,Ys=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ks=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",f,u),window.removeEventListener("testPassiveEventSupport",f,u)}catch{}return o}(),Wu=function(){return!!document.createElement("canvas").getContext}(),Tr=!!(document.createElementNS&&Te("svg").createSVGRect),Zu=!!Tr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yu=!Tr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),mi=navigator.platform.indexOf("Mac")===0,go=navigator.platform.indexOf("Linux")===0;function Pt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var se={ie:te,ielt9:Nt,edge:fn,webkit:Ot,android:ne,android23:it,androidStock:hn,opera:$t,chrome:di,gecko:fi,safari:Mr,phantom:jn,opera12:Ir,win:hi,ie3d:Sr,webkit3d:ir,gecko3d:pi,any3d:zs,mobile:pn,mobileWebkit:Hs,mobileWebkit3d:po,msPointer:mo,pointer:Gs,touch:qu,touchNative:qs,mobileOpera:Ws,mobileGecko:Zs,retina:Ys,passiveEvents:Ks,canvas:Wu,svg:Tr,vml:Yu,inlineSvg:Zu,mac:mi,linux:go},vo=se.msPointer?"MSPointerDown":"pointerdown",yo=se.msPointer?"MSPointerMove":"pointermove",gi=se.msPointer?"MSPointerUp":"pointerup",_o=se.msPointer?"MSPointerCancel":"pointercancel",wo={touchstart:vo,touchmove:yo,touchend:gi,touchcancel:_o},Ve={touchstart:XI,touchmove:Ku,touchend:Ku,touchcancel:Ku},Co={},oy=!1;function qI(o,u,c){return u==="touchstart"&&KI(),Ve[u]?(c=Ve[u].bind(this,c),o.addEventListener(wo[u],c,!1),c):(console.warn("wrong event specified:",u),f)}function WI(o,u,c){if(!wo[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(wo[u],c,!1)}function ZI(o){Co[o.pointerId]=o}function YI(o){Co[o.pointerId]&&(Co[o.pointerId]=o)}function sy(o){delete Co[o.pointerId]}function KI(){oy||(document.addEventListener(vo,ZI,!0),document.addEventListener(yo,YI,!0),document.addEventListener(gi,sy,!0),document.addEventListener(_o,sy,!0),oy=!0)}function Ku(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var c in Co)u.touches.push(Co[c]);u.changedTouches=[u],o(u)}}function XI(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&xt(u),Ku(o,u)}function QI(o){var u={},c,h;for(h in o)c=o[h],u[h]=c&&c.bind?c.bind(o):c;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var JI=200;function eS(o,u){o.addEventListener("dblclick",u);var c=0,h;function g(_){if(_.detail!==1){h=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var E=dy(_);if(!(E.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!E.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var V=Date.now();V-c<=JI?(h++,h===2&&u(QI(_))):h=1,c=V}}}return o.addEventListener("click",g),{dblclick:u,simDblclick:g}}function tS(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var jf=Ju(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xs=Ju(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ay=Xs==="webkitTransition"||Xs==="OTransition"?Xs+"End":"transitionend";function uy(o){return typeof o=="string"?document.getElementById(o):o}function Qs(o,u){var c=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(o,null);c=h?h[u]:null}return c==="auto"?null:c}function Be(o,u,c){var h=document.createElement(o);return h.className=u||"",c&&c.appendChild(h),h}function Je(o){var u=o.parentNode;u&&u.removeChild(o)}function Xu(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function xo(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function bo(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Bf(o,u){if(o.classList!==void 0)return o.classList.contains(u);var c=Qu(o);return c.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(c)}function Ce(o,u){if(o.classList!==void 0)for(var c=v(u),h=0,g=c.length;h<g;h++)o.classList.add(c[h]);else if(!Bf(o,u)){var _=Qu(o);Uf(o,(_?_+" ":"")+u)}}function ot(o,u){o.classList!==void 0?o.classList.remove(u):Uf(o,m((" "+Qu(o)+" ").replace(" "+u+" "," ")))}function Uf(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function Qu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function mn(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&nS(o,u)}function nS(o,u){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=o.filters.item(h)}catch{if(u===1)return}u=Math.round(u*100),c?(c.Enabled=u!==100,c.Opacity=u):o.style.filter+=" progid:"+h+"(opacity="+u+")"}function Ju(o){for(var u=document.documentElement.style,c=0;c<o.length;c++)if(o[c]in u)return o[c];return!1}function vi(o,u,c){var h=u||new N(0,0);o.style[jf]=(se.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function st(o,u){o._leaflet_pos=u,se.any3d?vi(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function yi(o){return o._leaflet_pos||new N(0,0)}var Js,ea,$f;if("onselectstart"in document)Js=function(){ye(window,"selectstart",xt)},ea=function(){Ge(window,"selectstart",xt)};else{var ta=Ju(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Js=function(){if(ta){var o=document.documentElement.style;$f=o[ta],o[ta]="none"}},ea=function(){ta&&(document.documentElement.style[ta]=$f,$f=void 0)}}function zf(){ye(window,"dragstart",xt)}function Hf(){Ge(window,"dragstart",xt)}var el,Gf;function qf(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(tl(),el=o,Gf=o.style.outlineStyle,o.style.outlineStyle="none",ye(window,"keydown",tl))}function tl(){el&&(el.style.outlineStyle=Gf,el=void 0,Gf=void 0,Ge(window,"keydown",tl))}function ly(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Wf(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var rS={__proto__:null,TRANSFORM:jf,TRANSITION:Xs,TRANSITION_END:ay,get:uy,getStyle:Qs,create:Be,remove:Je,empty:Xu,toFront:xo,toBack:bo,hasClass:Bf,addClass:Ce,removeClass:ot,setClass:Uf,getClass:Qu,setOpacity:mn,testProp:Ju,setTransform:vi,setPosition:st,getPosition:yi,get disableTextSelection(){return Js},get enableTextSelection(){return ea},disableImageDrag:zf,enableImageDrag:Hf,preventOutline:qf,restoreOutline:tl,getSizedParentNode:ly,getScale:Wf};function ye(o,u,c,h){if(u&&typeof u=="object")for(var g in u)Yf(o,g,u[g],c);else{u=v(u);for(var _=0,E=u.length;_<E;_++)Yf(o,u[_],c,h)}return this}var Bn="_leaflet_events";function Ge(o,u,c,h){if(arguments.length===1)cy(o),delete o[Bn];else if(u&&typeof u=="object")for(var g in u)Kf(o,g,u[g],c);else if(u=v(u),arguments.length===2)cy(o,function(V){return j(u,V)!==-1});else for(var _=0,E=u.length;_<E;_++)Kf(o,u[_],c,h);return this}function cy(o,u){for(var c in o[Bn]){var h=c.split(/\d/)[0];(!u||u(h))&&Kf(o,h,null,null,c)}}var Zf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yf(o,u,c,h){var g=u+a(c)+(h?"_"+a(h):"");if(o[Bn]&&o[Bn][g])return this;var _=function(V){return c.call(h||o,V||window.event)},E=_;!se.touchNative&&se.pointer&&u.indexOf("touch")===0?_=qI(o,u,_):se.touch&&u==="dblclick"?_=eS(o,_):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Zf[u]||u,_,se.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(_=function(V){V=V||window.event,Qf(o,V)&&E(V)},o.addEventListener(Zf[u],_,!1)):o.addEventListener(u,E,!1):o.attachEvent("on"+u,_),o[Bn]=o[Bn]||{},o[Bn][g]=_}function Kf(o,u,c,h,g){g=g||u+a(c)+(h?"_"+a(h):"");var _=o[Bn]&&o[Bn][g];if(!_)return this;!se.touchNative&&se.pointer&&u.indexOf("touch")===0?WI(o,u,_):se.touch&&u==="dblclick"?tS(o,_):"removeEventListener"in o?o.removeEventListener(Zf[u]||u,_,!1):o.detachEvent("on"+u,_),o[Bn][g]=null}function _i(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Xf(o){return Yf(o,"wheel",_i),this}function na(o){return ye(o,"mousedown touchstart dblclick contextmenu",_i),o._leaflet_disable_click=!0,this}function xt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function wi(o){return xt(o),_i(o),this}function dy(o){if(o.composedPath)return o.composedPath();for(var u=[],c=o.target;c;)u.push(c),c=c.parentNode;return u}function fy(o,u){if(!u)return new N(o.clientX,o.clientY);var c=Wf(u),h=c.boundingClientRect;return new N((o.clientX-h.left)/c.x-u.clientLeft,(o.clientY-h.top)/c.y-u.clientTop)}var iS=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hy(o){return se.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/iS:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Qf(o,u){var c=u.relatedTarget;if(!c)return!0;try{for(;c&&c!==o;)c=c.parentNode}catch{return!1}return c!==o}var oS={__proto__:null,on:ye,off:Ge,stopPropagation:_i,disableScrollPropagation:Xf,disableClickPropagation:na,preventDefault:xt,stop:wi,getPropagationPath:dy,getMousePosition:fy,getWheelDelta:hy,isExternalTarget:Qf,addListener:ye,removeListener:Ge},py=B.extend({run:function(o,u,c,h){this.stop(),this._el=o,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=yi(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,c=this._duration*1e3;u<c?this._runFrame(this._easeOut(u/c),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var c=this._startPos.add(this._offset.multiplyBy(o));u&&c._round(),st(this._el,c),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Le=B.extend({options:{crs:De,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=y(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(K(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xs&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,ay,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,c){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(K(o),u,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,c.zoom):this._tryAnimatedPan(o,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,c.pan&&c.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,c){var h=this.getZoomScale(u),g=this.getSize().divideBy(2),_=o instanceof N?o:this.latLngToContainerPoint(o),E=_.subtract(g).multiplyBy(1-1/h),V=this.containerPointToLatLng(g.add(E));return this.setView(V,u,{zoom:c})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():X(o);var c=I(u.paddingTopLeft||u.padding||[0,0]),h=I(u.paddingBottomRight||u.padding||[0,0]),g=this.getBoundsZoom(o,!1,c.add(h));if(g=typeof u.maxZoom=="number"?Math.min(u.maxZoom,g):g,g===1/0)return{center:o.getCenter(),zoom:g};var _=h.subtract(c).divideBy(2),E=this.project(o.getSouthWest(),g),V=this.project(o.getNorthEast(),g),z=this.unproject(E.add(V).divideBy(2).add(_),g);return{center:z,zoom:g}},fitBounds:function(o,u){if(o=X(o),!o.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(o,u);return this.setView(c.center,c.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=I(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new py,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,c,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,c){if(c=c||{},c.animate===!1||!se.any3d)return this.setView(o,u,c);this._stop();var h=this.project(this.getCenter()),g=this.project(o),_=this.getSize(),E=this._zoom;o=K(o),u=u===void 0?E:u;var V=Math.max(_.x,_.y),z=V*this.getZoomScale(E,u),Z=g.distanceTo(h)||1,ee=1.42,de=ee*ee;function Me(at){var hl=at?-1:1,WS=at?z:V,ZS=z*z-V*V+hl*de*de*Z*Z,YS=2*WS*de*Z,lh=ZS/YS,Zy=Math.sqrt(lh*lh+1)-lh,KS=Zy<1e-9?-18:Math.log(Zy);return KS}function kt(at){return(Math.exp(at)-Math.exp(-at))/2}function vt(at){return(Math.exp(at)+Math.exp(-at))/2}function vn(at){return kt(at)/vt(at)}var zt=Me(0);function To(at){return V*(vt(zt)/vt(zt+ee*at))}function zS(at){return V*(vt(zt)*vn(zt+ee*at)-kt(zt))/de}function HS(at){return 1-Math.pow(1-at,1.5)}var GS=Date.now(),qy=(Me(1)-zt)/ee,qS=c.duration?1e3*c.duration:1e3*qy*.8;function Wy(){var at=(Date.now()-GS)/qS,hl=HS(at)*qy;at<=1?(this._flyToFrame=M(Wy,this),this._move(this.unproject(h.add(g.subtract(h).multiplyBy(zS(hl)/Z)),E),this.getScaleZoom(V/To(hl),E),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Wy.call(this),this},flyToBounds:function(o,u){var c=this._getBoundsCenterZoom(o,u);return this.flyTo(c.center,c.zoom,u)},setMaxBounds:function(o){return o=X(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,X(o));return c.equals(h)||this.panTo(h,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var c=I(u.paddingTopLeft||u.padding||[0,0]),h=I(u.paddingBottomRight||u.padding||[0,0]),g=this.project(this.getCenter()),_=this.project(o),E=this.getPixelBounds(),V=G([E.min.add(c),E.max.subtract(h)]),z=V.getSize();if(!V.contains(_)){this._enforcingBounds=!0;var Z=_.subtract(V.getCenter()),ee=V.extend(_).getSize().subtract(z);g.x+=Z.x<0?-ee.x:ee.x,g.y+=Z.y<0?-ee.y:ee.y,this.panTo(this.unproject(g),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=u.divideBy(2).round(),g=c.divideBy(2).round(),_=h.subtract(g);return!_.x&&!_.y?this:(o.animate&&o.pan?this.panBy(_):(o.pan&&this._rawPanBy(_),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=i(this._handleGeolocationResponse,this),c=i(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,c,o):navigator.geolocation.getCurrentPosition(u,c,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,c=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,c=o.coords.longitude,h=new Y(u,c),g=h.toBounds(o.coords.accuracy*2),_=this._locateOptions;if(_.setView){var E=this.getBoundsZoom(g);this.setView(h,_.maxZoom?Math.min(E,_.maxZoom):E)}var V={latlng:h,bounds:g,timestamp:o.timestamp};for(var z in o.coords)typeof o.coords[z]=="number"&&(V[z]=o.coords[z]);this.fire("locationfound",V)}},addHandler:function(o,u){if(!u)return this;var c=this[o]=new u(this);return this._handlers.push(c),this.options[o]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Je(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var c="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),h=Be("div",c,u||this._mapPane);return o&&(this._panes[o]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),c=this.unproject(o.getTopRight());return new q(u,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,c){o=X(o),c=I(c||[0,0]);var h=this.getZoom()||0,g=this.getMinZoom(),_=this.getMaxZoom(),E=o.getNorthWest(),V=o.getSouthEast(),z=this.getSize().subtract(c),Z=G(this.project(V,h),this.project(E,h)).getSize(),ee=se.any3d?this.options.zoomSnap:1,de=z.x/Z.x,Me=z.y/Z.y,kt=u?Math.max(de,Me):Math.min(de,Me);return h=this.getScaleZoom(kt,h),ee&&(h=Math.round(h/(ee/100))*(ee/100),h=u?Math.ceil(h/ee)*ee:Math.floor(h/ee)*ee),Math.max(g,Math.min(_,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var c=this._getTopLeftPoint(o,u);return new $(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var c=this.options.crs;return u=u===void 0?this._zoom:u,c.scale(o)/c.scale(u)},getScaleZoom:function(o,u){var c=this.options.crs;u=u===void 0?this._zoom:u;var h=c.zoom(o*c.scale(u));return isNaN(h)?1/0:h},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(K(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(I(o),u)},layerPointToLatLng:function(o){var u=I(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(K(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(K(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(X(o))},distance:function(o,u){return this.options.crs.distance(K(o),K(u))},containerPointToLayerPoint:function(o){return I(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return I(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(I(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(o)))},mouseEventToContainerPoint:function(o){return fy(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=uy(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(u,"scroll",this._onScroll,this),this._containerId=a(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,Ce(o,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Qs(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),st(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(o.markerPane,"leaflet-zoom-hide"),Ce(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,c){st(this._mapPane,new N(0,0));var h=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var g=this._zoom!==u;this._moveStart(g,c)._move(o,u)._moveEnd(g),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,c,h){u===void 0&&(u=this._zoom);var g=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),h?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){st(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[a(this._container)]=this;var u=o?Ge:ye;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var c=[],h,g=u==="mouseout"||u==="mouseover",_=o.target||o.srcElement,E=!1;_;){if(h=this._targets[a(_)],h&&(u==="click"||u==="preclick")&&this._draggableMoved(h)){E=!0;break}if(h&&h.listens(u,!0)&&(g&&!Qf(_,o)||(c.push(h),g))||_===this._container)break;_=_.parentNode}return!c.length&&!E&&!g&&this.listens(u,!0)&&(c=[this]),c},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var c=o.type;c==="mousedown"&&qf(u),this._fireDOMEvent(o,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,c){if(o.type==="click"){var h=r({},o);h.type="preclick",this._fireDOMEvent(h,h.type,c)}var g=this._findEventTargets(o,u);if(c){for(var _=[],E=0;E<c.length;E++)c[E].listens(u,!0)&&_.push(c[E]);g=_.concat(g)}if(g.length){u==="contextmenu"&&xt(o);var V=g[0],z={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Z=V.getLatLng&&(!V._radius||V._radius<=10);z.containerPoint=Z?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(o),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=Z?V.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(E=0;E<g.length;E++)if(g[E].fire(u,z,!0),z.originalEvent._stopped||g[E].options.bubblingMouseEvents===!1&&j(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return yi(this._mapPane)||new N(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var c=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var c=this.getSize()._divideBy(2);return this.project(o,u)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,c){var h=this._getNewPixelOrigin(c,u);return this.project(o,u)._subtract(h)},_latLngBoundsToNewLayerBounds:function(o,u,c){var h=this._getNewPixelOrigin(c,u);return G([this.project(o.getSouthWest(),u)._subtract(h),this.project(o.getNorthWest(),u)._subtract(h),this.project(o.getSouthEast(),u)._subtract(h),this.project(o.getNorthEast(),u)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,c){if(!c)return o;var h=this.project(o,u),g=this.getSize().divideBy(2),_=new $(h.subtract(g),h.add(g)),E=this._getBoundsOffset(_,c,u);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?o:this.unproject(h.add(E),u)},_limitOffset:function(o,u){if(!u)return o;var c=this.getPixelBounds(),h=new $(c.min.add(o),c.max.add(o));return o.add(this._getBoundsOffset(h,u))},_getBoundsOffset:function(o,u,c){var h=G(this.project(u.getNorthEast(),c),this.project(u.getSouthWest(),c)),g=h.min.subtract(o.min),_=h.max.subtract(o.max),E=this._rebound(g.x,-_.x),V=this._rebound(g.y,-_.y);return new N(E,V)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),c=this.getMaxZoom(),h=se.any3d?this.options.zoomSnap:1;return h&&(o=Math.round(o/h)*h),Math.max(u,Math.min(c,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var c=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,u),!0)},_createAnimProxy:function(){var o=this._proxy=Be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var c=jf,h=this._proxy.style[c];vi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();vi(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(u),g=this._getCenterOffset(o)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(g)?!1:(M(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,c,h){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sS(o,u){return new Le(o,u)}var xn=A.extend({options:{position:"topright"},initialize:function(o){y(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),c=this.getPosition(),h=o._controlCorners[c];return Ce(u,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(u,h.firstChild):h.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ra=function(o){return new xn(o)};Le.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",c=this._controlContainer=Be("div",u+"control-container",this._container);function h(g,_){var E=u+g+" "+u+_;o[g+_]=Be("div",E,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Je(this._controlCorners[o]);Je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var my=xn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,c,h){return c<h?-1:h<c?1:0}},initialize:function(o,u,c){y(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in o)this._addLayer(o[h],h);for(h in u)this._addLayer(u[h],h,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return xn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(a(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=Be("div",o),c=this.options.collapsed;u.setAttribute("aria-haspopup",!0),na(u),Xf(u);var h=this._section=Be("section",o+"-list");c&&(this._map.on("click",this.collapse,this),ye(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Be("a",o+"-toggle",u);g.href="#",g.title="Layers",g.setAttribute("role","button"),ye(g,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){xt(_),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Be("div",o+"-base",h),this._separator=Be("div",o+"-separator",h),this._overlaysList=Be("div",o+"-overlays",h),u.appendChild(h)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&a(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,c){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:c}),this.options.sortLayers&&this._layers.sort(i(function(h,g){return this.options.sortFunction(h.layer,g.layer,h.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xu(this._baseLayersList),Xu(this._overlaysList),this._layerControlInputs=[];var o,u,c,h,g=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),u=u||h.overlay,o=o||!h.overlay,g+=h.overlay?0:1;return this.options.hideSingleBase&&(o=o&&g>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(a(o.target)),c=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;c&&this._map.fire(c,u)},_createRadioElement:function(o,u){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(o){var u=document.createElement("label"),c=this._map.hasLayer(o.layer),h;o.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+a(this),c),this._layerControlInputs.push(h),h.layerId=a(o.layer),ye(h,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var _=document.createElement("span");u.appendChild(_),_.appendChild(h),_.appendChild(g);var E=o.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,c,h=[],g=[];this._handlingClick=!0;for(var _=o.length-1;_>=0;_--)u=o[_],c=this._getLayer(u.layerId).layer,u.checked?h.push(c):u.checked||g.push(c);for(_=0;_<g.length;_++)this._map.hasLayer(g[_])&&this._map.removeLayer(g[_]);for(_=0;_<h.length;_++)this._map.hasLayer(h[_])||this._map.addLayer(h[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,c,h=this._map.getZoom(),g=o.length-1;g>=0;g--)u=o[g],c=this._getLayer(u.layerId).layer,u.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ye(o,"click",xt),this.expand();var u=this;setTimeout(function(){Ge(o,"click",xt),u._preventClick=!1})}}),aS=function(o,u,c){return new my(o,u,c)},Jf=xn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",c=Be("div",u+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,u+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,u+"-out",c,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,c,h,g){var _=Be("a",c,h);return _.innerHTML=o,_.href="#",_.title=u,_.setAttribute("role","button"),_.setAttribute("aria-label",u),na(_),ye(_,"click",wi),ye(_,"click",g,this),ye(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";ot(this._zoomInButton,u),ot(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ce(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ce(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jf,this.addControl(this.zoomControl))});var uS=function(o){return new Jf(o)},gy=xn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",c=Be("div",u),h=this.options;return this._addScales(h,u+"-line",c),o.on(h.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),c},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,c){o.metric&&(this._mScale=Be("div",u,c)),o.imperial&&(this._iScale=Be("div",u,c))},_update:function(){var o=this._map,u=o.getSize().y/2,c=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(c)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),c=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,c,u/o)},_updateImperial:function(o){var u=o*3.2808399,c,h,g;u>5280?(c=u/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(g=this._getRoundNum(u),this._updateScale(this._iScale,g+" ft",g/u))},_updateScale:function(o,u,c){o.style.width=Math.round(this.options.maxWidth*c)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),c=o/u;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,u*c}}),lS=function(o){return new gy(o)},cS='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',eh=xn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?cS+" ":"")+"Leaflet</a>"},initialize:function(o){y(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Be("div","leaflet-control-attribution"),na(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var c=[];this.options.prefix&&c.push(this.options.prefix),o.length&&c.push(o.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&&new eh().addTo(this)});var dS=function(o){return new eh(o)};xn.Layers=my,xn.Zoom=Jf,xn.Scale=gy,xn.Attribution=eh,ra.layers=aS,ra.zoom=uS,ra.scale=lS,ra.attribution=dS;var Un=A.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Un.addTo=function(o,u){return o.addHandler(u,this),this};var fS={Events:T},vy=se.touch?"touchstart mousedown":"mousedown",Ar=B.extend({options:{clickTolerance:3},initialize:function(o,u,c,h){y(this,h),this._element=o,this._dragStartTarget=u||o,this._preventOutline=c},enable:function(){this._enabled||(ye(this._dragStartTarget,vy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ar._dragging===this&&this.finishDrag(!0),Ge(this._dragStartTarget,vy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Bf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ar._dragging===this&&this.finishDrag();return}if(!(Ar._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ar._dragging=this,this._preventOutline&&qf(this._element),zf(),Js(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,c=ly(this._element);this._startPoint=new N(u.clientX,u.clientY),this._startPos=yi(this._element),this._parentScale=Wf(c);var h=o.type==="mousedown";ye(document,h?"mousemove":"touchmove",this._onMove,this),ye(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,c=new N(u.clientX,u.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,xt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),st(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ot(document.body,"leaflet-dragging"),this._lastTarget&&(ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ge(document,"mousemove touchmove",this._onMove,this),Ge(document,"mouseup touchend touchcancel",this._onUp,this),Hf(),ea();var u=this._moved&&this._moving;this._moving=!1,Ar._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function yy(o,u,c){var h,g=[1,4,2,8],_,E,V,z,Z,ee,de,Me;for(_=0,ee=o.length;_<ee;_++)o[_]._code=Ci(o[_],u);for(V=0;V<4;V++){for(de=g[V],h=[],_=0,ee=o.length,E=ee-1;_<ee;E=_++)z=o[_],Z=o[E],z._code&de?Z._code&de||(Me=nl(Z,z,de,u,c),Me._code=Ci(Me,u),h.push(Me)):(Z._code&de&&(Me=nl(Z,z,de,u,c),Me._code=Ci(Me,u),h.push(Me)),h.push(z));o=h}return o}function _y(o,u){var c,h,g,_,E,V,z,Z,ee;if(!o||o.length===0)throw new Error("latlngs not passed");gn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var de=K([0,0]),Me=X(o),kt=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());kt<1700&&(de=th(o));var vt=o.length,vn=[];for(c=0;c<vt;c++){var zt=K(o[c]);vn.push(u.project(K([zt.lat-de.lat,zt.lng-de.lng])))}for(V=z=Z=0,c=0,h=vt-1;c<vt;h=c++)g=vn[c],_=vn[h],E=g.y*_.x-_.y*g.x,z+=(g.x+_.x)*E,Z+=(g.y+_.y)*E,V+=E*3;V===0?ee=vn[0]:ee=[z/V,Z/V];var To=u.unproject(I(ee));return K([To.lat+de.lat,To.lng+de.lng])}function th(o){for(var u=0,c=0,h=0,g=0;g<o.length;g++){var _=K(o[g]);u+=_.lat,c+=_.lng,h++}return K([u/h,c/h])}var hS={__proto__:null,clipPolygon:yy,polygonCenter:_y,centroid:th};function wy(o,u){if(!u||!o.length)return o.slice();var c=u*u;return o=gS(o,c),o=mS(o,c),o}function Cy(o,u,c){return Math.sqrt(ia(o,u,c,!0))}function pS(o,u,c){return ia(o,u,c)}function mS(o,u){var c=o.length,h=typeof Uint8Array<"u"?Uint8Array:Array,g=new h(c);g[0]=g[c-1]=1,nh(o,g,u,0,c-1);var _,E=[];for(_=0;_<c;_++)g[_]&&E.push(o[_]);return E}function nh(o,u,c,h,g){var _=0,E,V,z;for(V=h+1;V<=g-1;V++)z=ia(o[V],o[h],o[g],!0),z>_&&(E=V,_=z);_>c&&(u[E]=1,nh(o,u,c,h,E),nh(o,u,c,E,g))}function gS(o,u){for(var c=[o[0]],h=1,g=0,_=o.length;h<_;h++)vS(o[h],o[g])>u&&(c.push(o[h]),g=h);return g<_-1&&c.push(o[_-1]),c}var xy;function by(o,u,c,h,g){var _=h?xy:Ci(o,c),E=Ci(u,c),V,z,Z;for(xy=E;;){if(!(_|E))return[o,u];if(_&E)return!1;V=_||E,z=nl(o,u,V,c,g),Z=Ci(z,c),V===_?(o=z,_=Z):(u=z,E=Z)}}function nl(o,u,c,h,g){var _=u.x-o.x,E=u.y-o.y,V=h.min,z=h.max,Z,ee;return c&8?(Z=o.x+_*(z.y-o.y)/E,ee=z.y):c&4?(Z=o.x+_*(V.y-o.y)/E,ee=V.y):c&2?(Z=z.x,ee=o.y+E*(z.x-o.x)/_):c&1&&(Z=V.x,ee=o.y+E*(V.x-o.x)/_),new N(Z,ee,g)}function Ci(o,u){var c=0;return o.x<u.min.x?c|=1:o.x>u.max.x&&(c|=2),o.y<u.min.y?c|=4:o.y>u.max.y&&(c|=8),c}function vS(o,u){var c=u.x-o.x,h=u.y-o.y;return c*c+h*h}function ia(o,u,c,h){var g=u.x,_=u.y,E=c.x-g,V=c.y-_,z=E*E+V*V,Z;return z>0&&(Z=((o.x-g)*E+(o.y-_)*V)/z,Z>1?(g=c.x,_=c.y):Z>0&&(g+=E*Z,_+=V*Z)),E=o.x-g,V=o.y-_,h?E*E+V*V:new N(g,_)}function gn(o){return!k(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Dy(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(o)}function Ey(o,u){var c,h,g,_,E,V,z,Z;if(!o||o.length===0)throw new Error("latlngs not passed");gn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ee=K([0,0]),de=X(o),Me=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());Me<1700&&(ee=th(o));var kt=o.length,vt=[];for(c=0;c<kt;c++){var vn=K(o[c]);vt.push(u.project(K([vn.lat-ee.lat,vn.lng-ee.lng])))}for(c=0,h=0;c<kt-1;c++)h+=vt[c].distanceTo(vt[c+1])/2;if(h===0)Z=vt[0];else for(c=0,_=0;c<kt-1;c++)if(E=vt[c],V=vt[c+1],g=E.distanceTo(V),_+=g,_>h){z=(_-h)/g,Z=[V.x-z*(V.x-E.x),V.y-z*(V.y-E.y)];break}var zt=u.unproject(I(Z));return K([zt.lat+ee.lat,zt.lng+ee.lng])}var yS={__proto__:null,simplify:wy,pointToSegmentDistance:Cy,closestPointOnSegment:pS,clipSegment:by,_getEdgeIntersection:nl,_getBitCode:Ci,_sqClosestPointOnSegment:ia,isFlat:gn,_flat:Dy,polylineCenter:Ey},rh={project:function(o){return new N(o.lng,o.lat)},unproject:function(o){return new Y(o.y,o.x)},bounds:new $([-180,-90],[180,90])},ih={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,c=this.R,h=o.lat*u,g=this.R_MINOR/c,_=Math.sqrt(1-g*g),E=_*Math.sin(h),V=Math.tan(Math.PI/4-h/2)/Math.pow((1-E)/(1+E),_/2);return h=-c*Math.log(Math.max(V,1e-10)),new N(o.lng*u*c,h)},unproject:function(o){for(var u=180/Math.PI,c=this.R,h=this.R_MINOR/c,g=Math.sqrt(1-h*h),_=Math.exp(-o.y/c),E=Math.PI/2-2*Math.atan(_),V=0,z=.1,Z;V<15&&Math.abs(z)>1e-7;V++)Z=g*Math.sin(E),Z=Math.pow((1-Z)/(1+Z),g/2),z=Math.PI/2-2*Math.atan(_*Z)-E,E+=z;return new Y(E*u,o.x*u/c)}},_S={__proto__:null,LonLat:rh,Mercator:ih,SphericalMercator:Ne},wS=r({},ge,{code:"EPSG:3395",projection:ih,transformation:function(){var o=.5/(Math.PI*ih.R);return Re(o,.5,-o,.5)}()}),My=r({},ge,{code:"EPSG:4326",projection:rh,transformation:Re(1/180,1,-1/180,.5)}),CS=r({},oe,{projection:rh,transformation:Re(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var c=u.lng-o.lng,h=u.lat-o.lat;return Math.sqrt(c*c+h*h)},infinite:!0});oe.Earth=ge,oe.EPSG3395=wS,oe.EPSG3857=De,oe.EPSG900913=Ee,oe.EPSG4326=My,oe.Simple=CS;var bn=B.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[a(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[a(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var c=this.getEvents();u.on(c,this),this.once("remove",function(){u.off(c,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Le.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=a(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=a(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return a(o)in this._layers},eachLayer:function(o,u){for(var c in this._layers)o.call(u,this._layers[c]);return this},_addLayers:function(o){o=o?k(o)?o:[o]:[];for(var u=0,c=o.length;u<c;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[a(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=a(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var g=this._zoomBoundLayers[h].options;o=g.minZoom===void 0?o:Math.min(o,g.minZoom),u=g.maxZoom===void 0?u:Math.max(u,g.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Do=bn.extend({initialize:function(o,u){y(this,u),this._layers={};var c,h;if(o)for(c=0,h=o.length;c<h;c++)this.addLayer(o[c])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[o]&&h[o].apply(h,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var c in this._layers)o.call(u,this._layers[c]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return a(o)}}),xS=function(o,u){return new Do(o,u)},or=Do.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Do.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Do.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new q;for(var u in this._layers){var c=this._layers[u];o.extend(c.getBounds?c.getBounds():c.getLatLng())}return o}}),bS=function(o,u){return new or(o,u)},Eo=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){y(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var c=this._getIconUrl(o);if(!c){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(h,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(o,u){var c=this.options,h=c[u+"Size"];typeof h=="number"&&(h=[h,h]);var g=I(h),_=I(u==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(c.className||""),_&&(o.style.marginLeft=-_.x+"px",o.style.marginTop=-_.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return se.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function DS(o){return new Eo(o)}var oa=Eo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof oa.imagePath!="string"&&(oa.imagePath=this._detectIconPath()),(this.options.imagePath||oa.imagePath)+Eo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(c,h,g){var _=h.exec(c);return _&&_[g]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Be("div","leaflet-default-icon-path",document.body),u=Qs(o,"background-image")||Qs(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Iy=Un.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ar(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,c=u._map,h=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,_=yi(u._icon),E=c.getPixelBounds(),V=c.getPixelOrigin(),z=G(E.min._subtract(V).add(g),E.max._subtract(V).subtract(g));if(!z.contains(_)){var Z=I((Math.max(z.max.x,_.x)-z.max.x)/(E.max.x-z.max.x)-(Math.min(z.min.x,_.x)-z.min.x)/(E.min.x-z.min.x),(Math.max(z.max.y,_.y)-z.max.y)/(E.max.y-z.max.y)-(Math.min(z.min.y,_.y)-z.min.y)/(E.min.y-z.min.y)).multiplyBy(h);c.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),st(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=M(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,c=u._shadow,h=yi(u._icon),g=u._map.layerPointToLatLng(h);c&&st(c,h),u._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),rl=bn.extend({options:{icon:new oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){y(this,u),this._latlng=K(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=K(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=o.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,o.title&&(c.title=o.title),c.tagName==="IMG"&&(c.alt=o.alt||"")),Ce(c,u),o.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(c,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),_=!1;g!==this._shadow&&(this._removeShadow(),_=!0),g&&(Ce(g,u),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&_&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(this._icon,"focus",this._panOnFocus,this),Je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Je(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&st(this._icon,o),this._shadow&&st(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Iy)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Iy(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&mn(this._icon,o),this._shadow&&mn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,c=u.iconSize?I(u.iconSize):I(0,0),h=u.iconAnchor?I(u.iconAnchor):I(0,0);o.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:c.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ES(o,u){return new rl(o,u)}var Nr=bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return y(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),il=Nr.extend({options:{fill:!0,radius:10},initialize:function(o,u){y(this,u),this._latlng=K(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=K(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return Nr.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,c=this._clickTolerance(),h=[o+c,u+c];this._pxBounds=new $(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function MS(o,u){return new il(o,u)}var oh=il.extend({initialize:function(o,u,c){if(typeof u=="number"&&(u=r({},c,{radius:u})),y(this,u),this._latlng=K(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Nr.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===ge.distance){var g=Math.PI/180,_=this._mRadius/ge.R/g,E=c.project([u+_,o]),V=c.project([u-_,o]),z=E.add(V).divideBy(2),Z=c.unproject(z).lat,ee=Math.acos((Math.cos(_*g)-Math.sin(u*g)*Math.sin(Z*g))/(Math.cos(u*g)*Math.cos(Z*g)))/g;(isNaN(ee)||ee===0)&&(ee=_/Math.cos(Math.PI/180*u)),this._point=z.subtract(c.getPixelOrigin()),this._radius=isNaN(ee)?0:z.x-c.project([Z,o-ee]).x,this._radiusY=z.y-E.y}else{var de=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(de).x}this._updateBounds()}});function IS(o,u,c){return new oh(o,u,c)}var sr=Nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){y(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,c=null,h=ia,g,_,E=0,V=this._parts.length;E<V;E++)for(var z=this._parts[E],Z=1,ee=z.length;Z<ee;Z++){g=z[Z-1],_=z[Z];var de=h(o,g,_,!0);de<u&&(u=de,c=h(o,g,_))}return c&&(c.distance=Math.sqrt(u)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ey(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=K(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new q,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],c=gn(o),h=0,g=o.length;h<g;h++)c?(u[h]=K(o[h]),this._bounds.extend(u[h])):u[h]=this._convertLatLngs(o[h]);return u},_project:function(){var o=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new N(o,o);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,c){var h=o[0]instanceof Y,g=o.length,_,E;if(h){for(E=[],_=0;_<g;_++)E[_]=this._map.latLngToLayerPoint(o[_]),c.extend(E[_]);u.push(E)}else for(_=0;_<g;_++)this._projectLatlngs(o[_],u,c)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,c,h,g,_,E,V,z;for(c=0,g=0,_=this._rings.length;c<_;c++)for(z=this._rings[c],h=0,E=z.length;h<E-1;h++)V=by(z[h],z[h+1],o,h,!0),V&&(u[g]=u[g]||[],u[g].push(V[0]),(V[1]!==z[h+1]||h===E-2)&&(u[g].push(V[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,c=0,h=o.length;c<h;c++)o[c]=wy(o[c],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var c,h,g,_,E,V,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(c=0,_=this._parts.length;c<_;c++)for(V=this._parts[c],h=0,E=V.length,g=E-1;h<E;g=h++)if(!(!u&&h===0)&&Cy(o,V[g],V[h])<=z)return!0;return!1}});function SS(o,u){return new sr(o,u)}sr._flat=Dy;var Mo=sr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _y(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=sr.prototype._convertLatLngs.call(this,o),c=u.length;return c>=2&&u[0]instanceof Y&&u[0].equals(u[c-1])&&u.pop(),u},_setLatLngs:function(o){sr.prototype._setLatLngs.call(this,o),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,c=new N(u,u);if(o=new $(o.min.subtract(c),o.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,g=this._rings.length,_;h<g;h++)_=yy(this._rings[h],o,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,c,h,g,_,E,V,z,Z;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,z=this._parts.length;_<z;_++)for(c=this._parts[_],E=0,Z=c.length,V=Z-1;E<Z;V=E++)h=c[E],g=c[V],h.y>o.y!=g.y>o.y&&o.x<(g.x-h.x)*(o.y-h.y)/(g.y-h.y)+h.x&&(u=!u);return u||sr.prototype._containsPoint.call(this,o,!0)}});function TS(o,u){return new Mo(o,u)}var ar=or.extend({initialize:function(o,u){y(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=k(o)?o:o.features,c,h,g;if(u){for(c=0,h=u.length;c<h;c++)g=u[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var _=this.options;if(_.filter&&!_.filter(o))return this;var E=ol(o,_);return E?(E.feature=ul(o),E.defaultOptions=E.options,this.resetStyle(E),_.onEachFeature&&_.onEachFeature(o,E),this.addLayer(E)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function ol(o,u){var c=o.type==="Feature"?o.geometry:o,h=c?c.coordinates:null,g=[],_=u&&u.pointToLayer,E=u&&u.coordsToLatLng||sh,V,z,Z,ee;if(!h&&!c)return null;switch(c.type){case"Point":return V=E(h),Sy(_,o,V,u);case"MultiPoint":for(Z=0,ee=h.length;Z<ee;Z++)V=E(h[Z]),g.push(Sy(_,o,V,u));return new or(g);case"LineString":case"MultiLineString":return z=sl(h,c.type==="LineString"?0:1,E),new sr(z,u);case"Polygon":case"MultiPolygon":return z=sl(h,c.type==="Polygon"?1:2,E),new Mo(z,u);case"GeometryCollection":for(Z=0,ee=c.geometries.length;Z<ee;Z++){var de=ol({geometry:c.geometries[Z],type:"Feature",properties:o.properties},u);de&&g.push(de)}return new or(g);case"FeatureCollection":for(Z=0,ee=c.features.length;Z<ee;Z++){var Me=ol(c.features[Z],u);Me&&g.push(Me)}return new or(g);default:throw new Error("Invalid GeoJSON object.")}}function Sy(o,u,c,h){return o?o(u,c):new rl(c,h&&h.markersInheritOptions&&h)}function sh(o){return new Y(o[1],o[0],o[2])}function sl(o,u,c){for(var h=[],g=0,_=o.length,E;g<_;g++)E=u?sl(o[g],u-1,c):(c||sh)(o[g]),h.push(E);return h}function ah(o,u){return o=K(o),o.alt!==void 0?[p(o.lng,u),p(o.lat,u),p(o.alt,u)]:[p(o.lng,u),p(o.lat,u)]}function al(o,u,c,h){for(var g=[],_=0,E=o.length;_<E;_++)g.push(u?al(o[_],gn(o[_])?0:u-1,c,h):ah(o[_],h));return!u&&c&&g.length>0&&g.push(g[0].slice()),g}function Io(o,u){return o.feature?r({},o.feature,{geometry:u}):ul(u)}function ul(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var uh={toGeoJSON:function(o){return Io(this,{type:"Point",coordinates:ah(this.getLatLng(),o)})}};rl.include(uh),oh.include(uh),il.include(uh),sr.include({toGeoJSON:function(o){var u=!gn(this._latlngs),c=al(this._latlngs,u?1:0,!1,o);return Io(this,{type:(u?"Multi":"")+"LineString",coordinates:c})}}),Mo.include({toGeoJSON:function(o){var u=!gn(this._latlngs),c=u&&!gn(this._latlngs[0]),h=al(this._latlngs,c?2:u?1:0,!0,o);return u||(h=[h]),Io(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),Do.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(c){u.push(c.toGeoJSON(o).geometry.coordinates)}),Io(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var c=u==="GeometryCollection",h=[];return this.eachLayer(function(g){if(g.toGeoJSON){var _=g.toGeoJSON(o);if(c)h.push(_.geometry);else{var E=ul(_);E.type==="FeatureCollection"?h.push.apply(h,E.features):h.push(E)}}}),c?Io(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Ty(o,u){return new ar(o,u)}var AS=Ty,ll=bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,c){this._url=o,this._bounds=X(u),y(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&xo(this._image),this},bringToBack:function(){return this._map&&bo(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=X(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:Be("img");if(Ce(u,"leaflet-image-layer"),this._zoomAnimated&&Ce(u,"leaflet-zoom-animated"),this.options.className&&Ce(u,this.options.className),u.onselectstart=f,u.onmousemove=f,u.onload=i(this.fire,this,"load"),u.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;vi(this._image,c,u)},_reset:function(){var o=this._image,u=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=u.getSize();st(o,u.min),o.style.width=c.x+"px",o.style.height=c.y+"px"},_updateOpacity:function(){mn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),NS=function(o,u,c){return new ll(o,u,c)},Ay=ll.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:Be("video");if(Ce(u,"leaflet-image-layer"),this._zoomAnimated&&Ce(u,"leaflet-zoom-animated"),this.options.className&&Ce(u,this.options.className),u.onselectstart=f,u.onmousemove=f,u.onloadeddata=i(this.fire,this,"load"),o){for(var c=u.getElementsByTagName("source"),h=[],g=0;g<c.length;g++)h.push(c[g].src);this._url=c.length>0?h:[u.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var E=Be("source");E.src=this._url[_],u.appendChild(E)}}});function OS(o,u,c){return new Ay(o,u,c)}var Ny=ll.extend({_initImage:function(){var o=this._image=this._url;Ce(o,"leaflet-image-layer"),this._zoomAnimated&&Ce(o,"leaflet-zoom-animated"),this.options.className&&Ce(o,this.options.className),o.onselectstart=f,o.onmousemove=f}});function PS(o,u,c){return new Ny(o,u,c)}var $n=bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof Y||k(o))?(this._latlng=K(o),y(this,u)):(y(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&mn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&mn(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(mn(this._container,0),this._removeTimeout=setTimeout(i(Je,void 0,this._container),200)):Je(this._container),this.options.interactive&&(ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=K(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xo(this._container),this},bringToBack:function(){return this._map&&bo(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof or){u=null;var c=this._source._layers;for(var h in c)if(c[h]._map){u=c[h];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=I(this.options.offset),c=this._getAnchor();this._zoomAnimated?st(this._container,o.add(c)):u=u.add(o).add(c);var h=this._containerBottom=-u.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=h+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Le.include({_initOverlay:function(o,u,c,h){var g=u;return g instanceof o||(g=new o(h).setContent(u)),c&&g.setLatLng(c),g}}),bn.include({_initOverlay:function(o,u,c,h){var g=c;return g instanceof o?(y(g,h),g._source=this):(g=u&&!h?u:new o(h,this),g.setContent(c)),g}});var cl=$n.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,$n.prototype.openOn.call(this,o)},onAdd:function(o){$n.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Nr||this._source.on("preclick",_i))},onRemove:function(o){$n.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Nr||this._source.off("preclick",_i))},getEvents:function(){var o=$n.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=Be("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Be("div",o+"-content-wrapper",u);if(this._contentNode=Be("div",o+"-content",c),na(u),Xf(this._contentNode),ye(u,"contextmenu",_i),this._tipContainer=Be("div",o+"-tip-container",u),this._tip=Be("div",o+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=Be("a",o+"-close-button",u);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',ye(h,"click",function(g){xt(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var c=o.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),u.width=c+1+"px",u.whiteSpace="",u.height="";var h=o.offsetHeight,g=this.options.maxHeight,_="leaflet-popup-scrolled";g&&h>g?(u.height=g+"px",Ce(o,_)):ot(o,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),c=this._getAnchor();st(this._container,u.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(Qs(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+u,h=this._containerWidth,g=new N(this._containerLeft,-c-this._containerBottom);g._add(yi(this._container));var _=o.layerPointToContainerPoint(g),E=I(this.options.autoPanPadding),V=I(this.options.autoPanPaddingTopLeft||E),z=I(this.options.autoPanPaddingBottomRight||E),Z=o.getSize(),ee=0,de=0;_.x+h+z.x>Z.x&&(ee=_.x+h-Z.x+z.x),_.x-ee-V.x<0&&(ee=_.x-V.x),_.y+c+z.y>Z.y&&(de=_.y+c-Z.y+z.y),_.y-de-V.y<0&&(de=_.y-V.y),(ee||de)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ee,de]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),RS=function(o,u){return new cl(o,u)};Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(o,u,c){return this._initOverlay(cl,o,u,c).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),bn.include({bindPopup:function(o,u){return this._popup=this._initOverlay(cl,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof or||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){wi(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof Nr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var dl=$n.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){$n.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){$n.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=$n.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Be("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,c,h=this._map,g=this._container,_=h.latLngToContainerPoint(h.getCenter()),E=h.layerPointToContainerPoint(o),V=this.options.direction,z=g.offsetWidth,Z=g.offsetHeight,ee=I(this.options.offset),de=this._getAnchor();V==="top"?(u=z/2,c=Z):V==="bottom"?(u=z/2,c=0):V==="center"?(u=z/2,c=Z/2):V==="right"?(u=0,c=Z/2):V==="left"?(u=z,c=Z/2):E.x<_.x?(V="right",u=0,c=Z/2):(V="left",u=z+(ee.x+de.x)*2,c=Z/2),o=o.subtract(I(u,c,!0)).add(ee).add(de),ot(g,"leaflet-tooltip-right"),ot(g,"leaflet-tooltip-left"),ot(g,"leaflet-tooltip-top"),ot(g,"leaflet-tooltip-bottom"),Ce(g,"leaflet-tooltip-"+V),st(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&mn(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),LS=function(o,u){return new dl(o,u)};Le.include({openTooltip:function(o,u,c){return this._initOverlay(dl,o,u,c).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),bn.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dl,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[u](c),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof or||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(ye(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ye(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,c,h;this._tooltip.options.sticky&&o.originalEvent&&(c=this._map.mouseEventToContainerPoint(o.originalEvent),h=this._map.containerPointToLayerPoint(c),u=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(u)}});var Oy=Eo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Xu(u),u.appendChild(c.html)):u.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=I(c.bgPos);u.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function kS(o){return new Oy(o)}Eo.Default=oa;var sa=bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){y(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Je(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof N?o:new N(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,c=-o(-1/0,1/0),h=0,g=u.length,_;h<g;h++)_=u[h].style.zIndex,u[h]!==this._container&&_&&(c=o(c,+_));isFinite(c)&&(this.options.zIndex=c+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){mn(this._container,this.options.opacity);var o=+new Date,u=!1,c=!1;for(var h in this._tiles){var g=this._tiles[h];if(!(!g.current||!g.loaded)){var _=Math.min(1,(o-g.loaded)/200);mn(g.el,_),_<1?u=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),u&&(R(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===o?(this._levels[c].el.style.zIndex=u-Math.abs(o-c),this._onUpdateLevel(c)):(Je(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[o],g=this._map;return h||(h=this._levels[o]={},h.el=Be("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=u,h.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),h.zoom=o,this._setZoomTransform(h,g.getCenter(),g.getZoom()),f(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var o,u,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var h=u.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Je(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,c,h){var g=Math.floor(o/2),_=Math.floor(u/2),E=c-1,V=new N(+g,+_);V.z=+E;var z=this._tileCoordsToKey(V),Z=this._tiles[z];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),E>h?this._retainParent(g,_,E,h):!1)},_retainChildren:function(o,u,c,h){for(var g=2*o;g<2*o+2;g++)for(var _=2*u;_<2*u+2;_++){var E=new N(g,_);E.z=c+1;var V=this._tileCoordsToKey(E),z=this._tiles[V];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);c+1<h&&this._retainChildren(g,_,c+1,h)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,c,h){var g=Math.round(u);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var _=this.options.updateWhenZooming&&g!==this._tileZoom;(!h||_)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(o),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var c in this._levels)this._setZoomTransform(this._levels[c],o,u)},_setZoomTransform:function(o,u,c){var h=this._map.getZoomScale(c,o.zoom),g=o.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(u,c)).round();se.any3d?vi(o.el,g,h):st(o.el,g)},_resetGrid:function(){var o=this._map,u=o.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],h).x/c.x),Math.ceil(o.project([0,u.wrapLng[1]],h).x/c.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],h).y/c.x),Math.ceil(o.project([u.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,c=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),h=u.getZoomScale(c,this._tileZoom),g=u.project(o,this._tileZoom).floor(),_=u.getSize().divideBy(h*2);return new $(g.subtract(_),g.add(_))},_update:function(o){var u=this._map;if(u){var c=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(h),_=g.getCenter(),E=[],V=this.options.keepBuffer,z=new $(g.getBottomLeft().subtract([V,-V]),g.getTopRight().add([V,-V]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var ee=this._tiles[Z].coords;(ee.z!==this._tileZoom||!z.contains(new N(ee.x,ee.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(o,c);return}for(var de=g.min.y;de<=g.max.y;de++)for(var Me=g.min.x;Me<=g.max.x;Me++){var kt=new N(Me,de);if(kt.z=this._tileZoom,!!this._isValidTile(kt)){var vt=this._tiles[this._tileCoordsToKey(kt)];vt?vt.current=!0:E.push(kt)}}if(E.sort(function(zt,To){return zt.distanceTo(_)-To.distanceTo(_)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vn=document.createDocumentFragment();for(Me=0;Me<E.length;Me++)this._addTile(E[Me],vn);this._level.el.appendChild(vn)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var c=this._globalTileRange;if(!u.wrapLng&&(o.x<c.min.x||o.x>c.max.x)||!u.wrapLat&&(o.y<c.min.y||o.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(o);return X(this.options.bounds).overlaps(h)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,c=this.getTileSize(),h=o.scaleBy(c),g=h.add(c),_=u.unproject(h,o.z),E=u.unproject(g,o.z);return[_,E]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),c=new q(u[0],u[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),c=new N(+u[0],+u[1]);return c.z=+u[2],c},_removeTile:function(o){var u=this._tiles[o];u&&(Je(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ce(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=f,o.onmousemove=f,se.ielt9&&this.options.opacity<1&&mn(o,this.options.opacity)},_addTile:function(o,u){var c=this._getTilePos(o),h=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),i(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&M(i(this._tileReady,this,o,null,g)),st(g,c),this._tiles[h]={el:g,coords:o,current:!0},u.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,u,c){u&&this.fire("tileerror",{error:u,tile:c,coords:o});var h=this._tileCoordsToKey(o);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(mn(c.el,0),R(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),u||(Ce(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new N(this._wrapX?d(o.x,this._wrapX):o.x,this._wrapY?d(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new $(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function FS(o){return new sa(o)}var So=sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=y(this,u),u.detectRetina&&se.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var c=document.createElement("img");return ye(c,"load",i(this._tileOnLoad,this,u,c)),ye(c,"error",i(this._tileOnError,this,u,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(o),c},getTileUrl:function(o){var u={r:se.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=c),u["-y"]=c}return x(this._url,r(u,this.options))},_tileOnLoad:function(o,u){se.ielt9?setTimeout(i(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,c){var h=this.options.errorTileUrl;h&&u.getAttribute("src")!==h&&(u.src=h),o(c,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(o=u-o),o+h},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=f,u.onerror=f,!u.complete)){u.src=b;var c=this._tiles[o].coords;Je(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:c})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",b),sa.prototype._removeTile.call(this,o)},_tileReady:function(o,u,c){if(!(!this._map||c&&c.getAttribute("src")===b))return sa.prototype._tileReady.call(this,o,u,c)}});function Py(o,u){return new So(o,u)}var Ry=So.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var c=r({},this.defaultWmsParams);for(var h in u)h in this.options||(c[h]=u[h]);u=y(this,u);var g=u.detectRetina&&se.retina?2:1,_=this.getTileSize();c.width=_.x*g,c.height=_.y*g,this.wmsParams=c},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,So.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),c=this._crs,h=G(c.project(u[0]),c.project(u[1])),g=h.min,_=h.max,E=(this._wmsVersion>=1.3&&this._crs===My?[g.y,g.x,_.y,_.x]:[g.x,g.y,_.x,_.y]).join(","),V=So.prototype.getTileUrl.call(this,o);return V+w(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(o,u){return r(this.wmsParams,o),u||this.redraw(),this}});function VS(o,u){return new Ry(o,u)}So.WMS=Ry,Py.wms=VS;var ur=bn.extend({options:{padding:.1},initialize:function(o){y(this,o),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var c=this._map.getZoomScale(u,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,u),_=h.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(o,u));se.any3d?vi(this._container,_,c):st(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),c=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new $(c,c.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ly=ur.extend({options:{tolerance:0},getEvents:function(){var o=ur.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ye(o,"mousemove",this._onMouseMove,this),ye(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,Je(this._container),Ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var o=this._bounds,u=this._container,c=o.getSize(),h=se.retina?2:1;st(u,o.min),u.width=h*c.x,u.height=h*c.y,u.style.width=c.x+"px",u.style.height=c.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[a(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,c=u.next,h=u.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete o._order,delete this._layers[a(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),c=[],h,g;for(g=0;g<u.length;g++){if(h=Number(u[g]),isNaN(h))return;c.push(h)}o.options._dashArray=c}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var c=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)o=h.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var c,h,g,_,E=o._parts,V=E.length,z=this._ctx;if(V){for(z.beginPath(),c=0;c<V;c++){for(h=0,g=E[c].length;h<g;h++)_=E[c][h],z[h?"lineTo":"moveTo"](_.x,_.y);u&&z.closePath()}this._fillStroke(z,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,c=this._ctx,h=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||h)/h;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(u.x,u.y/g,h,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,o)}},_fillStroke:function(o,u){var c=u.options;c.fill&&(o.globalAlpha=c.fillOpacity,o.fillStyle=c.fillColor||c.color,o.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=c.opacity,o.lineWidth=c.weight,o.strokeStyle=c.color,o.lineCap=c.lineCap,o.lineJoin=c.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),c,h,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);this._fireEvent(h?[h]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(ot(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var c,h,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(u)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(o),h&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,c){this._map._fireDOMEvent(u,c||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var c=u.next,h=u.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var c=u.next,h=u.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function ky(o){return se.canvas?new Ly(o):null}var aa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jS={_initContainer:function(){this._container=Be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=aa("shape");Ce(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=aa("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[a(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;Je(u),o.removeInteractiveTarget(u),delete this._layers[a(o)]},_updateStyle:function(o){var u=o._stroke,c=o._fill,h=o.options,g=o._container;g.stroked=!!h.stroke,g.filled=!!h.fill,h.stroke?(u||(u=o._stroke=aa("stroke")),g.appendChild(u),u.weight=h.weight+"px",u.color=h.color,u.opacity=h.opacity,h.dashArray?u.dashStyle=k(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=h.lineCap.replace("butt","flat"),u.joinstyle=h.lineJoin):u&&(g.removeChild(u),o._stroke=null),h.fill?(c||(c=o._fill=aa("fill")),g.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(g.removeChild(c),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),c=Math.round(o._radius),h=Math.round(o._radiusY||c);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){xo(o._container)},_bringToBack:function(o){bo(o._container)}},fl=se.vml?aa:Te,ua=ur.extend({_initContainer:function(){this._container=fl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Je(this._container),Ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var o=this._bounds,u=o.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,c.setAttribute("width",u.x),c.setAttribute("height",u.y)),st(c,o.min),c.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=fl("path");o.options.className&&Ce(u,o.options.className),o.options.interactive&&Ce(u,"leaflet-interactive"),this._updateStyle(o),this._layers[a(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Je(o._path),o.removeInteractiveTarget(o._path),delete this._layers[a(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,c=o.options;u&&(c.stroke?(u.setAttribute("stroke",c.color),u.setAttribute("stroke-opacity",c.opacity),u.setAttribute("stroke-width",c.weight),u.setAttribute("stroke-linecap",c.lineCap),u.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?u.setAttribute("stroke-dasharray",c.dashArray):u.removeAttribute("stroke-dasharray"),c.dashOffset?u.setAttribute("stroke-dashoffset",c.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),c.fill?(u.setAttribute("fill",c.fillColor||c.color),u.setAttribute("fill-opacity",c.fillOpacity),u.setAttribute("fill-rule",c.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Qe(o._parts,u))},_updateCircle:function(o){var u=o._point,c=Math.max(Math.round(o._radius),1),h=Math.max(Math.round(o._radiusY),1)||c,g="a"+c+","+h+" 0 1,0 ",_=o._empty()?"M0 0":"M"+(u.x-c)+","+u.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(o,_)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){xo(o._path)},_bringToBack:function(o){bo(o._path)}});se.vml&&ua.include(jS);function Fy(o){return se.svg||se.vml?new ua(o):null}Le.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&ky(o)||Fy(o)}});var Vy=Mo.extend({initialize:function(o,u){Mo.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=X(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function BS(o,u){return new Vy(o,u)}ua.create=fl,ua.pointsToPath=Qe,ar.geometryToLayer=ol,ar.coordsToLatLng=sh,ar.coordsToLatLngs=sl,ar.latLngToCoords=ah,ar.latLngsToCoords=al,ar.getFeature=Io,ar.asFeature=ul,Le.mergeOptions({boxZoom:!0});var jy=Un.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Js(),zf(),this._startPoint=this._map.mouseEventToContainerPoint(o),ye(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Be("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new $(this._point,this._startPoint),c=u.getSize();st(this._box,u.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Je(this._box),ot(this._container,"leaflet-crosshair")),ea(),Hf(),Ge(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var u=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Le.addInitHook("addHandler","boxZoom",jy),Le.mergeOptions({doubleClickZoom:!0});var By=Un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,c=u.getZoom(),h=u.options.zoomDelta,g=o.originalEvent.shiftKey?c-h:c+h;u.options.doubleClickZoom==="center"?u.setZoom(g):u.setZoomAround(o.containerPoint,g)}});Le.addInitHook("addHandler","doubleClickZoom",By),Le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uy=Un.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ar(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ot(this._map._container,"leaflet-grab"),ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=X(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,g=(h-u+c)%o+u-c,_=(h+u+c)%o-u-c,E=Math.abs(g+c)<Math.abs(_+c)?g:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(o){var u=this._map,c=u.options,h=!c.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),h)u.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,E=c.easeLinearity,V=g.multiplyBy(E/_),z=V.distanceTo([0,0]),Z=Math.min(c.inertiaMaxSpeed,z),ee=V.multiplyBy(Z/z),de=Z/(c.inertiaDeceleration*E),Me=ee.multiplyBy(-de/2).round();!Me.x&&!Me.y?u.fire("moveend"):(Me=u._limitOffset(Me,u.options.maxBounds),M(function(){u.panBy(Me,{duration:de,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Le.addInitHook("addHandler","dragging",Uy),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $y=Un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ye(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,c=o.scrollTop||u.scrollTop,h=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},c=this.keyCodes,h,g;for(h=0,g=c.left.length;h<g;h++)u[c.left[h]]=[-1*o,0];for(h=0,g=c.right.length;h<g;h++)u[c.right[h]]=[o,0];for(h=0,g=c.down.length;h<g;h++)u[c.down[h]]=[0,o];for(h=0,g=c.up.length;h<g;h++)u[c.up[h]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},c=this.keyCodes,h,g;for(h=0,g=c.zoomIn.length;h<g;h++)u[c.zoomIn[h]]=o;for(h=0,g=c.zoomOut.length;h<g;h++)u[c.zoomOut[h]]=-o},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,c=this._map,h;if(u in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(h=this._panKeys[u],o.shiftKey&&(h=I(h).multiplyBy(3)),c.options.maxBounds&&(h=c._limitOffset(I(h),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(h)));c.panTo(g)}else c.panBy(h)}else if(u in this._zoomKeys)c.setZoom(c.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;wi(o)}}});Le.addInitHook("addHandler","keyboard",$y),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zy=Un.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=hy(o),c=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),h),wi(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),c=this._map.options.zoomSnap||0;o._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,_=c?Math.ceil(g/c)*c:g,E=o._limitZoom(u+(this._delta>0?_:-_))-u;this._delta=0,this._startTime=null,E&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+E):o.setZoomAround(this._lastMousePos,u+E))}});Le.addInitHook("addHandler","scrollWheelZoom",zy);var US=600;Le.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var Hy=Un.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new N(u.clientX,u.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",xt),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),US),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ge(document,"touchend",xt),Ge(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new N(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var c=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});c._simulated=!0,u.target.dispatchEvent(c)}});Le.addInitHook("addHandler","tapHold",Hy),Le.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var Gy=Un.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var c=u.mouseEventToContainerPoint(o.touches[0]),h=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),xt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,c=u.mouseEventToContainerPoint(o.touches[0]),h=u.mouseEventToContainerPoint(o.touches[1]),g=c.distanceTo(h)/this._startDist;if(this._zoom=u.getScaleZoom(g,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&g<1||this._zoom>u.getMaxZoom()&&g>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var _=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(g===1&&_.x===0&&_.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var E=i(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(E,this,!0),xt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Le.addInitHook("addHandler","touchZoom",Gy),Le.BoxZoom=jy,Le.DoubleClickZoom=By,Le.Drag=Uy,Le.Keyboard=$y,Le.ScrollWheelZoom=zy,Le.TapHold=Hy,Le.TouchZoom=Gy,e.Bounds=$,e.Browser=se,e.CRS=oe,e.Canvas=Ly,e.Circle=oh,e.CircleMarker=il,e.Class=A,e.Control=xn,e.DivIcon=Oy,e.DivOverlay=$n,e.DomEvent=oS,e.DomUtil=rS,e.Draggable=Ar,e.Evented=B,e.FeatureGroup=or,e.GeoJSON=ar,e.GridLayer=sa,e.Handler=Un,e.Icon=Eo,e.ImageOverlay=ll,e.LatLng=Y,e.LatLngBounds=q,e.Layer=bn,e.LayerGroup=Do,e.LineUtil=yS,e.Map=Le,e.Marker=rl,e.Mixin=fS,e.Path=Nr,e.Point=N,e.PolyUtil=hS,e.Polygon=Mo,e.Polyline=sr,e.Popup=cl,e.PosAnimation=py,e.Projection=_S,e.Rectangle=Vy,e.Renderer=ur,e.SVG=ua,e.SVGOverlay=Ny,e.TileLayer=So,e.Tooltip=dl,e.Transformation=be,e.Util=D,e.VideoOverlay=Ay,e.bind=i,e.bounds=G,e.canvas=ky,e.circle=IS,e.circleMarker=MS,e.control=ra,e.divIcon=kS,e.extend=r,e.featureGroup=bS,e.geoJSON=Ty,e.geoJson=AS,e.gridLayer=FS,e.icon=DS,e.imageOverlay=NS,e.latLng=K,e.latLngBounds=X,e.layerGroup=xS,e.map=sS,e.marker=ES,e.point=I,e.polygon=TS,e.polyline=SS,e.popup=RS,e.rectangle=BS,e.setOptions=y,e.stamp=a,e.svg=Fy,e.svgOverlay=PS,e.tileLayer=Py,e.tooltip=LS,e.transformation=Re,e.version=t,e.videoOverlay=OS;var $S=window.L;e.noConflict=function(){return window.L=$S,this},window.L=e})});var iM=Qt((QK,yf)=>{"use strict";(function(e){var t,r={};r.Constants={},r.Math={},r.Accumulator={},function(n){"use strict";n.WGS84={a:6378137,f:1/298.257223563},n.version={major:2,minor:0,patch:0},n.version_string="2.0.0"}(r.Constants),function(n){"use strict";n.digits=53,n.epsilon=Math.pow(.5,n.digits-1),n.degree=Math.PI/180,n.sq=function(i){return i*i},n.hypot=function(i,s){return Math.sqrt(i*i+s*s)},n.cbrt=Math.cbrt||function(i){var s=Math.pow(Math.abs(i),.3333333333333333);return i>0?s:i<0?-s:i},n.log1p=Math.log1p||function(i){var s=1+i,a=s-1;return a===0?i:i*Math.log(s)/a},n.atanh=Math.atanh||function(i){var s=Math.abs(i);return s=n.log1p(2*s/(1-s))/2,i>0?s:i<0?-s:i},n.copysign=function(i,s){return Math.abs(i)*(s<0||s===0&&1/s<0?-1:1)},n.sum=function(i,s){var a=i+s,l=a-s,d=a-l;return l-=i,{s:a,t:a&&0-(l+(d-=s))}},n.polyval=function(i,s,a,l){for(var d=i<0?0:s[a++];--i>=0;)d=d*l+s[a++];return d},n.AngRound=function(i){var s=.0625,a=Math.abs(i);return a=a<s?s-(s-a):a,n.copysign(a,i)},n.remainder=function(i,s){return(i%=s)<-s/2?i+s:i<s/2?i:i-s},n.AngNormalize=function(i){var s=n.remainder(i,360);return Math.abs(s)===180?n.copysign(180,i):s},n.LatFix=function(i){return Math.abs(i)>90?NaN:i},n.AngDiff=function(i,s){var a,l,d=n.sum(n.remainder(-i,360),n.remainder(s,360));return a=(d=n.sum(n.remainder(d.s,360),d.t)).s,l=d.t,a!==0&&Math.abs(a)!==180||(a=n.copysign(a,l===0?s-i:-l)),{d:a,e:l}},n.sincosd=function(i){var s,a,l,d,f,p;switch(s=i%360,s-=90*(a=Math.round(s/90)),s*=this.degree,l=Math.sin(s),d=Math.cos(s),3&a){case 0:f=l,p=d;break;case 1:f=d,p=-l;break;case 2:f=-l,p=-d;break;default:f=-d,p=l}return p+=0,f===0&&(f=n.copysign(f,i)),{s:f,c:p}},n.sincosde=function(i,s){var a,l,d,f,p,m;switch(a=i%360,l=Math.round(a/90),a=n.AngRound(a-90*l+s),a*=this.degree,d=Math.sin(a),f=Math.cos(a),3&l){case 0:p=d,m=f;break;case 1:p=f,m=-d;break;case 2:p=-d,m=-f;break;default:p=-f,m=d}return m+=0,p===0&&(p=n.copysign(p,i)),{s:p,c:m}},n.atan2d=function(i,s){var a,l=0;switch(Math.abs(i)>Math.abs(s)&&([i,s]=[s,i],l=2),n.copysign(1,s)<0&&(s=-s,++l),a=Math.atan2(i,s)/this.degree,l){case 1:a=n.copysign(180,i)-a;break;case 2:a=90-a;break;case 3:a=-90+a}return a}}(r.Math),function(n,i){"use strict";n.Accumulator=function(s){this.Set(s)},n.Accumulator.prototype.Set=function(s){s||(s=0),s.constructor===n.Accumulator?(this._s=s._s,this._t=s._t):(this._s=s,this._t=0)},n.Accumulator.prototype.Add=function(s){var a=i.sum(s,this._t),l=i.sum(a.s,this._s);a=a.t,this._s=l.s,this._t=l.t,this._s===0?this._s=a:this._t+=a},n.Accumulator.prototype.Sum=function(s){var a;return s?((a=new n.Accumulator(this)).Add(s),a._s):this._s},n.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1},n.Accumulator.prototype.Remainder=function(s){this._s=i.remainder(this._s,s),this.Add(0)}}(r.Accumulator,r.Math),r.Geodesic={},r.GeodesicLine={},r.PolygonArea={},function(n,i,s,a,l){"use strict";var d,f,p,m,v,y,w,C,x,k,j,b=20+a.digits+10,P=a.epsilon,O=200*P,F=Math.sqrt(P),H=P*O,W=1e3*F;n.tiny_=Math.sqrt(Number.MIN_VALUE/Number.EPSILON),n.nC1_=6,n.nC1p_=6,n.nC2_=6,n.nC3_=6,n.nC4_=6,d=n.nC3_*(n.nC3_-1)/2,f=n.nC4_*(n.nC4_+1)/2,n.CAP_C1=1,n.CAP_C1p=2,n.CAP_C2=4,n.CAP_C3=8,n.CAP_C4=16,n.NONE=0,n.ARC=64,n.LATITUDE=128,n.LONGITUDE=256|n.CAP_C3,n.AZIMUTH=512,n.DISTANCE=1024|n.CAP_C1,n.STANDARD=n.LATITUDE|n.LONGITUDE|n.AZIMUTH|n.DISTANCE,n.DISTANCE_IN=2048|n.CAP_C1|n.CAP_C1p,n.REDUCEDLENGTH=4096|n.CAP_C1|n.CAP_C2,n.GEODESICSCALE=8192|n.CAP_C1|n.CAP_C2,n.AREA=16384|n.CAP_C4,n.ALL=32671,n.LONG_UNROLL=32768,n.OUT_MASK=32640|n.LONG_UNROLL,n.SinCosSeries=function(M,R,D,A){var S=A.length,T=S-(M?1:0),B=2*(D-R)*(D+R),N=1&T?A[--S]:0,U=0;for(T=Math.floor(T/2);T--;)N=B*(U=B*N-U+A[--S])-N+A[--S];return M?2*R*D*N:D*(N-U)},p=function(M,R){var D,A,S,T,B,N,U,I,$,G,q,X,Y=a.sq(M),K=a.sq(R),oe=(Y+K-1)/6;return K===0&&oe<=0?D=0:(N=oe,(B=(A=Y*K/4)*(A+2*(T=oe*(S=a.sq(oe)))))>=0?(U=A+T,U+=U<0?-Math.sqrt(B):Math.sqrt(B),N+=(I=a.cbrt(U))+(I!==0?S/I:0)):($=Math.atan2(Math.sqrt(-B),-(A+T)),N+=2*oe*Math.cos($/3)),G=Math.sqrt(a.sq(N)+K),X=((q=N<0?K/(G-N):N+G)-K)/(2*G),D=q/(Math.sqrt(q+a.sq(X))+X)),D},m=[1,4,64,0,256],n.A1m1f=function(M){var R=Math.floor(3);return(a.polyval(R,m,0,a.sq(M))/m[R+1]+M)/(1-M)},v=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],n.C1f=function(M,R){var D,A,S=a.sq(M),T=M,B=0;for(D=1;D<=n.nC1_;++D)A=Math.floor((n.nC1_-D)/2),R[D]=T*a.polyval(A,v,B,S)/v[B+A+1],B+=A+2,T*=M},y=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],n.C1pf=function(M,R){var D,A,S=a.sq(M),T=M,B=0;for(D=1;D<=n.nC1p_;++D)A=Math.floor((n.nC1p_-D)/2),R[D]=T*a.polyval(A,y,B,S)/y[B+A+1],B+=A+2,T*=M},w=[-11,-28,-192,0,256],n.A2m1f=function(M){var R=Math.floor(3);return(a.polyval(R,w,0,a.sq(M))/w[R+1]-M)/(1+M)},C=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],n.C2f=function(M,R){var D,A,S=a.sq(M),T=M,B=0;for(D=1;D<=n.nC2_;++D)A=Math.floor((n.nC2_-D)/2),R[D]=T*a.polyval(A,C,B,S)/C[B+A+1],B+=A+2,T*=M},n.Geodesic=function(M,R){if(this.a=M,this.f=R,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/a.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(a.sq(this.a)+a.sq(this._b)*(this._e2===0?1:(this._e2>0?a.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*F/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(6),this._C3x=new Array(d),this._C4x=new Array(f),this.A3coeff(),this.C3coeff(),this.C4coeff()},x=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],n.Geodesic.prototype.A3coeff=function(){var M,R,D=0,A=0;for(M=5;M>=0;--M)R=Math.min(6-M-1,M),this._A3x[A++]=a.polyval(R,x,D,this._n)/x[D+R+1],D+=R+2},k=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],n.Geodesic.prototype.C3coeff=function(){var M,R,D,A=0,S=0;for(M=1;M<n.nC3_;++M)for(R=n.nC3_-1;R>=M;--R)D=Math.min(n.nC3_-R-1,R),this._C3x[S++]=a.polyval(D,k,A,this._n)/k[A+D+1],A+=D+2},j=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],n.Geodesic.prototype.C4coeff=function(){var M,R,D,A=0,S=0;for(M=0;M<n.nC4_;++M)for(R=n.nC4_-1;R>=M;--R)D=n.nC4_-R-1,this._C4x[S++]=a.polyval(D,j,A,this._n)/j[A+D+1],A+=D+2},n.Geodesic.prototype.A3f=function(M){return a.polyval(5,this._A3x,0,M)},n.Geodesic.prototype.C3f=function(M,R){var D,A,S=1,T=0;for(D=1;D<n.nC3_;++D)A=n.nC3_-D-1,S*=M,R[D]=S*a.polyval(A,this._C3x,T,M),T+=A+1},n.Geodesic.prototype.C4f=function(M,R){var D,A,S=1,T=0;for(D=0;D<n.nC4_;++D)A=n.nC4_-D-1,R[D]=S*a.polyval(A,this._C4x,T,M),T+=A+1,S*=M},n.Geodesic.prototype.Lengths=function(M,R,D,A,S,T,B,N,U,I,$,G,q){var X,Y,K,oe,ge={},Fe=0,Ne=0,be=0,Re=0;if(($&=n.OUT_MASK)&(n.DISTANCE|n.REDUCEDLENGTH|n.GEODESICSCALE)&&(be=n.A1m1f(M),n.C1f(M,G),$&(n.REDUCEDLENGTH|n.GEODESICSCALE)&&(Re=n.A2m1f(M),n.C2f(M,q),Fe=be-Re,Re=1+Re),be=1+be),$&n.DISTANCE)X=n.SinCosSeries(!0,T,B,G)-n.SinCosSeries(!0,D,A,G),ge.s12b=be*(R+X),$&(n.REDUCEDLENGTH|n.GEODESICSCALE)&&(Ne=Fe*R+(be*X-Re*(n.SinCosSeries(!0,T,B,q)-n.SinCosSeries(!0,D,A,q))));else if($&(n.REDUCEDLENGTH|n.GEODESICSCALE)){for(Y=1;Y<=n.nC2_;++Y)q[Y]=be*G[Y]-Re*q[Y];Ne=Fe*R+(n.SinCosSeries(!0,T,B,q)-n.SinCosSeries(!0,D,A,q))}return $&n.REDUCEDLENGTH&&(ge.m0=Fe,ge.m12b=N*(A*T)-S*(D*B)-A*B*Ne),$&n.GEODESICSCALE&&(K=A*B+D*T,oe=this._ep2*(U-I)*(U+I)/(S+N),ge.M12=K+(oe*T-B*Ne)*D/S,ge.M21=K-(oe*D-A*Ne)*T/N),ge},n.Geodesic.prototype.InverseStart=function(M,R,D,A,S,T,B,N,U,I,$){var G,q,X,Y,K,oe,ge,Fe,Ne,be,Re,De,Ee,Te,Qe,nt,te,Nt,fn,Ot,ne={},it=A*R-S*M,Ct=S*R+A*M;return ne.sig12=-1,G=A*R,G+=S*M,(q=Ct>=0&&it<.5&&S*B<.5)?(Y=a.sq(M+A),Y/=Y+a.sq(R+S),ne.dnm=Math.sqrt(1+this._ep2*Y),X=B/(this._f1*ne.dnm),K=Math.sin(X),oe=Math.cos(X)):(K=N,oe=U),ne.salp1=S*K,ne.calp1=oe>=0?it+S*M*a.sq(K)/(1+oe):G-S*M*a.sq(K)/(1-oe),Fe=a.hypot(ne.salp1,ne.calp1),Ne=M*A+R*S*oe,q&&Fe<this._etol2?(ne.salp2=R*K,ne.calp2=it-R*A*(oe>=0?a.sq(K)/(1+oe):1-oe),ge=a.hypot(ne.salp2,ne.calp2),ne.salp2/=ge,ne.calp2/=ge,ne.sig12=Math.atan2(Fe,Ne)):Math.abs(this._n)>.1||Ne>=0||Fe>=6*Math.abs(this._n)*Math.PI*a.sq(R)||(Ot=Math.atan2(-N,-U),this.f>=0?(Te=(Ee=a.sq(M)*this._ep2)/(2*(1+Math.sqrt(1+Ee))+Ee),be=Ot/(De=this.f*R*this.A3f(Te)*Math.PI),Re=G/(De*R)):(Qe=S*R-A*M,nt=Math.atan2(G,Qe),Re=B/(De=((be=(te=this.Lengths(this._n,Math.PI+nt,M,-R,D,A,S,T,R,S,n.REDUCEDLENGTH,I,$)).m12b/(R*S*te.m0*Math.PI)-1)<-.01?G/be:-this.f*a.sq(R)*Math.PI)/R)),Re>-O&&be>-1-W?this.f>=0?(ne.salp1=Math.min(1,-be),ne.calp1=-Math.sqrt(1-a.sq(ne.salp1))):(ne.calp1=Math.max(be>-O?0:-1,be),ne.salp1=Math.sqrt(1-a.sq(ne.calp1))):(Nt=p(be,Re),fn=De*(this.f>=0?-be*Nt/(1+Nt):-Re*(1+Nt)/Nt),K=Math.sin(fn),oe=-Math.cos(fn),ne.salp1=S*K,ne.calp1=G-S*M*a.sq(K)/(1-oe))),ne.salp1<=0?(ne.salp1=1,ne.calp1=0):(ge=a.hypot(ne.salp1,ne.calp1),ne.salp1/=ge,ne.calp1/=ge),ne},n.Geodesic.prototype.Lambda12=function(M,R,D,A,S,T,B,N,U,I,$,G,q,X){var Y,K,oe,ge,Fe,Ne,be,Re,De,Ee,Te,Qe,nt,te={};return M===0&&N===0&&(N=-n.tiny_),K=B*R,oe=a.hypot(N,B*M),te.ssig1=M,ge=K*M,te.csig1=Fe=N*R,Y=a.hypot(te.ssig1,te.csig1),te.ssig1/=Y,te.csig1/=Y,te.salp2=S!==R?K/S:B,te.calp2=S!==R||Math.abs(A)!==-M?Math.sqrt(a.sq(N*R)+(R<-M?(S-R)*(R+S):(M-A)*(M+A)))/S:Math.abs(N),te.ssig2=A,Ne=K*A,te.csig2=be=te.calp2*S,Y=a.hypot(te.ssig2,te.csig2),te.ssig2/=Y,te.csig2/=Y,te.sig12=Math.atan2(Math.max(0,te.csig1*te.ssig2-te.ssig1*te.csig2),te.csig1*te.csig2+te.ssig1*te.ssig2),Re=Math.max(0,Fe*Ne-ge*be),De=Fe*be+ge*Ne,Te=Math.atan2(Re*I-De*U,De*I+Re*U),Qe=a.sq(oe)*this._ep2,te.eps=Qe/(2*(1+Math.sqrt(1+Qe))+Qe),this.C3f(te.eps,X),Ee=n.SinCosSeries(!0,te.ssig2,te.csig2,X)-n.SinCosSeries(!0,te.ssig1,te.csig1,X),te.domg12=-this.f*this.A3f(te.eps)*K*(te.sig12+Ee),te.lam12=Te+te.domg12,$&&(te.calp2===0?te.dlam12=-2*this._f1*D/M:(nt=this.Lengths(te.eps,te.sig12,te.ssig1,te.csig1,D,te.ssig2,te.csig2,T,R,S,n.REDUCEDLENGTH,G,q),te.dlam12=nt.m12b,te.dlam12*=this._f1/(te.calp2*S))),te},n.Geodesic.prototype.Inverse=function(M,R,D,A,S){var T,B;return S||(S=n.STANDARD),S===n.LONG_UNROLL&&(S|=n.STANDARD),S&=n.OUT_MASK,B=(T=this.InverseInt(M,R,D,A,S)).vals,S&n.AZIMUTH&&(B.azi1=a.atan2d(T.salp1,T.calp1),B.azi2=a.atan2d(T.salp2,T.calp2)),B},n.Geodesic.prototype.InverseInt=function(M,R,D,A,S){var T,B,N,U,I,$,G,q,X,Y,K,oe,ge,Fe,Ne,be,Re,De,Ee,Te,Qe,nt,te,Nt,fn,Ot,ne,it,Ct,hn,$t,di,fi,Mr,jn,Ir,hi,Sr,ir,pi,zs,pn,Hs,po,mo,Gs,qs,qu,Ws,Zs,Ys,Ks,Wu,Tr,Zu,Yu,mi,go,Pt,se,vo,yo,gi,_o,wo,Ve={};if(Ve.lat1=M=a.LatFix(M),Ve.lat2=D=a.LatFix(D),M=a.AngRound(M),D=a.AngRound(D),B=(T=a.AngDiff(R,A)).e,T=T.d,S&n.LONG_UNROLL?(Ve.lon1=R,Ve.lon2=R+T+B):(Ve.lon1=a.AngNormalize(R),Ve.lon2=a.AngNormalize(A)),B*=N=a.copysign(1,T),Ne=(T*=N)*a.degree,be=(U=a.sincosde(T,B)).s,Re=U.c,B=180-T-B,(I=Math.abs(M)<Math.abs(D)||isNaN(D)?-1:1)<0&&(N*=-1,[D,M]=[M,D]),M*=$=a.copysign(1,-M),D*=$,U=a.sincosd(M),G=this._f1*U.s,q=U.c,G/=U=a.hypot(G,q),q/=U,q=Math.max(n.tiny_,q),U=a.sincosd(D),X=this._f1*U.s,Y=U.c,X/=U=a.hypot(X,Y),Y/=U,Y=Math.max(n.tiny_,Y),q<-G?Y===q&&(X=a.copysign(G,X)):Math.abs(X)===-G&&(Y=q),ge=Math.sqrt(1+this._ep2*a.sq(G)),Fe=Math.sqrt(1+this._ep2*a.sq(X)),te=new Array(n.nC1_+1),Nt=new Array(n.nC2_+1),fn=new Array(n.nC3_),(Ot=M===-90||be===0)&&(Te=be,nt=0,it=G,Ct=(Ee=Re)*q,hn=X,$t=(Qe=1)*Y,De=Math.atan2(Math.max(0,Ct*hn-it*$t),Ct*$t+it*hn),K=(ne=this.Lengths(this._n,De,it,Ct,ge,hn,$t,Fe,q,Y,S|n.DISTANCE|n.REDUCEDLENGTH,te,Nt)).s12b,oe=ne.m12b,S&n.GEODESICSCALE&&(Ve.M12=ne.M12,Ve.M21=ne.M21),De<1||oe>=0?((De<3*n.tiny_||De<P&&(K<0||oe<0))&&(De=oe=K=0),oe*=this._b,K*=this._b,Ve.a12=De/a.degree):Ot=!1),mi=2,!Ot&&G===0&&(this.f<=0||B>=180*this.f))Ee=Qe=0,Te=nt=1,K=this.a*Ne,De=fi=Ne/this._f1,oe=this._b*Math.sin(De),S&n.GEODESICSCALE&&(Ve.M12=Ve.M21=Math.cos(De)),Ve.a12=T/this._f1;else if(!Ot)if(De=(ne=this.InverseStart(G,q,ge,X,Y,Fe,Ne,be,Re,te,Nt)).sig12,Te=ne.salp1,Ee=ne.calp1,De>=0)nt=ne.salp2,Qe=ne.calp2,Mr=ne.dnm,K=De*this._b*Mr,oe=a.sq(Mr)*this._b*Math.sin(De/Mr),S&n.GEODESICSCALE&&(Ve.M12=Ve.M21=Math.cos(De/Mr)),Ve.a12=De/a.degree,fi=Ne/(this._f1*Mr);else{for(jn=0,Ir=n.tiny_,hi=1,Sr=n.tiny_,ir=-1,pi=!1,zs=!1;jn<b&&(pn=(ne=this.Lambda12(G,q,ge,X,Y,Fe,Te,Ee,be,Re,jn<20,te,Nt,fn)).lam12,nt=ne.salp2,Qe=ne.calp2,De=ne.sig12,it=ne.ssig1,Ct=ne.csig1,hn=ne.ssig2,$t=ne.csig2,di=ne.eps,Pt=ne.domg12,Hs=ne.dlam12,!zs&&Math.abs(pn)>=(pi?8:1)*P);++jn)pn>0&&(jn<20||Ee/Te>ir/Sr)?(Sr=Te,ir=Ee):pn<0&&(jn<20||Ee/Te<hi/Ir)&&(Ir=Te,hi=Ee),jn<20&&Hs>0&&(po=-pn/Hs,mo=Math.sin(po),(qs=Te*(Gs=Math.cos(po))+Ee*mo)>0&&Math.abs(po)<Math.PI)?(Ee=Ee*Gs-Te*mo,Te=qs,Te/=U=a.hypot(Te,Ee),Ee/=U,pi=Math.abs(pn)<=16*P):(Te=(Ir+Sr)/2,Ee=(hi+ir)/2,Te/=U=a.hypot(Te,Ee),Ee/=U,pi=!1,zs=Math.abs(Ir-Te)+(hi-Ee)<H||Math.abs(Te-Sr)+(Ee-ir)<H);qu=S|(S&(n.REDUCEDLENGTH|n.GEODESICSCALE)?n.DISTANCE:n.NONE),K=(ne=this.Lengths(di,De,it,Ct,ge,hn,$t,Fe,q,Y,qu,te,Nt)).s12b,oe=ne.m12b,S&n.GEODESICSCALE&&(Ve.M12=ne.M12,Ve.M21=ne.M21),oe*=this._b,K*=this._b,Ve.a12=De/a.degree,S&n.AREA&&(_o=Math.sin(Pt),mi=be*(wo=Math.cos(Pt))-Re*_o,go=Re*wo+be*_o)}return S&n.DISTANCE&&(Ve.s12=0+K),S&n.REDUCEDLENGTH&&(Ve.m12=0+oe),S&n.AREA&&(Ws=Te*q,(Zs=a.hypot(Ee,Te*G))!==0&&Ws!==0?(it=G,Ct=Ee*q,hn=X,$t=Qe*Y,di=(Ks=a.sq(Zs)*this._ep2)/(2*(1+Math.sqrt(1+Ks))+Ks),Wu=a.sq(this.a)*Zs*Ws*this._e2,it/=U=a.hypot(it,Ct),Ct/=U,hn/=U=a.hypot(hn,$t),$t/=U,Tr=new Array(n.nC4_),this.C4f(di,Tr),Zu=n.SinCosSeries(!1,it,Ct,Tr),Yu=n.SinCosSeries(!1,hn,$t,Tr),Ve.S12=Wu*(Yu-Zu)):Ve.S12=0,Ot||mi!=2||(mi=Math.sin(fi),go=Math.cos(fi)),!Ot&&go>-.7071&&X-G<1.75?(Pt=1+go,se=1+q,vo=1+Y,Ys=2*Math.atan2(mi*(G*vo+X*se),Pt*(G*X+se*vo))):(gi=Qe*Ee+nt*Te,(yo=nt*Ee-Qe*Te)===0&&gi<0&&(yo=n.tiny_*Ee,gi=-1),Ys=Math.atan2(yo,gi)),Ve.S12+=this._c2*Ys,Ve.S12*=I*N*$,Ve.S12+=0),I<0&&([nt,Te]=[Te,nt],[Qe,Ee]=[Ee,Qe],S&n.GEODESICSCALE&&([Ve.M21,Ve.M12]=[Ve.M12,Ve.M21])),{vals:Ve,salp1:Te*=I*N,calp1:Ee*=I*$,salp2:nt*=I*N,calp2:Qe*=I*$}},n.Geodesic.prototype.GenDirect=function(M,R,D,A,S,T){return T?T===n.LONG_UNROLL&&(T|=n.STANDARD):T=n.STANDARD,A||(T|=n.DISTANCE_IN),new i.GeodesicLine(this,M,R,D,T).GenPosition(A,S,T)},n.Geodesic.prototype.Direct=function(M,R,D,A,S){return this.GenDirect(M,R,D,!1,A,S)},n.Geodesic.prototype.ArcDirect=function(M,R,D,A,S){return this.GenDirect(M,R,D,!0,A,S)},n.Geodesic.prototype.Line=function(M,R,D,A){return new i.GeodesicLine(this,M,R,D,A)},n.Geodesic.prototype.DirectLine=function(M,R,D,A,S){return this.GenDirectLine(M,R,D,!1,A,S)},n.Geodesic.prototype.ArcDirectLine=function(M,R,D,A,S){return this.GenDirectLine(M,R,D,!0,A,S)},n.Geodesic.prototype.GenDirectLine=function(M,R,D,A,S,T){var B;return T||(T=n.STANDARD|n.DISTANCE_IN),A||(T|=n.DISTANCE_IN),(B=new i.GeodesicLine(this,M,R,D,T)).GenSetDistance(A,S),B},n.Geodesic.prototype.InverseLine=function(M,R,D,A,S){var T,B,N;return S||(S=n.STANDARD|n.DISTANCE_IN),T=this.InverseInt(M,R,D,A,n.ARC),N=a.atan2d(T.salp1,T.calp1),S&n.OUT_MASK&n.DISTANCE_IN&&(S|=n.DISTANCE),(B=new i.GeodesicLine(this,M,R,N,S,T.salp1,T.calp1)).SetArc(T.vals.a12),B},n.Geodesic.prototype.Polygon=function(M){return new s.PolygonArea(this,M)},n.WGS84=new n.Geodesic(l.WGS84.a,l.WGS84.f)}(r.Geodesic,r.GeodesicLine,r.PolygonArea,r.Math,r.Constants),function(n,i,s){"use strict";i.GeodesicLine=function(a,l,d,f,p,m,v){var y,w,C,x,k,j;p||(p=n.STANDARD|n.DISTANCE_IN),this.a=a.a,this.f=a.f,this._b=a._b,this._c2=a._c2,this._f1=a._f1,this.caps=p|n.LATITUDE|n.AZIMUTH|n.LONG_UNROLL,this.lat1=s.LatFix(l),this.lon1=d,m===void 0||v===void 0?(this.azi1=s.AngNormalize(f),y=s.sincosd(s.AngRound(this.azi1)),this.salp1=y.s,this.calp1=y.c):(this.azi1=f,this.salp1=m,this.calp1=v),y=s.sincosd(s.AngRound(this.lat1)),C=this._f1*y.s,w=y.c,C/=y=s.hypot(C,w),w/=y,w=Math.max(n.tiny_,w),this._dn1=Math.sqrt(1+a._ep2*s.sq(C)),this._salp0=this.salp1*w,this._calp0=s.hypot(this.calp1,this.salp1*C),this._ssig1=C,this._somg1=this._salp0*C,this._csig1=this._comg1=C!==0||this.calp1!==0?w*this.calp1:1,y=s.hypot(this._ssig1,this._csig1),this._ssig1/=y,this._csig1/=y,this._k2=s.sq(this._calp0)*a._ep2,x=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&n.CAP_C1&&(this._A1m1=n.A1m1f(x),this._C1a=new Array(n.nC1_+1),n.C1f(x,this._C1a),this._B11=n.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),k=Math.sin(this._B11),j=Math.cos(this._B11),this._stau1=this._ssig1*j+this._csig1*k,this._ctau1=this._csig1*j-this._ssig1*k),this.caps&n.CAP_C1p&&(this._C1pa=new Array(n.nC1p_+1),n.C1pf(x,this._C1pa)),this.caps&n.CAP_C2&&(this._A2m1=n.A2m1f(x),this._C2a=new Array(n.nC2_+1),n.C2f(x,this._C2a),this._B21=n.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&n.CAP_C3&&(this._C3a=new Array(n.nC3_),a.C3f(x,this._C3a),this._A3c=-this.f*this._salp0*a.A3f(x),this._B31=n.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&n.CAP_C4&&(this._C4a=new Array(n.nC4_),a.C4f(x,this._C4a),this._A4=s.sq(this.a)*this._calp0*this._salp0*a._e2,this._B41=n.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=NaN},i.GeodesicLine.prototype.GenPosition=function(a,l,d){var f,p,m,v,y,w,C,x,k,j,b,P,O,F,H,W,M,R,D,A,S,T,B,N,U,I,$={};return d?d===n.LONG_UNROLL&&(d|=n.STANDARD):d=n.STANDARD,d&=this.caps&n.OUT_MASK,$.lat1=this.lat1,$.azi1=this.azi1,$.lon1=d&n.LONG_UNROLL?this.lon1:s.AngNormalize(this.lon1),a?$.a12=l:$.s12=l,a||this.caps&n.DISTANCE_IN&n.OUT_MASK?(v=0,y=0,a?(f=l*s.degree,p=(B=s.sincosd(l)).s,m=B.c):(x=l/(this._b*(1+this._A1m1)),k=Math.sin(x),j=Math.cos(x),f=x-((v=-n.SinCosSeries(!0,this._stau1*j+this._ctau1*k,this._ctau1*j-this._stau1*k,this._C1pa))-this._B11),p=Math.sin(f),m=Math.cos(f),Math.abs(this.f)>.01&&(w=this._ssig1*m+this._csig1*p,C=this._csig1*m-this._ssig1*p,v=n.SinCosSeries(!0,w,C,this._C1a),f-=((1+this._A1m1)*(f+(v-this._B11))-l/this._b)/Math.sqrt(1+this._k2*s.sq(w)),p=Math.sin(f),m=Math.cos(f))),w=this._ssig1*m+this._csig1*p,C=this._csig1*m-this._ssig1*p,D=Math.sqrt(1+this._k2*s.sq(w)),d&(n.DISTANCE|n.REDUCEDLENGTH|n.GEODESICSCALE)&&((a||Math.abs(this.f)>.01)&&(v=n.SinCosSeries(!0,w,C,this._C1a)),y=(1+this._A1m1)*(v-this._B11)),O=this._calp0*w,(F=s.hypot(this._salp0,this._calp0*C))===0&&(F=C=n.tiny_),M=this._salp0,R=this._calp0*C,a&&d&n.DISTANCE&&($.s12=this._b*((1+this._A1m1)*f+y)),d&n.LONGITUDE&&(H=this._salp0*w,W=C,P=s.copysign(1,this._salp0),b=((d&n.LONG_UNROLL?P*(f-(Math.atan2(w,C)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(P*H,W)-Math.atan2(P*this._somg1,this._comg1))):Math.atan2(H*this._comg1-W*this._somg1,W*this._comg1+H*this._somg1))+this._A3c*(f+(n.SinCosSeries(!0,w,C,this._C3a)-this._B31)))/s.degree,$.lon2=d&n.LONG_UNROLL?this.lon1+b:s.AngNormalize(s.AngNormalize(this.lon1)+s.AngNormalize(b))),d&n.LATITUDE&&($.lat2=s.atan2d(O,this._f1*F)),d&n.AZIMUTH&&($.azi2=s.atan2d(M,R)),d&(n.REDUCEDLENGTH|n.GEODESICSCALE)&&(A=n.SinCosSeries(!0,w,C,this._C2a),S=(1+this._A2m1)*(A-this._B21),T=(this._A1m1-this._A2m1)*f+(y-S),d&n.REDUCEDLENGTH&&($.m12=this._b*(D*(this._csig1*w)-this._dn1*(this._ssig1*C)-this._csig1*C*T)),d&n.GEODESICSCALE&&(B=this._k2*(w-this._ssig1)*(w+this._ssig1)/(this._dn1+D),$.M12=m+(B*w-C*T)*this._ssig1/this._dn1,$.M21=m-(B*this._ssig1-this._csig1*T)*w/D)),d&n.AREA&&(N=n.SinCosSeries(!1,w,C,this._C4a),this._calp0===0||this._salp0===0?(U=M*this.calp1-R*this.salp1,I=R*this.calp1+M*this.salp1):(U=this._calp0*this._salp0*(m<=0?this._csig1*(1-m)+p*this._ssig1:p*(this._csig1*p/(1+m)+this._ssig1)),I=s.sq(this._salp0)+s.sq(this._calp0)*this._csig1*C),$.S12=this._c2*Math.atan2(U,I)+this._A4*(N-this._B41)),a||($.a12=f/s.degree),$):($.a12=NaN,$)},i.GeodesicLine.prototype.Position=function(a,l){return this.GenPosition(!1,a,l)},i.GeodesicLine.prototype.ArcPosition=function(a,l){return this.GenPosition(!0,a,l)},i.GeodesicLine.prototype.GenSetDistance=function(a,l){a?this.SetArc(l):this.SetDistance(l)},i.GeodesicLine.prototype.SetDistance=function(a){var l;this.s13=a,l=this.GenPosition(!1,this.s13,n.ARC),this.a13=0+l.a12},i.GeodesicLine.prototype.SetArc=function(a){var l;this.a13=a,l=this.GenPosition(!0,this.a13,n.DISTANCE),this.s13=0+l.s12}}(r.Geodesic,r.GeodesicLine,r.Math),function(n,i,s,a){"use strict";var l,d,f,p;l=function(m,v){var y=s.AngDiff(m,v).d;return m=s.AngNormalize(m),v=s.AngNormalize(v),y>0&&(m<0&&v>=0||m>0&&v===0)?1:y<0&&m>=0&&v<0?-1:0},d=function(m,v){return(0<=(v%=720)&&v<360||v<-360?0:1)-(0<=(m%=720)&&m<360||m<-360?0:1)},f=function(m,v,y,w,C){return m.Remainder(v),1&y&&m.Add((m.Sum()<0?1:-1)*v/2),w||m.Negate(),C?m.Sum()>v/2?m.Add(-v):m.Sum()<=-v/2&&m.Add(+v):m.Sum()>=v?m.Add(-v):m.Sum()<0&&m.Add(+v),0+m.Sum()},p=function(m,v,y,w,C){return m=s.remainder(m,v),1&y&&(m+=(m<0?1:-1)*v/2),w||(m*=-1),C?m>v/2?m-=v:m<=-v/2&&(m+=v):m>=v?m-=v:m<0&&(m+=v),0+m},n.PolygonArea=function(m,v){this._geod=m,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*m._c2,this.polyline=v||!1,this._mask=i.LATITUDE|i.LONGITUDE|i.DISTANCE|(this.polyline?i.NONE:i.AREA|i.LONG_UNROLL),this.polyline||(this._areasum=new a.Accumulator(0)),this._perimetersum=new a.Accumulator(0),this.Clear()},n.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=NaN},n.PolygonArea.prototype.AddPoint=function(m,v){var y;this.num===0?(this._lat0=this.lat=m,this._lon0=this.lon=v):(y=this._geod.Inverse(this.lat,this.lon,m,v,this._mask),this._perimetersum.Add(y.s12),this.polyline||(this._areasum.Add(y.S12),this._crossings+=l(this.lon,v)),this.lat=m,this.lon=v),++this.num},n.PolygonArea.prototype.AddEdge=function(m,v){var y;this.num&&(y=this._geod.Direct(this.lat,this.lon,m,v,this._mask),this._perimetersum.Add(v),this.polyline||(this._areasum.Add(y.S12),this._crossings+=d(this.lon,y.lon2)),this.lat=y.lat2,this.lon=y.lon2),++this.num},n.PolygonArea.prototype.Compute=function(m,v){var y,w,C={number:this.num};return this.num<2?(C.perimeter=0,this.polyline||(C.area=0),C):this.polyline?(C.perimeter=this._perimetersum.Sum(),C):(y=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),C.perimeter=this._perimetersum.Sum(y.s12),(w=new a.Accumulator(this._areasum)).Add(y.S12),C.area=f(w,this._area0,this._crossings+l(this.lon,this._lon0),m,v),C)},n.PolygonArea.prototype.TestPoint=function(m,v,y,w){var C,x,k,j,b={number:this.num+1};if(this.num===0)return b.perimeter=0,this.polyline||(b.area=0),b;for(b.perimeter=this._perimetersum.Sum(),x=this.polyline?0:this._areasum.Sum(),k=this._crossings,j=0;j<(this.polyline?1:2);++j)C=this._geod.Inverse(j===0?this.lat:m,j===0?this.lon:v,j!==0?this._lat0:m,j!==0?this._lon0:v,this._mask),b.perimeter+=C.s12,this.polyline||(x+=C.S12,k+=l(j===0?this.lon:v,j!==0?this._lon0:v));return this.polyline||(b.area=p(x,this._area0,k,y,w)),b},n.PolygonArea.prototype.TestEdge=function(m,v,y,w){var C,x,k,j={number:this.num?this.num+1:0};return this.num===0||(j.perimeter=this._perimetersum.Sum()+v,this.polyline||(x=this._areasum.Sum(),k=this._crossings,x+=(C=this._geod.Direct(this.lat,this.lon,m,v,this._mask)).S12,k+=d(this.lon,C.lon2),k+=l(C.lon2,this._lon0),C=this._geod.Inverse(C.lat2,C.lon2,this._lat0,this._lon0,this._mask),j.perimeter+=C.s12,x+=C.S12,j.area=p(x,this._area0,k,y,w))),j}}(r.PolygonArea,r.Geodesic,r.Math,r.Accumulator),t=r,typeof yf=="object"&&yf.exports?yf.exports=t:typeof define=="function"&&define.amd?define("geographiclib-geodesic",[],function(){return t}):window.geodesic=t})()});var oM=Qt((JK,Uv)=>{"use strict";function Vj(e,t,r){var n=!1;if(typeof window.XMLHttpRequest>"u")return t(Error("Browser not supported"));if(typeof r>"u"){var i=e.match(/^\s*https?:\/\/[^\/]*/);r=i&&i[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}var s=new window.XMLHttpRequest;function a(f){return f>=200&&f<300||f===304}if(r&&!("withCredentials"in s)){s=new window.XDomainRequest;var l=t;t=function(){if(n)l.apply(this,arguments);else{var f=this,p=arguments;setTimeout(function(){l.apply(f,p)},0)}}}function d(){s.status===void 0||a(s.status)?t.call(s,null,s):t.call(s,s,null)}return"onload"in s?s.onload=d:s.onreadystatechange=function(){s.readyState===4&&d()},s.onerror=function(p){t.call(this,p||!0,null),t=function(){}},s.onprogress=function(){},s.ontimeout=function(f){t.call(this,f,null),t=function(){}},s.onabort=function(f){t.call(this,f,null),t=function(){}},s.open("GET",e,!0),s.send(null),n=!0,s}typeof Uv<"u"&&(Uv.exports=Vj)});function sM(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+"]"}).join(",")+"}")}function jj(e,t){var r=sM(e);return function(n,i){return t(r(n),i,e)}}function Bj(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Os(e){var t=new RegExp('["'+e+`
]`),r=e.charCodeAt(0);function n(f,p){var m,v,y=i(f,function(w,C){if(m)return m(w,C-1);v=w,m=p?jj(w,p):sM(w)});return y.columns=v,y}function i(f,p){var m={},v={},y=[],w=f.length,C=0,x=0,k,j;function b(){if(C>=w)return v;if(j)return j=!1,m;var O=C,F;if(f.charCodeAt(O)===34){for(var H=O;H++<w;)if(f.charCodeAt(H)===34){if(f.charCodeAt(H+1)!==34)break;++H}return C=H+2,F=f.charCodeAt(H+1),F===13?(j=!0,f.charCodeAt(H+2)===10&&++C):F===10&&(j=!0),f.slice(O+1,H).replace(/""/g,'"')}for(;C<w;){var W=1;if(F=f.charCodeAt(C++),F===10)j=!0;else if(F===13)j=!0,f.charCodeAt(C)===10&&(++C,++W);else if(F!==r)continue;return f.slice(O,C-W)}return f.slice(O)}for(;(k=b())!==v;){for(var P=[];k!==m&&k!==v;)P.push(k),k=b();p&&(P=p(P,x++))==null||y.push(P)}return y}function s(f,p){return p==null&&(p=Bj(f)),[p.map(d).join(e)].concat(f.map(function(m){return p.map(function(v){return d(m[v])}).join(e)})).join(`
`)}function a(f){return f.map(l).join(`
`)}function l(f){return f.map(d).join(e)}function d(f){return f==null?"":t.test(f+="")?'"'+f.replace(/\"/g,'""')+'"':f}return{parse:n,parseRows:i,format:s,formatRows:a}}var _f=ml(()=>{"use strict"});var wf,aM,uM,lM,cM,dM=ml(()=>{"use strict";_f();wf=Os(","),aM=wf.parse,uM=wf.parseRows,lM=wf.format,cM=wf.formatRows});var Cf,fM,hM,pM,mM,gM=ml(()=>{"use strict";_f();Cf=Os("	"),fM=Cf.parse,hM=Cf.parseRows,pM=Cf.format,mM=Cf.formatRows});var vM={};rT(vM,{csvFormat:()=>lM,csvFormatRows:()=>cM,csvParse:()=>aM,csvParseRows:()=>uM,dsvFormat:()=>Os,tsvFormat:()=>pM,tsvFormatRows:()=>mM,tsvParse:()=>fM,tsvParseRows:()=>hM});var yM=ml(()=>{"use strict";_f();dM();gM()});var wM=Qt((uX,Ps)=>{"use strict";Ps.exports=Uj;Ps.exports.pair=zj;Ps.exports.format=$v;Ps.exports.formatPair=$j;Ps.exports.coordToDMS=_M;function Uj(e,t){return zv(e,t).val}function $j(e){return $v(e.lat,"lat")+" "+$v(e.lon,"lon")}function $v(e,t){var r=_M(e,t);return r.whole+"\xB0 "+(r.minutes?r.minutes+"' ":"")+(r.seconds?r.seconds+'" ':"")+r.dir}function _M(e,t){var r={lat:["N","S"],lon:["E","W"]}[t]||"",n=r[e>=0?0:1],i=Math.abs(e),s=Math.floor(i),a=i-s,l=a*60,d=Math.floor(l),f=Math.floor((l-d)*60);return{whole:s,minutes:d,seconds:f,dir:n}}function zv(e,t,r){if(t||(t="NSEW"),typeof e!="string")return{val:null,regex:r};r=r||/[\s\,]*([\-|\—|\―]?[0-9.]+)°? *(?:([0-9.]+)['’′‘] *)?(?:([0-9.]+)(?:''|"|”|″) *)?([NSEW])?/gi;var n=r.exec(e);return n?n[4]&&t.indexOf(n[4])===-1?{val:null,regex:r}:{val:((n[1]?parseFloat(n[1]):0)+(n[2]?parseFloat(n[2])/60:0)+(n[3]?parseFloat(n[3])/3600:0))*(n[4]&&n[4]==="S"||n[4]==="W"?-1:1),regex:r,raw:n[0],dim:n[4]}:{val:null,regex:r}}function zj(e,t){e=e.trim();var r=zv(e,t);if(r.val===null)return null;var n=zv(e,t,r.regex);return n.val===null||r.raw+n.raw!==e?null:r.dim?Hj(r.val,n.val,r.dim):[r.val,n.val]}function Hj(e,t,r){if(r==="N"||r==="S")return[e,t];if(r==="W"||r==="E")return[t,e]}});var AM=Qt((lX,TM)=>{"use strict";var Rs=(yM(),iT(vM)),CM=wM(),bM=/(Lat)(itude)?/gi,DM=/(L)(on|ng)(gitude)?/i;function EM(e,t){var r,n,i;for(var s in e)n=s.match(t),n&&(!r||n[0].length/s.length>i)&&(i=n[0].length/s.length,r=s);return r}function MM(e){return EM(e,bM)}function IM(e){return EM(e,DM)}function Gj(e){return!!e.match(bM)}function qj(e){return!!e.match(DM)}function xM(e){return typeof e=="object"?Object.keys(e).length:0}function SM(e){var t=[",",";","	","|"],r=[];return t.forEach(function(n){var i=Rs.dsvFormat(n).parse(e);if(i.length>=1){for(var s=xM(i[0]),a=0;a<i.length;a++)if(xM(i[a])!==s)return;r.push({delimiter:n,arity:Object.keys(i[0]).length})}}),r.length?r.sort(function(n,i){return i.arity-n.arity})[0].delimiter:null}function Wj(e){return delete e.columns,e}function Zj(e){var t=SM(e);return t?Wj(Rs.dsvFormat(t).parse(e)):null}function Yj(e,t,r){r||(r=t,t={}),t.delimiter=t.delimiter||",";var n=t.latfield||"",i=t.lonfield||"",s=t.crs||"",a=[],l={type:"FeatureCollection",features:a};if(s!==""&&(l.crs={type:"name",properties:{name:s}}),t.delimiter==="auto"&&typeof e=="string"&&(t.delimiter=SM(e),!t.delimiter)){r({type:"Error",message:"Could not autodetect delimiter"});return}var d=typeof e=="string"?Rs.dsvFormat(t.delimiter).parse(e):e;if(!d.length){r(null,l);return}var f=[],p;n||(n=MM(d[0])),i||(i=IM(d[0]));var m=!n||!i;if(m){for(p=0;p<d.length;p++)a.push({type:"Feature",properties:d[p],geometry:null});r(f.length?f:null,l);return}for(p=0;p<d.length;p++)if(d[p][i]!==void 0&&d[p][n]!==void 0){var v=d[p][i],y=d[p][n],w,C,x;x=CM(v,"EW"),x&&(v=x),x=CM(y,"NS"),x&&(y=x),w=parseFloat(v),C=parseFloat(y),isNaN(w)||isNaN(C)?f.push({message:"A row contained an invalid value for latitude or longitude",row:d[p],index:p}):(t.includeLatLon||(delete d[p][i],delete d[p][n]),a.push({type:"Feature",properties:d[p],geometry:{type:"Point",coordinates:[parseFloat(w),parseFloat(C)]}}))}r(f.length?f:null,l)}function Kj(e){for(var t=e.features,r={type:"Feature",geometry:{type:"LineString",coordinates:[]}},n=0;n<t.length;n++)r.geometry.coordinates.push(t[n].geometry.coordinates);return r.properties=t.reduce(function(i,s){for(var a in s.properties)i[a]||(i[a]=[]),i[a].push(s.properties[a]);return i},{}),{type:"FeatureCollection",features:[r]}}function Xj(e){for(var t=e.features,r={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},n=0;n<t.length;n++)r.geometry.coordinates[0].push(t[n].geometry.coordinates);return r.properties=t.reduce(function(i,s){for(var a in s.properties)i[a]||(i[a]=[]),i[a].push(s.properties[a]);return i},{}),{type:"FeatureCollection",features:[r]}}TM.exports={isLon:qj,isLat:Gj,guessLatHeader:MM,guessLonHeader:IM,csv:Rs.csvParse,tsv:Rs.tsvParse,dsv:Rs,auto:Zj,csv2geojson:Yj,toLine:Kj,toPolygon:Xj}});var LM=Qt((cX,xf)=>{"use strict";xf.exports=PM;xf.exports.parse=PM;xf.exports.stringify=RM;var NM=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,OM=new RegExp("^"+NM.source+"(\\s"+NM.source+"){1,}");function PM(e){var t=e.split(";"),r=t.pop(),n=(t.shift()||"").split("=").pop(),i=0;function s(j){var b=r.substring(i).match(j);return b?(i+=b[0].length,b[0]):null}function a(j){return j&&n.match(/\d+/)&&(j.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+n}}),j}function l(){s(/^\s*/)}function d(){l();for(var j=0,b=[],P=[b],O=b,F;F=s(/^(\()/)||s(/^(\))/)||s(/^(\,)/)||s(OM);){if(F==="(")P.push(O),O=[],P[P.length-1].push(O),j++;else if(F===")"){if(O.length===0||(O=P.pop(),!O))return null;if(j--,j===0)break}else if(F===",")O=[],P[P.length-1].push(O);else if(!F.split(/\s/g).some(isNaN))Array.prototype.push.apply(O,F.split(/\s/g).map(parseFloat));else return null;l()}return j!==0?null:b}function f(){for(var j=[],b,P;P=s(OM)||s(/^(\,)/);)P===","?(j.push(b),b=[]):P.split(/\s/g).some(isNaN)||(b||(b=[]),Array.prototype.push.apply(b,P.split(/\s/g).map(parseFloat))),l();if(b)j.push(b);else return null;return j.length?j:null}function p(){if(!s(/^(point)/i)||(l(),!s(/^(\()/)))return null;var j=f();return!j||(l(),!s(/^(\))/))?null:{type:"Point",coordinates:j[0]}}function m(){if(!s(/^(multipoint)/i))return null;l();var j=r.substring(r.indexOf("(")+1,r.length-1).replace(/\(/g,"").replace(/\)/g,"");r="MULTIPOINT ("+j+")";var b=d();return b?(l(),{type:"MultiPoint",coordinates:b}):null}function v(){if(!s(/^(multilinestring)/i))return null;l();var j=d();return j?(l(),{type:"MultiLineString",coordinates:j}):null}function y(){if(!s(/^(linestring)/i)||(l(),!s(/^(\()/)))return null;var j=f();return!j||!s(/^(\))/)?null:{type:"LineString",coordinates:j}}function w(){if(!s(/^(polygon)/i))return null;l();var j=d();return j?{type:"Polygon",coordinates:j}:null}function C(){if(!s(/^(multipolygon)/i))return null;l();var j=d();return j?{type:"MultiPolygon",coordinates:j}:null}function x(){var j=[],b;if(!s(/^(geometrycollection)/i)||(l(),!s(/^(\()/)))return null;for(;b=k();)j.push(b),l(),s(/^(\,)/),l();return s(/^(\))/)?{type:"GeometryCollection",geometries:j}:null}function k(){return p()||y()||w()||m()||v()||C()||x()}return a(k())}function RM(e){e.type==="Feature"&&(e=e.geometry);function t(a){return a.join(" ")}function r(a){return a.map(t).join(", ")}function n(a){return a.map(r).map(s).join(", ")}function i(a){return a.map(n).map(s).join(", ")}function s(a){return"("+a+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+r(e.coordinates)+")";case"Polygon":return"POLYGON ("+n(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+r(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+n(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(RM).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}});var FM=Qt((dX,Df)=>{"use strict";var fo={};function bf(e,t){e=Math.round(e*t),e<<=1,e<0&&(e=~e);for(var r="";e>=32;)r+=String.fromCharCode((32|e&31)+63),e>>=5;return r+=String.fromCharCode(e+63),r}fo.decode=function(e,t){for(var r=0,n=0,i=0,s=[],a=0,l=0,d=null,f,p,m=Math.pow(10,t||5);r<e.length;){d=null,a=0,l=0;do d=e.charCodeAt(r++)-63,l|=(d&31)<<a,a+=5;while(d>=32);f=l&1?~(l>>1):l>>1,a=l=0;do d=e.charCodeAt(r++)-63,l|=(d&31)<<a,a+=5;while(d>=32);p=l&1?~(l>>1):l>>1,n+=f,i+=p,s.push([n/m,i/m])}return s};fo.encode=function(e,t){if(!e.length)return"";for(var r=Math.pow(10,t||5),n=bf(e[0][0],r)+bf(e[0][1],r),i=1;i<e.length;i++){var s=e[i],a=e[i-1];n+=bf(s[0]-a[0],r),n+=bf(s[1]-a[1],r)}return n};function kM(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice().reverse());return t}fo.fromGeoJSON=function(e,t){if(e&&e.type==="Feature"&&(e=e.geometry),!e||e.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return fo.encode(kM(e.coordinates),t)};fo.toGeoJSON=function(e,t){var r=fo.decode(e,t);return{type:"LineString",coordinates:kM(r)}};typeof Df=="object"&&Df.exports&&(Df.exports=fo)});var jM=Qt((Ef,VM)=>{"use strict";(function(e,t){typeof Ef=="object"&&typeof VM<"u"?t(Ef):typeof define=="function"&&define.amd?define(["exports"],t):t(e.topojson=e.topojson||{})})(Ef,function(e){"use strict";function t(){}function r(O){if(!O)return t;var F,H,W=O.scale[0],M=O.scale[1],R=O.translate[0],D=O.translate[1];return function(A,S){S||(F=H=0),A[0]=(F+=A[0])*W+R,A[1]=(H+=A[1])*M+D}}function n(O){if(!O)return t;var F,H,W=O.scale[0],M=O.scale[1],R=O.translate[0],D=O.translate[1];return function(A,S){S||(F=H=0);var T=Math.round((A[0]-R)/W),B=Math.round((A[1]-D)/M);A[0]=T-F,A[1]=B-H,F=T,H=B}}function i(O,F){for(var H,W=O.length,M=W-F;M<--W;)H=O[M],O[M++]=O[W],O[W]=H}function s(O,F){for(var H=0,W=O.length;H<W;){var M=H+W>>>1;O[M]<F?H=M+1:W=M}return H}function a(O,F){return F.type==="GeometryCollection"?{type:"FeatureCollection",features:F.geometries.map(function(H){return l(O,H)})}:l(O,F)}function l(O,F){var H={type:"Feature",id:F.id,properties:F.properties||{},geometry:d(O,F)};return F.id==null&&delete H.id,H}function d(O,F){var H=r(O.transform),W=O.arcs;function M(N,U){U.length&&U.pop();for(var I=W[N<0?~N:N],$=0,G=I.length,q;$<G;++$)U.push(q=I[$].slice()),H(q,$);N<0&&i(U,G)}function R(N){return N=N.slice(),H(N,0),N}function D(N){for(var U=[],I=0,$=N.length;I<$;++I)M(N[I],U);return U.length<2&&U.push(U[0].slice()),U}function A(N){for(var U=D(N);U.length<4;)U.push(U[0].slice());return U}function S(N){return N.map(A)}function T(N){var U=N.type;return U==="GeometryCollection"?{type:U,geometries:N.geometries.map(T)}:U in B?{type:U,coordinates:B[U](N)}:null}var B={Point:function(N){return R(N.coordinates)},MultiPoint:function(N){return N.coordinates.map(R)},LineString:function(N){return D(N.arcs)},MultiLineString:function(N){return N.arcs.map(D)},Polygon:function(N){return S(N.arcs)},MultiPolygon:function(N){return N.arcs.map(S)}};return T(F)}function f(O,F){var H={},W={},M={},R=[],D=-1;F.forEach(function(T,B){var N=O.arcs[T<0?~T:T],U;N.length<3&&!N[1][0]&&!N[1][1]&&(U=F[++D],F[D]=T,F[B]=U)}),F.forEach(function(T){var B=A(T),N=B[0],U=B[1],I,$;if(I=M[N])if(delete M[I.end],I.push(T),I.end=U,$=W[U]){delete W[$.start];var G=$===I?I:I.concat($);W[G.start=I.start]=M[G.end=$.end]=G}else W[I.start]=M[I.end]=I;else if(I=W[U])if(delete W[I.start],I.unshift(T),I.start=N,$=M[N]){delete M[$.end];var q=$===I?I:$.concat(I);W[q.start=$.start]=M[q.end=I.end]=q}else W[I.start]=M[I.end]=I;else I=[T],W[I.start=N]=M[I.end=U]=I});function A(T){var B=O.arcs[T<0?~T:T],N=B[0],U;return O.transform?(U=[0,0],B.forEach(function(I){U[0]+=I[0],U[1]+=I[1]})):U=B[B.length-1],T<0?[U,N]:[N,U]}function S(T,B){for(var N in T){var U=T[N];delete B[U.start],delete U.start,delete U.end,U.forEach(function(I){H[I<0?~I:I]=1}),R.push(U)}}return S(M,W),S(W,M),F.forEach(function(T){H[T<0?~T:T]||R.push([T])}),R}function p(O){return d(O,m.apply(this,arguments))}function m(O,F,H){var W=[];function M(I){var $=I<0?~I:I;(S[$]||(S[$]=[])).push({i:I,g:T})}function R(I){I.forEach(M)}function D(I){I.forEach(R)}function A(I){I.type==="GeometryCollection"?I.geometries.forEach(A):I.type in B&&(T=I,B[I.type](I.arcs))}if(arguments.length>1){var S=[],T,B={LineString:R,MultiLineString:D,Polygon:D,MultiPolygon:function(I){I.forEach(D)}};A(F),S.forEach(arguments.length<3?function(I){W.push(I[0].i)}:function(I){H(I[0].g,I[I.length-1].g)&&W.push(I[0].i)})}else for(var N=0,U=O.arcs.length;N<U;++N)W.push(N);return{type:"MultiLineString",arcs:f(O,W)}}function v(O){var F=O[0],H=O[1],W=O[2];return Math.abs((F[0]-W[0])*(H[1]-F[1])-(F[0]-H[0])*(W[1]-F[1]))}function y(O){for(var F=-1,H=O.length,W,M=O[H-1],R=0;++F<H;)W=M,M=O[F],R+=W[0]*M[1]-W[1]*M[0];return R/2}function w(O){return d(O,C.apply(this,arguments))}function C(O,F){var H={},W=[],M=[];F.forEach(function(A){A.type==="Polygon"?R(A.arcs):A.type==="MultiPolygon"&&A.arcs.forEach(R)});function R(A){A.forEach(function(S){S.forEach(function(T){(H[T=T<0?~T:T]||(H[T]=[])).push(A)})}),W.push(A)}function D(A){return Math.abs(y(d(O,{type:"Polygon",arcs:[A]}).coordinates[0]))}return W.forEach(function(A){if(!A._){var S=[],T=[A];for(A._=1,M.push(S);A=T.pop();)S.push(A),A.forEach(function(B){B.forEach(function(N){H[N<0?~N:N].forEach(function(U){U._||(U._=1,T.push(U))})})})}}),W.forEach(function(A){delete A._}),{type:"MultiPolygon",arcs:M.map(function(A){var S=[],T;if(A.forEach(function($){$.forEach(function(G){G.forEach(function(q){H[q<0?~q:q].length<2&&S.push(q)})})}),S=f(O,S),(T=S.length)>1)for(var B=1,N=D(S[0]),U,I;B<T;++B)(U=D(S[B]))>N&&(I=S[0],S[0]=S[B],S[B]=I,N=U);return S})}}function x(O){var F={},H=O.map(function(){return[]});function W(G,q){G.forEach(function(X){X<0&&(X=~X);var Y=F[X];Y?Y.push(q):F[X]=[q]})}function M(G,q){G.forEach(function(X){W(X,q)})}function R(G,q){G.type==="GeometryCollection"?G.geometries.forEach(function(X){R(X,q)}):G.type in D&&D[G.type](G.arcs,q)}var D={LineString:W,MultiLineString:M,Polygon:M,MultiPolygon:function(G,q){G.forEach(function(X){M(X,q)})}};O.forEach(R);for(var A in F)for(var S=F[A],T=S.length,B=0;B<T;++B)for(var N=B+1;N<T;++N){var U=S[B],I=S[N],$;($=H[U])[A=s($,I)]!==I&&$.splice(A,0,I),($=H[I])[A=s($,U)]!==U&&$.splice(A,0,U)}return H}function k(O,F){return O[1][2]-F[1][2]}function j(){var O={},F=[],H=0;O.push=function(R){return W(F[R._=H]=R,H++),H},O.pop=function(){if(!(H<=0)){var R=F[0],D;return--H>0&&(D=F[H],M(F[D._=0]=D,0)),R}},O.remove=function(R){var D=R._,A;if(F[D]===R)return D!==--H&&(A=F[H],(k(A,R)<0?W:M)(F[A._=D]=A,D)),D};function W(R,D){for(;D>0;){var A=(D+1>>1)-1,S=F[A];if(k(R,S)>=0)break;F[S._=D]=S,F[R._=D=A]=R}}function M(R,D){for(;;){var A=D+1<<1,S=A-1,T=D,B=F[T];if(S<H&&k(F[S],B)<0&&(B=F[T=S]),A<H&&k(F[A],B)<0&&(B=F[T=A]),T===D)break;F[B._=D]=B,F[R._=D=T]=R}}return O}function b(O,F){var H=r(O.transform),W=n(O.transform),M=j();F||(F=v),O.arcs.forEach(function(D){var A=[],S=0,T,B,N,U;for(B=0,N=D.length;B<N;++B)U=D[B],H(D[B]=[U[0],U[1],1/0],B);for(B=1,N=D.length-1;B<N;++B)T=D.slice(B-1,B+2),T[1][2]=F(T),A.push(T),M.push(T);for(B=0,N=A.length;B<N;++B)T=A[B],T.previous=A[B-1],T.next=A[B+1];for(;T=M.pop();){var I=T.previous,$=T.next;T[1][2]<S?T[1][2]=S:S=T[1][2],I&&(I.next=$,I[2]=T[2],R(I)),$&&($.previous=I,$[0]=T[0],R($))}D.forEach(W)});function R(D){M.remove(D),D[1][2]=F(D),M.push(D)}return O}var P="1.6.26";e.version=P,e.mesh=p,e.meshArcs=m,e.merge=w,e.mergeArcs=C,e.feature=a,e.neighbors=x,e.presimplify=b})});var ZM=Qt(WM=>{"use strict";var Hv=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,BM=new RegExp("[\\-\\.0-9"+Hv.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),UM=new RegExp("^"+Hv.source+BM.source+"*(?::"+Hv.source+BM.source+"*)?$"),ju=0,ui=1,Ls=2,Bu=3,ks=4,Fs=5,Uu=6,Mf=7;function HM(){}HM.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),GM(t,t={}),Qj(e,t,r,n,this.errorHandler),n.endDocument()}};function Qj(e,t,r,n,i){function s(N){if(N>65535){N-=65536;var U=55296+(N>>10),I=56320+(N&1023);return String.fromCharCode(U,I)}else return String.fromCharCode(N)}function a(N){var U=N.slice(1,-1);return U in r?r[U]:U.charAt(0)==="#"?s(parseInt(U.substr(1).replace("x","0x"))):(i.error("entity not found:"+N),N)}function l(N){if(N>C){var U=e.substring(C,N).replace(/&#?\w+;/g,a);v&&d(C),n.characters(U,0,N-C),C=N}}function d(N,U){for(;N>=p&&(U=m.exec(e));)f=U.index,p=f+U[0].length,v.lineNumber++;v.columnNumber=N-f+1}for(var f=0,p=0,m=/.*(?:\r\n?|\n)|.*$/g,v=n.locator,y=[{currentNSMap:t}],w={},C=0;;){try{var x=e.indexOf("<",C);if(x<0){if(!e.substr(C).match(/^\s*$/)){var k=n.doc,j=k.createTextNode(e.substr(C));k.appendChild(j),n.currentElement=j}return}switch(x>C&&l(x),e.charAt(x+1)){case"/":var D=e.indexOf(">",x+3),b=e.substring(x+2,D),P=y.pop();D<0?(b=e.substring(x+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+P.tagName),D=x+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),D=x+1+b.length);var O=P.localNSMap,F=P.tagName==b,H=F||P.tagName&&P.tagName.toLowerCase()==b.toLowerCase();if(H){if(n.endElement(P.uri,P.localName,b),O)for(var W in O)n.endPrefixMapping(W);F||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+P.tagName)}else y.push(P);D++;break;case"?":v&&d(x),D=rB(e,x,n);break;case"!":v&&d(x),D=nB(e,x,n,i);break;default:v&&d(x);var M=new qM,R=y[y.length-1].currentNSMap,D=Jj(e,x,M,R,a,i),A=M.length;if(!M.closed&&tB(e,D,M.tagName,w)&&(M.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),v&&A){for(var S=$M(v,{}),T=0;T<A;T++){var B=M[T];d(B.offset),B.locator=$M(v,{})}n.locator=S,zM(M,n,R)&&y.push(M),n.locator=v}else zM(M,n,R)&&y.push(M);M.uri==="http://www.w3.org/1999/xhtml"&&!M.closed?D=eB(e,D,M.tagName,a,n):D++}}catch(N){i.error("element parse error: "+N),D=-1}D>C?C=D:l(Math.max(x,C)+1)}}function $M(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Jj(e,t,r,n,i,s){for(var a,l,d=++t,f=ju;;){var p=e.charAt(d);switch(p){case"=":if(f===ui)a=e.slice(t,d),f=Bu;else if(f===Ls)f=Bu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Bu||f===ui)if(f===ui&&(s.warning('attribute value must after "="'),a=e.slice(t,d)),t=d+1,d=e.indexOf(p,t),d>0)l=e.slice(t,d).replace(/&#?\w+;/g,i),r.add(a,l,t-1),f=Fs;else throw new Error("attribute value no end '"+p+"' match");else if(f==ks)l=e.slice(t,d).replace(/&#?\w+;/g,i),r.add(a,l,t),s.warning('attribute "'+a+'" missed start quot('+p+")!!"),t=d+1,f=Fs;else throw new Error('attribute value must after "="');break;case"/":switch(f){case ju:r.setTagName(e.slice(t,d));case Fs:case Uu:case Mf:f=Mf,r.closed=!0;case ks:case ui:case Ls:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==ju&&r.setTagName(e.slice(t,d)),d;case">":switch(f){case ju:r.setTagName(e.slice(t,d));case Fs:case Uu:case Mf:break;case ks:case ui:l=e.slice(t,d),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Ls:f===Ls&&(l=a),f==ks?(s.warning('attribute "'+l+'" missed quot(")!!'),r.add(a,l.replace(/&#?\w+;/g,i),t)):((n[""]!=="http://www.w3.org/1999/xhtml"||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),r.add(l,l,t));break;case Bu:throw new Error("attribute value missed!!")}return d;case"\x80":p=" ";default:if(p<=" ")switch(f){case ju:r.setTagName(e.slice(t,d)),f=Uu;break;case ui:a=e.slice(t,d),f=Ls;break;case ks:var l=e.slice(t,d).replace(/&#?\w+;/g,i);s.warning('attribute "'+l+'" missed quot(")!!'),r.add(a,l,t);case Fs:f=Uu;break}else switch(f){case Ls:var m=r.tagName;(n[""]!=="http://www.w3.org/1999/xhtml"||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),r.add(a,a,t),t=d,f=ui;break;case Fs:s.warning('attribute space is required"'+a+'"!!');case Uu:f=ui,t=d;break;case Bu:f=ks,t=d;break;case Mf:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function zM(e,t,r){for(var n=e.tagName,i=null,m=e.length;m--;){var s=e[m],a=s.qName,l=s.value,v=a.indexOf(":");if(v>0)var d=s.prefix=a.slice(0,v),f=a.slice(v+1),p=d==="xmlns"&&f;else f=a,d=null,p=a==="xmlns"&&"";s.localName=f,p!==!1&&(i==null&&(i={},GM(r,r={})),r[p]=i[p]=l,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,l))}for(var m=e.length;m--;){s=e[m];var d=s.prefix;d&&(d==="xml"&&(s.uri="http://www.w3.org/XML/1998/namespace"),d!=="xmlns"&&(s.uri=r[d||""]))}var v=n.indexOf(":");v>0?(d=e.prefix=n.slice(0,v),f=e.localName=n.slice(v+1)):(d=null,f=e.localName=n);var y=e.uri=r[d||""];if(t.startElement(y,f,n,e),e.closed){if(t.endElement(y,f,n),i)for(d in i)t.endPrefixMapping(d)}else return e.currentNSMap=r,e.localNSMap=i,!0}function eB(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=e.indexOf("</"+r+">",t),a=e.substring(t+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),s)}return t+1}function tB(e,t,r,n){var i=n[r];return i==null&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function GM(e,t){for(var r in e)t[r]=e[r]}function nB(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var s=e.indexOf("-->",t+4);return s>t?(r.comment(e,t+4,s-t-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var s=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,s-t-9),r.endCDATA(),s+3}var a=iB(e,t),l=a.length;if(l>1&&/!doctype/i.test(a[0][0])){var d=a[1][0],f=l>3&&/^public$/i.test(a[2][0])&&a[3][0],p=l>4&&a[4][0],m=a[l-1];return r.startDTD(d,f&&f.replace(/^(['"])(.*?)\1$/,"$2"),p&&p.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),m.index+m[0].length}}return-1}function rB(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var s=i[0].length;return r.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function qM(e){}qM.prototype={setTagName:function(e){if(!UM.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!UM.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function If(e,t){return e.__proto__=t,e}If({},If.prototype)instanceof If||(If=function(e,t){function r(){}r.prototype=t,r=new r;for(t in e)r[t]=e[t];return r});function iB(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}WM.XMLReader=HM});var ty=Qt(ey=>{"use strict";function zu(e,t){for(var r in e)t[r]=e[r]}function Yt(e,t){var r=e.prototype;if(Object.create){var n=Object.create(t.prototype);r.__proto__=n}if(!(r instanceof t)){let s=function(){};var i=s;s.prototype=t.prototype,s=new s,zu(r,s),e.prototype=r=s}r.constructor!=e&&(typeof e!="function"&&console.error("unknow Class:"+e),r.constructor=e)}var oB="http://www.w3.org/1999/xhtml",Kt={},nr=Kt.ELEMENT_NODE=1,js=Kt.ATTRIBUTE_NODE=2,Sf=Kt.TEXT_NODE=3,eI=Kt.CDATA_SECTION_NODE=4,tI=Kt.ENTITY_REFERENCE_NODE=5,sB=Kt.ENTITY_NODE=6,nI=Kt.PROCESSING_INSTRUCTION_NODE=7,rI=Kt.COMMENT_NODE=8,iI=Kt.DOCUMENT_NODE=9,oI=Kt.DOCUMENT_TYPE_NODE=10,Er=Kt.DOCUMENT_FRAGMENT_NODE=11,aB=Kt.NOTATION_NODE=12,Lt={},wt={},hX=Lt.INDEX_SIZE_ERR=(wt[1]="Index size error",1),pX=Lt.DOMSTRING_SIZE_ERR=(wt[2]="DOMString size error",2),uB=Lt.HIERARCHY_REQUEST_ERR=(wt[3]="Hierarchy request error",3),mX=Lt.WRONG_DOCUMENT_ERR=(wt[4]="Wrong document",4),gX=Lt.INVALID_CHARACTER_ERR=(wt[5]="Invalid character",5),vX=Lt.NO_DATA_ALLOWED_ERR=(wt[6]="No data allowed",6),yX=Lt.NO_MODIFICATION_ALLOWED_ERR=(wt[7]="No modification allowed",7),lB=Lt.NOT_FOUND_ERR=(wt[8]="Not found",8),_X=Lt.NOT_SUPPORTED_ERR=(wt[9]="Not supported",9),YM=Lt.INUSE_ATTRIBUTE_ERR=(wt[10]="Attribute in use",10),wX=Lt.INVALID_STATE_ERR=(wt[11]="Invalid state",11),CX=Lt.SYNTAX_ERR=(wt[12]="Syntax error",12),xX=Lt.INVALID_MODIFICATION_ERR=(wt[13]="Invalid modification",13),bX=Lt.NAMESPACE_ERR=(wt[14]="Invalid namespace",14),DX=Lt.INVALID_ACCESS_ERR=(wt[15]="Invalid access",15);function Bs(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,wt[e]),this.message=wt[e],Error.captureStackTrace&&Error.captureStackTrace(this,Bs);return r.code=e,t&&(this.message=this.message+": "+t),r}Bs.prototype=Error.prototype;zu(Lt,Bs);function li(){}li.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)Vs(this[n],r,e,t);return r.join("")}};function $u(e,t){this._node=e,this._refresh=t,qv(this)}function qv(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);gI(e,"length",r.length),zu(r,e),e._inc=t}}$u.prototype.item=function(e){return qv(this),this[e]};Yt($u,li);function Tf(){}function sI(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function KM(e,t,r,n){if(n?t[sI(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&uI(i,e,n),cB(i,e,r))}}function XM(e,t,r){var n=sI(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var s=e.ownerDocument;s&&(uI(s,e,r),r.ownerElement=null)}}else throw Bs(lB,new Error(e.tagName+"@"+r))}Tf.prototype={length:0,item:li.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Bs(YM);var r=this.getNamedItem(e.nodeName);return KM(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new Bs(YM);return r=this.getNamedItemNS(e.namespaceURI,e.localName),KM(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return XM(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return XM(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function aI(e){if(this._features={},e)for(var t in e)this._features=e[t]}aI.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!!(r&&(!t||t in r))},createDocument:function(e,t,r){var n=new Hu;if(n.implementation=this,n.childNodes=new li,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new Xv;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}};function Ut(){}Ut.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return cI(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return lI(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return Gv(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Sf&&e.nodeType==Sf?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(r[n]==e)return n}t=t.nodeType==js?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==js?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function QM(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}zu(Kt,Ut);zu(Kt,Ut.prototype);function Af(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Af(e,t))return!0;while(e=e.nextSibling)}function Hu(){}function cB(e,t,r){e&&e._inc++;var n=r.namespaceURI;n=="http://www.w3.org/2000/xmlns/"&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function uI(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i=="http://www.w3.org/2000/xmlns/"&&delete t._nsMap[r.prefix?r.localName:""]}function Wv(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s}}}function lI(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,Wv(e.ownerDocument,e),t}function cI(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===Er){var i=t.firstChild;if(i==null)return t;var s=t.lastChild}else i=s=t;var a=r?r.previousSibling:e.lastChild;i.previousSibling=a,s.nextSibling=r,a?a.nextSibling=i:e.firstChild=i,r==null?e.lastChild=s:r.previousSibling=s;do i.parentNode=e;while(i!==s&&(i=i.nextSibling));return Wv(e.ownerDocument||e,e),t.nodeType==Er&&(t.firstChild=t.lastChild=null),t}function dB(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,Wv(e.ownerDocument,e,t),t}Hu.prototype={nodeName:"#document",nodeType:iI,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Er){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return this.documentElement==null&&e.nodeType==nr&&(this.documentElement=e),cI(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),lI(this,e)},importNode:function(e,t){return mI(this,e,t)},getElementById:function(e){var t=null;return Af(this.documentElement,function(r){if(r.nodeType==nr&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new Us;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new li;var r=t.attributes=new Tf;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new Of;return e.ownerDocument=this,e.childNodes=new li,e},createTextNode:function(e){var t=new Zv;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Yv;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Kv;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Jv;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Nf;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Qv;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new Us,n=t.split(":"),i=r.attributes=new Tf;return r.childNodes=new li,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new Nf,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};Yt(Hu,Ut);function Us(){this._nsMap={}}Us.prototype={nodeType:nr,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Er?this.insertBefore(e,null):dB(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new $u(this,function(t){var r=[];return Af(t,function(n){n!==t&&n.nodeType==nr&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new $u(this,function(r){var n=[];return Af(r,function(i){i!==r&&i.nodeType===nr&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};Hu.prototype.getElementsByTagName=Us.prototype.getElementsByTagName;Hu.prototype.getElementsByTagNameNS=Us.prototype.getElementsByTagNameNS;Yt(Us,Ut);function Nf(){}Nf.prototype.nodeType=js;Yt(Nf,Ut);function Gu(){}Gu.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(wt[uB])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};Yt(Gu,Ut);function Zv(){}Zv.prototype={nodeName:"#text",nodeType:Sf,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Yt(Zv,Gu);function Yv(){}Yv.prototype={nodeName:"#comment",nodeType:rI};Yt(Yv,Gu);function Kv(){}Kv.prototype={nodeName:"#cdata-section",nodeType:eI};Yt(Kv,Gu);function Xv(){}Xv.prototype.nodeType=oI;Yt(Xv,Ut);function dI(){}dI.prototype.nodeType=aB;Yt(dI,Ut);function fI(){}fI.prototype.nodeType=sB;Yt(fI,Ut);function Qv(){}Qv.prototype.nodeType=tI;Yt(Qv,Ut);function Of(){}Of.prototype.nodeName="#document-fragment";Of.prototype.nodeType=Er;Yt(Of,Ut);function Jv(){}Jv.prototype.nodeType=nI;Yt(Jv,Ut);function hI(){}hI.prototype.serializeToString=function(e,t,r){return pI.call(e,t,r)};Ut.prototype.toString=pI;function pI(e,t){var r=[],n=this.nodeType==9?this.documentElement:this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return Vs(this,r,e,t,a),r.join("")}function JM(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i||n==="xml"&&i==="http://www.w3.org/XML/1998/namespace"||i=="http://www.w3.org/2000/xmlns/")return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix==n)return a.namespace!=i}return!0}function Vs(e,t,r,n,i){if(n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case nr:i||(i=[]);var s=i.length,a=e.attributes,l=a.length,w=e.firstChild,d=e.tagName;r=oB===e.namespaceURI||r,t.push("<",d);for(var f=0;f<l;f++){var p=a.item(f);p.prefix=="xmlns"?i.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&i.push({prefix:"",namespace:p.value})}for(var f=0;f<l;f++){var p=a.item(f);if(JM(p,r,i)){var m=p.prefix||"",v=p.namespaceURI,y=m?" xmlns:"+m:" xmlns";t.push(y,'="',v,'"'),i.push({prefix:m,namespace:v})}Vs(p,t,r,n,i)}if(JM(e,r,i)){var m=e.prefix||"",v=e.namespaceURI,y=m?" xmlns:"+m:" xmlns";t.push(y,'="',v,'"'),i.push({prefix:m,namespace:v})}if(w||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(d)){if(t.push(">"),r&&/^script$/i.test(d))for(;w;)w.data?t.push(w.data):Vs(w,t,r,n,i),w=w.nextSibling;else for(;w;)Vs(w,t,r,n,i),w=w.nextSibling;t.push("</",d,">")}else t.push("/>");return;case iI:case Er:for(var w=e.firstChild;w;)Vs(w,t,r,n,i),w=w.nextSibling;return;case js:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,QM),'"');case Sf:return t.push(e.data.replace(/[<&]/g,QM));case eI:return t.push("<![CDATA[",e.data,"]]>");case rI:return t.push("<!--",e.data,"-->");case oI:var C=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(' PUBLIC "',C),x&&x!="."&&t.push('" "',x),t.push('">');else if(x&&x!=".")t.push(' SYSTEM "',x,'">');else{var k=e.internalSubset;k&&t.push(" [",k,"]"),t.push(">")}return;case nI:return t.push("<?",e.target," ",e.data,"?>");case tI:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function mI(e,t,r){var n;switch(t.nodeType){case nr:n=t.cloneNode(!1),n.ownerDocument=e;case Er:break;case js:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(mI(e,i,r)),i=i.nextSibling;return n}function Gv(e,t,r){var n=new t.constructor;for(var i in t){var s=t[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(t.childNodes&&(n.childNodes=new li),n.ownerDocument=e,n.nodeType){case nr:var a=t.attributes,l=n.attributes=new Tf,d=a.length;l._ownerElement=n;for(var f=0;f<d;f++)n.setAttributeNode(Gv(e,a.item(f),!0));break;case js:r=!0}if(r)for(var p=t.firstChild;p;)n.appendChild(Gv(e,p,r)),p=p.nextSibling;return n}function gI(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case nr:case Er:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};fB=e,Object.defineProperty($u.prototype,"length",{get:function(){return qv(this),this.$$length}}),Object.defineProperty(Ut.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case nr:case Er:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),gI=function(t,r,n){t["$$"+r]=n}}}catch{}var fB;ey.DOMImplementation=aI;ey.XMLSerializer=hI});var _I=Qt(kf=>{"use strict";function yI(e){this.options=e||{locator:{}}}yI.prototype.parseFromString=function(e,t){var r=this.options,n=new pB,i=r.domBuilder||new Lf,s=r.errorHandler,a=r.locator,l=r.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return a&&i.setDocumentLocator(a),n.errorHandler=hB(s,i,a),n.domBuilder=r.domBuilder||i,/\/x?html?$/.test(t)&&(d.nbsp="\xA0",d.copy="\xA9",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,l,d):n.errorHandler.error("invalid doc source"),i.doc};function hB(e,t,r){if(!e){if(t instanceof Lf)return t;e=t}var n={},i=e instanceof Function;r=r||{};function s(a){var l=e[a];!l&&i&&(l=e.length==2?function(d){e(a,d)}:e),n[a]=l&&function(d){l("[xmldom "+a+"]	"+d+Rf(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Lf(){this.cdata=!1}function $s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Lf.prototype={startDocument:function(){this.doc=new mB().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,s=i.createElementNS(e,r||t),a=n.length;Pf(this,s),this.currentElement=s,this.locator&&$s(this.locator,s);for(var l=0;l<a;l++){var e=n.getURI(l),d=n.getValue(l),r=n.getQName(l),f=i.createAttributeNS(e,r);this.locator&&$s(n.getLocator(l),f),f.value=f.nodeValue=d,s.setAttributeNode(f)}},endElement:function(e,t,r){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&$s(this.locator,r),Pf(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=vI.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&$s(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=vI.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&$s(this.locator,n),Pf(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&$s(this.locator,i),Pf(this,i)}},warning:function(e){console.warn("[xmldom warning]	"+e,Rf(this.locator))},error:function(e){console.error("[xmldom error]	"+e,Rf(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]	"+e,Rf(this.locator)),e}};function Rf(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function vI(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Lf.prototype[e]=function(){return null}});function Pf(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}var pB=ZM().XMLReader,mB=kf.DOMImplementation=ty().DOMImplementation;kf.XMLSerializer=ty().XMLSerializer;kf.DOMParser=yI});var CI=Qt((wI,ny)=>{"use strict";var gB=function(){"use strict";var e=/\s*/g,t=/^\s*|\s*$/g,r=/\s+/;function n(b){if(!b||!b.length)return 0;for(var P=0,O=0;P<b.length;P++)O=(O<<5)-O+b.charCodeAt(P)|0;return O}function i(b,P){return b.getElementsByTagName(P)}function s(b,P){return b.getAttribute(P)}function a(b,P){return parseFloat(s(b,P))}function l(b,P){var O=i(b,P);return O.length?O[0]:null}function d(b){return b.normalize&&b.normalize(),b}function f(b){for(var P=0,O=[];P<b.length;P++)O[P]=parseFloat(b[P]);return O}function p(b){var P={};for(var O in b)b[O]&&(P[O]=b[O]);return P}function m(b){return b&&d(b),b&&b.textContent||""}function v(b){return f(b.replace(e,"").split(","))}function y(b){for(var P=b.replace(t,"").split(r),O=[],F=0;F<P.length;F++)O.push(v(P[F]));return O}function w(b){var P=[a(b,"lon"),a(b,"lat")],O=l(b,"ele"),F=l(b,"gpxtpx:hr")||l(b,"hr"),H=l(b,"time"),W;return O&&(W=parseFloat(m(O)),isNaN(W)||P.push(W)),{coordinates:P,time:H?m(H):null,heartRate:F?parseFloat(m(F)):null}}function C(){return{type:"FeatureCollection",features:[]}}var x;typeof XMLSerializer<"u"?x=new XMLSerializer:typeof wI=="object"&&typeof process=="object"&&!process.browser&&(x=new(_I()).XMLSerializer);function k(b){return b.xml!==void 0?b.xml:x.serializeToString(b)}var j={kml:function(b){for(var P=C(),O={},F=["Polygon","LineString","Point","Track","gx:Track"],H=i(b,"Placemark"),W=i(b,"Style"),M=i(b,"StyleMap"),R=0;R<W.length;R++)O["#"+s(W[R],"id")]=n(k(W[R])).toString(16);for(var D=0;D<M.length;D++)O["#"+s(M[D],"id")]=n(k(M[D])).toString(16);for(var A=0;A<H.length;A++)P.features=P.features.concat(U(H[A]));function S(I){var $,G;return I=I||"",I.substr(0,1)==="#"&&(I=I.substr(1)),(I.length===6||I.length===3)&&($=I),I.length===8&&(G=parseInt(I.substr(0,2),16)/255,$="#"+I.substr(2)),[$,isNaN(G)?void 0:G]}function T(I){return f(I.split(" "))}function B(I){var $=i(I,"coord","gx"),G=[],q=[];$.length===0&&($=i(I,"gx:coord"));for(var X=0;X<$.length;X++)G.push(T(m($[X])));for(var Y=i(I,"when"),K=0;K<Y.length;K++)q.push(m(Y[K]));return{coords:G,times:q}}function N(I){var $,G,q,X,Y,K=[],oe=[];if(l(I,"MultiGeometry"))return N(l(I,"MultiGeometry"));if(l(I,"MultiTrack"))return N(l(I,"MultiTrack"));if(l(I,"gx:MultiTrack"))return N(l(I,"gx:MultiTrack"));for(q=0;q<F.length;q++)if(G=i(I,F[q]),G){for(X=0;X<G.length;X++)if($=G[X],F[q]==="Point")K.push({type:"Point",coordinates:v(m(l($,"coordinates")))});else if(F[q]==="LineString")K.push({type:"LineString",coordinates:y(m(l($,"coordinates")))});else if(F[q]==="Polygon"){var ge=i($,"LinearRing"),Fe=[];for(Y=0;Y<ge.length;Y++)Fe.push(y(m(l(ge[Y],"coordinates"))));K.push({type:"Polygon",coordinates:Fe})}else if(F[q]==="Track"||F[q]==="gx:Track"){var Ne=B($);K.push({type:"LineString",coordinates:Ne.coords}),Ne.times.length&&oe.push(Ne.times)}}return{geoms:K,coordTimes:oe}}function U(I){var $=N(I),G,q={},X=m(l(I,"name")),Y=m(l(I,"styleUrl")),K=m(l(I,"description")),oe=l(I,"TimeSpan"),ge=l(I,"ExtendedData"),Fe=l(I,"LineStyle"),Ne=l(I,"PolyStyle");if(!$.geoms.length)return[];if(X&&(q.name=X),Y[0]!=="#"&&(Y="#"+Y),Y&&O[Y]&&(q.styleUrl=Y,q.styleHash=O[Y]),K&&(q.description=K),oe){var be=m(l(oe,"begin")),Re=m(l(oe,"end"));q.timespan={begin:be,end:Re}}if(Fe){var De=S(m(l(Fe,"color"))),Ee=De[0],Te=De[1],Qe=parseFloat(m(l(Fe,"width")));Ee&&(q.stroke=Ee),isNaN(Te)||(q["stroke-opacity"]=Te),isNaN(Qe)||(q["stroke-width"]=Qe)}if(Ne){var nt=S(m(l(Ne,"color"))),te=nt[0],Nt=nt[1],fn=m(l(Ne,"fill")),Ot=m(l(Ne,"outline"));te&&(q.fill=te),isNaN(Nt)||(q["fill-opacity"]=Nt),fn&&(q["fill-opacity"]=fn==="1"?1:0),Ot&&(q["stroke-opacity"]=Ot==="1"?1:0)}if(ge){var ne=i(ge,"Data"),it=i(ge,"SimpleData");for(G=0;G<ne.length;G++)q[ne[G].getAttribute("name")]=m(l(ne[G],"value"));for(G=0;G<it.length;G++)q[it[G].getAttribute("name")]=m(it[G])}$.coordTimes.length&&(q.coordTimes=$.coordTimes.length===1?$.coordTimes[0]:$.coordTimes);var Ct={type:"Feature",geometry:$.geoms.length===1?$.geoms[0]:{type:"GeometryCollection",geometries:$.geoms},properties:q};return s(I,"id")&&(Ct.id=s(I,"id")),[Ct]}return P},gpx:function(b){var P,O=i(b,"trk"),F=i(b,"rte"),H=i(b,"wpt"),W=C(),M;for(P=0;P<O.length;P++)M=D(O[P]),M&&W.features.push(M);for(P=0;P<F.length;P++)M=A(F[P]),M&&W.features.push(M);for(P=0;P<H.length;P++)W.features.push(S(H[P]));function R(B,N){var U=i(B,N),I=[],$=[],G=[],q=U.length;if(q<2)return{};for(var X=0;X<q;X++){var Y=w(U[X]);I.push(Y.coordinates),Y.time&&$.push(Y.time),Y.heartRate&&G.push(Y.heartRate)}return{line:I,times:$,heartRates:G}}function D(B){for(var N=i(B,"trkseg"),U=[],I=[],$=[],G,q=0;q<N.length;q++)G=R(N[q],"trkpt"),G.line&&U.push(G.line),G.times&&G.times.length&&I.push(G.times),G.heartRates&&G.heartRates.length&&$.push(G.heartRates);if(U.length!==0){var X=T(B);return I.length&&(X.coordTimes=U.length===1?I[0]:I),$.length&&(X.heartRates=U.length===1?$[0]:$),{type:"Feature",properties:X,geometry:{type:U.length===1?"LineString":"MultiLineString",coordinates:U.length===1?U[0]:U}}}}function A(B){var N=R(B,"rtept");if(N.line){var U={type:"Feature",properties:T(B),geometry:{type:"LineString",coordinates:N.line}};return U}}function S(B){var N=T(B);return N.sym=m(l(B,"sym")),{type:"Feature",properties:N,geometry:{type:"Point",coordinates:w(B).coordinates}}}function T(B){var N=["name","desc","author","copyright","link","time","keywords"],U={},I;for(I=0;I<N.length;I++)U[N[I]]=m(l(B,N[I]));return p(U)}return W}};return j}();typeof ny<"u"&&(ny.exports=gB)});var ry=Qt((IX,Xt)=>{"use strict";var ho=oM(),vB=AM(),yB=LM(),_B=FM(),wB=jM(),xI=CI();Xt.exports.polyline=IB;Xt.exports.polyline.parse=II;Xt.exports.geojson=CB;Xt.exports.topojson=xB;Xt.exports.topojson.parse=bI;Xt.exports.csv=bB;Xt.exports.csv.parse=DI;Xt.exports.gpx=DB;Xt.exports.gpx.parse=EI;Xt.exports.kml=EB;Xt.exports.kml.parse=MI;Xt.exports.wkt=MB;Xt.exports.wkt.parse=SI;function ci(e,t){"setGeoJSON"in e?e.setGeoJSON(t):"addData"in e&&e.addData(t)}function CB(e,t,r){var n=r||L.geoJson();return ho(e,function(i,s){if(i)return n.fire("error",{error:i});ci(n,JSON.parse(s.responseText)),n.fire("ready")}),n}function xB(e,t,r){var n=r||L.geoJson();ho(e,i);function i(s,a){if(s)return n.fire("error",{error:s});bI(a.responseText,t,n),n.fire("ready")}return n}function bB(e,t,r){var n=r||L.geoJson();ho(e,i);function i(s,a){var l;if(s)return n.fire("error",{error:s});function d(){l=!0}n.on("error",d),DI(a.responseText,t,n),n.off("error",d),l||n.fire("ready")}return n}function DB(e,t,r){var n=r||L.geoJson();ho(e,i);function i(s,a){var l;if(s)return n.fire("error",{error:s});function d(){l=!0}n.on("error",d),EI(a.responseXML||a.responseText,t,n),n.off("error",d),l||n.fire("ready")}return n}function EB(e,t,r){var n=r||L.geoJson();ho(e,i);function i(s,a){var l;if(s)return n.fire("error",{error:s});function d(){l=!0}n.on("error",d),MI(a.responseXML||a.responseText,t,n),n.off("error",d),l||n.fire("ready")}return n}function MB(e,t,r){var n=r||L.geoJson();ho(e,i);function i(s,a){if(s)return n.fire("error",{error:s});SI(a.responseText,t,n),n.fire("ready")}return n}function IB(e,t,r){var n=r||L.geoJson();ho(e,i);function i(s,a){if(s)return n.fire("error",{error:s});II(a.responseText,t,n),n.fire("ready")}return n}function bI(e,t,r){var n=typeof e=="string"?JSON.parse(e):e;r=r||L.geoJson();for(var i in n.objects){var s=wB.feature(n,n.objects[i]);s.features?ci(r,s.features):ci(r,s)}return r}function DI(e,t,r){r=r||L.geoJson(),t=t||{},vB.csv2geojson(e,t,n);function n(i,s){if(i)return r.fire("error",{error:i});ci(r,s)}return r}function EI(e,t,r){var n=TI(e);if(!n)return r.fire("error",{error:"Could not parse GPX"});r=r||L.geoJson();var i=xI.gpx(n);return ci(r,i),r}function MI(e,t,r){var n=TI(e);if(!n)return r.fire("error",{error:"Could not parse KML"});r=r||L.geoJson();var i=xI.kml(n);return ci(r,i),r}function II(e,t,r){r=r||L.geoJson(),t=t||{};for(var n=_B.decode(e,t.precision),i={type:"LineString",coordinates:[]},s=0;s<n.length;s++)i.coordinates[s]=[n[s][1],n[s][0]];return ci(r,i),r}function SI(e,t,r){r=r||L.geoJson();var n=yB(e);return ci(r,n),r}function TI(e){return typeof e=="string"?new DOMParser().parseFromString(e,"text/xml"):e}});var Jy=null;var dh=1,fh=Symbol("SIGNAL");function Ue(e){let t=Jy;return Jy=e,t}var e_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oT(e){if(!(mh(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===dh)){if(!e.producerMustRecompute(e)&&!hh(e)){e.dirty=!1,e.lastCleanEpoch=dh;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=dh}}function t_(e){return e&&(e.nextProducerIndex=0),Ue(e)}function n_(e,t){if(Ue(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(mh(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ph(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hh(e){vl(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(oT(r),n!==r.version))return!0}return!1}function r_(e){if(vl(e),mh(e))for(let t=0;t<e.producerNode.length;t++)ph(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ph(e,t){if(sT(e),vl(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)ph(e.producerNode[n],e.producerIndexOfThis[n]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];vl(i),i.producerIndexOfThis[n]=t}}function mh(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function vl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function sT(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function aT(){throw new Error}var uT=aT;function i_(e){uT=e}function ve(e){return typeof e=="function"}function Ao(e){let r=e(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var yl=Ao(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function ca(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var ft=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(ve(n))try{n()}catch(s){t=s instanceof yl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{o_(s)}catch(a){t=t??[],a instanceof yl?t=[...t,...a.errors]:t.push(a)}}if(t)throw new yl(t)}}add(t){var r;if(t&&t!==this)if(this.closed)o_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&ca(r,t)}remove(t){let{_finalizers:r}=this;r&&ca(r,t),t instanceof e&&t._removeParent(this)}};ft.EMPTY=(()=>{let e=new ft;return e.closed=!0,e})();var gh=ft.EMPTY;function _l(e){return e instanceof ft||e&&"closed"in e&&ve(e.remove)&&ve(e.add)&&ve(e.unsubscribe)}function o_(e){ve(e)?e():e.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var No={setTimeout(e,t,...r){let{delegate:n}=No;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=No;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function wl(e){No.setTimeout(()=>{let{onUnhandledError:t}=Dn;if(t)t(e);else throw e})}function da(){}var s_=vh("C",void 0,void 0);function a_(e){return vh("E",void 0,e)}function u_(e){return vh("N",e,void 0)}function vh(e,t,r){return{kind:e,value:t,error:r}}var bi=null;function Oo(e){if(Dn.useDeprecatedSynchronousErrorHandling){let t=!bi;if(t&&(bi={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:n}=bi;if(bi=null,r)throw n}}else e()}function l_(e){Dn.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=e)}var Di=class extends ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,_l(t)&&t.add(this)):this.destination=dT}static create(t,r,n){return new Po(t,r,n)}next(t){this.isStopped?_h(u_(t),this):this._next(t)}error(t){this.isStopped?_h(a_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_h(s_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lT=Function.prototype.bind;function yh(e,t){return lT.call(e,t)}var wh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Cl(n)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Cl(n)}else Cl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Cl(r)}}},Po=class extends Di{constructor(t,r,n){super();let i;if(ve(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let s;this&&Dn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&yh(t.next,s),error:t.error&&yh(t.error,s),complete:t.complete&&yh(t.complete,s)}):i=t}this.destination=new wh(i)}};function Cl(e){Dn.useDeprecatedSynchronousErrorHandling?l_(e):wl(e)}function cT(e){throw e}function _h(e,t){let{onStoppedNotification:r}=Dn;r&&No.setTimeout(()=>r(e,t))}var dT={closed:!0,next:da,error:cT,complete:da};var Ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jt(e){return e}function Ch(...e){return xh(e)}function xh(e){return e.length===0?Jt:e.length===1?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}var je=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){let s=hT(r)?r:new Po(r,n,i);return Oo(()=>{let{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=c_(n),new n((i,s)=>{let a=new Po({next:l=>{try{r(l)}catch(d){s(d),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Ro](){return this}pipe(...r){return xh(r)(this)}toPromise(r){return r=c_(r),new r((n,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>n(s))})}}return e.create=t=>new e(t),e})();function c_(e){var t;return(t=e??Dn.Promise)!==null&&t!==void 0?t:Promise}function fT(e){return e&&ve(e.next)&&ve(e.error)&&ve(e.complete)}function hT(e){return e&&e instanceof Di||fT(e)&&_l(e)}function bh(e){return ve(e?.lift)}function ke(e){return t=>{if(bh(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(e,t,r,n,i){return new Dh(e,t,r,n,i)}var Dh=class extends Di{constructor(t,r,n,i,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=r?function(l){try{r(l)}catch(d){t.error(d)}}:super._next,this._error=i?function(l){try{i(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Lo(){return ke((e,t)=>{let r=null;e._refCount++;let n=Oe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let i=e._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var ko=class extends je{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,bh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ft;let r=this.getSubject();t.add(this.source.subscribe(Oe(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ft.EMPTY)}return t}refCount(){return Lo()(this)}};var d_=Ao(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class e extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new xl(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new d_}next(r){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:s}=this;return n||i?gh:(this.currentObservers=null,s.push(r),new ft(()=>{this.currentObservers=null,ca(s,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:s}=this;n?r.error(i):s&&r.complete()}asObservable(){let r=new je;return r.source=this,r}}return e.create=(t,r)=>new xl(t,r),e})(),xl=class extends ht{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)}error(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:gh}};var bt=class extends ht{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var Eh={now(){return(Eh.delegate||Date).now()},delegate:void 0};var fa=class extends ht{constructor(t=1/0,r=1/0,n=Eh){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:a}=this;r||(n.push(t),!i&&n.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,s=i.slice();for(let a=0;a<s.length&&!t.closed;a+=n?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){let{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!i){let a=r.now(),l=0;for(let d=1;d<n.length&&n[d]<=a;d+=2)l=d;l&&n.splice(0,l+1)}}};var en=new je(e=>e.complete());function f_(e){return e&&ve(e.schedule)}function h_(e){return e[e.length-1]}function bl(e){return ve(h_(e))?e.pop():void 0}function Or(e){return f_(h_(e))?e.pop():void 0}function m_(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(p){try{f(n.next(p))}catch(m){a(m)}}function d(p){try{f(n.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,d)}f((n=n.apply(e,t||[])).next())})}function p_(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(e){return this instanceof Ei?(this.v=e,this):new Ei(e)}function g_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(v){n[v]&&(i[v]=function(y){return new Promise(function(w,C){s.push([v,y,w,C])>1||l(v,y)})})}function l(v,y){try{d(n[v](y))}catch(w){m(s[0][3],w)}}function d(v){v.value instanceof Ei?Promise.resolve(v.value.v).then(f,p):m(s[0][2],v)}function f(v){l("next",v)}function p(v){l("throw",v)}function m(v,y){v(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function v_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof p_=="function"?p_(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(l,d){a=e[s](a),i(l,d,a.done,a.value)})}}function i(s,a,l,d){Promise.resolve(d).then(function(f){s({value:f,done:l})},a)}}var Dl=e=>e&&typeof e.length=="number"&&typeof e!="function";function El(e){return ve(e?.then)}function Ml(e){return ve(e[Ro])}function Il(e){return Symbol.asyncIterator&&ve(e?.[Symbol.asyncIterator])}function Sl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tl=pT();function Al(e){return ve(e?.[Tl])}function Nl(e){return g_(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:n,done:i}=yield Ei(r.read());if(i)return yield Ei(void 0);yield yield Ei(n)}}finally{r.releaseLock()}})}function Ol(e){return ve(e?.getReader)}function ut(e){if(e instanceof je)return e;if(e!=null){if(Ml(e))return mT(e);if(Dl(e))return gT(e);if(El(e))return vT(e);if(Il(e))return y_(e);if(Al(e))return yT(e);if(Ol(e))return _T(e)}throw Sl(e)}function mT(e){return new je(t=>{let r=e[Ro]();if(ve(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gT(e){return new je(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function vT(e){return new je(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,wl)})}function yT(e){return new je(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function y_(e){return new je(t=>{wT(e,t).catch(r=>t.error(r))})}function _T(e){return y_(Nl(e))}function wT(e,t){var r,n,i,s;return m_(this,void 0,void 0,function*(){try{for(r=v_(e);n=yield r.next(),!n.done;){let a=n.value;if(t.next(a),t.closed)return}}catch(a){i={error:a}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(i)throw i.error}}t.complete()})}function Ht(e,t,r,n=0,i=!1){let s=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!i)return s}function Pl(e,t=0){return ke((r,n)=>{r.subscribe(Oe(n,i=>Ht(n,e,()=>n.next(i),t),()=>Ht(n,e,()=>n.complete(),t),i=>Ht(n,e,()=>n.error(i),t)))})}function Rl(e,t=0){return ke((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function __(e,t){return ut(e).pipe(Rl(t),Pl(t))}function w_(e,t){return ut(e).pipe(Rl(t),Pl(t))}function C_(e,t){return new je(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function x_(e,t){return new je(r=>{let n;return Ht(r,t,()=>{n=e[Tl](),Ht(r,t,()=>{let i,s;try{({value:i,done:s}=n.next())}catch(a){r.error(a);return}s?r.complete():r.next(i)},0,!0)}),()=>ve(n?.return)&&n.return()})}function Ll(e,t){if(!e)throw new Error("Iterable cannot be null");return new je(r=>{Ht(r,t,()=>{let n=e[Symbol.asyncIterator]();Ht(r,t,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function b_(e,t){return Ll(Nl(e),t)}function D_(e,t){if(e!=null){if(Ml(e))return __(e,t);if(Dl(e))return C_(e,t);if(El(e))return w_(e,t);if(Il(e))return Ll(e,t);if(Al(e))return x_(e,t);if(Ol(e))return b_(e,t)}throw Sl(e)}function et(e,t){return t?D_(e,t):ut(e)}function he(...e){let t=Or(e);return et(e,t)}function Fo(e,t){let r=ve(e)?e:()=>e,n=i=>i.error(r());return new je(t?i=>t.schedule(n,0,i):n)}function Mh(e){return!!e&&(e instanceof je||ve(e.lift)&&ve(e.subscribe))}var lr=Ao(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(e,t){return ke((r,n)=>{let i=0;r.subscribe(Oe(n,s=>{n.next(e.call(t,s,i++))}))})}var{isArray:CT}=Array;function xT(e,t){return CT(t)?e(...t):e(t)}function kl(e){return pe(t=>xT(e,t))}var{isArray:bT}=Array,{getPrototypeOf:DT,prototype:ET,keys:MT}=Object;function Fl(e){if(e.length===1){let t=e[0];if(bT(t))return{args:t,keys:null};if(IT(t)){let r=MT(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}function IT(e){return e&&typeof e=="object"&&DT(e)===ET}function Vl(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}function jl(...e){let t=Or(e),r=bl(e),{args:n,keys:i}=Fl(e);if(n.length===0)return et([],t);let s=new je(ST(n,t,i?a=>Vl(i,a):Jt));return r?s.pipe(kl(r)):s}function ST(e,t,r=Jt){return n=>{E_(t,()=>{let{length:i}=e,s=new Array(i),a=i,l=i;for(let d=0;d<i;d++)E_(t,()=>{let f=et(e[d],t),p=!1;f.subscribe(Oe(n,m=>{s[d]=m,p||(p=!0,l--),l||n.next(r(s.slice()))},()=>{--a||n.complete()}))},n)},n)}}function E_(e,t,r){e?Ht(r,e,t):t()}function M_(e,t,r,n,i,s,a,l){let d=[],f=0,p=0,m=!1,v=()=>{m&&!d.length&&!f&&t.complete()},y=C=>f<n?w(C):d.push(C),w=C=>{s&&t.next(C),f++;let x=!1;ut(r(C,p++)).subscribe(Oe(t,k=>{i?.(k),s?y(k):t.next(k)},()=>{x=!0},void 0,()=>{if(x)try{for(f--;d.length&&f<n;){let k=d.shift();a?Ht(t,a,()=>w(k)):w(k)}v()}catch(k){t.error(k)}}))};return e.subscribe(Oe(t,y,()=>{m=!0,v()})),()=>{l?.()}}function pt(e,t,r=1/0){return ve(t)?pt((n,i)=>pe((s,a)=>t(n,s,i,a))(ut(e(n,i))),r):(typeof t=="number"&&(r=t),ke((n,i)=>M_(n,i,e,r)))}function Ih(e=1/0){return pt(Jt,e)}function I_(){return Ih(1)}function Vo(...e){return I_()(et(e,Or(e)))}function Bl(e){return new je(t=>{ut(e()).subscribe(t)})}function Sh(...e){let t=bl(e),{args:r,keys:n}=Fl(e),i=new je(s=>{let{length:a}=r;if(!a){s.complete();return}let l=new Array(a),d=a,f=a;for(let p=0;p<a;p++){let m=!1;ut(r[p]).subscribe(Oe(s,v=>{m||(m=!0,f--),l[p]=v},()=>d--,void 0,()=>{(!d||!m)&&(f||s.next(n?Vl(n,l):l),s.complete())}))}});return t?i.pipe(kl(t)):i}function tn(e,t){return ke((r,n)=>{let i=0;r.subscribe(Oe(n,s=>e.call(t,s,i++)&&n.next(s)))})}function Pr(e){return ke((t,r)=>{let n=null,i=!1,s;n=t.subscribe(Oe(r,void 0,void 0,a=>{s=ut(e(a,Pr(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function S_(e,t,r,n,i){return(s,a)=>{let l=r,d=t,f=0;s.subscribe(Oe(a,p=>{let m=f++;d=l?e(d,p,m):(l=!0,p),n&&a.next(d)},i&&(()=>{l&&a.next(d),a.complete()})))}}function Rr(e,t){return ve(t)?pt(e,t,1):pt(e,1)}function Lr(e){return ke((t,r)=>{let n=!1;t.subscribe(Oe(r,i=>{n=!0,r.next(i)},()=>{n||r.next(e),r.complete()}))})}function cr(e){return e<=0?()=>en:ke((t,r)=>{let n=0;t.subscribe(Oe(r,i=>{++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function Th(e){return pe(()=>e)}function Ul(e=TT){return ke((t,r)=>{let n=!1;t.subscribe(Oe(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(e())))})}function TT(){return new lr}function kr(e){return ke((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function En(e,t){let r=arguments.length>=2;return n=>n.pipe(e?tn((i,s)=>e(i,s,n)):Jt,cr(1),r?Lr(t):Ul(()=>new lr))}function jo(e){return e<=0?()=>en:ke((t,r)=>{let n=[];t.subscribe(Oe(r,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Ah(e,t){let r=arguments.length>=2;return n=>n.pipe(e?tn((i,s)=>e(i,s,n)):Jt,jo(1),r?Lr(t):Ul(()=>new lr))}function Nh(e,t){return ke(S_(e,t,arguments.length>=2,!0))}function Oh(...e){let t=Or(e);return ke((r,n)=>{(t?Vo(e,r,t):Vo(e,r)).subscribe(n)})}function nn(e,t){return ke((r,n)=>{let i=null,s=0,a=!1,l=()=>a&&!i&&n.complete();r.subscribe(Oe(n,d=>{i?.unsubscribe();let f=0,p=s++;ut(e(d,p)).subscribe(i=Oe(n,m=>n.next(t?t(d,m,p,f++):m),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function Ph(e){return ke((t,r)=>{ut(e).subscribe(Oe(r,()=>r.complete(),da)),!r.closed&&t.subscribe(r)})}function mt(e,t,r){let n=ve(e)||t||r?{next:e,error:t,complete:r}:e;return n?ke((i,s)=>{var a;(a=n.subscribe)===null||a===void 0||a.call(n);let l=!0;i.subscribe(Oe(s,d=>{var f;(f=n.next)===null||f===void 0||f.call(n,d),s.next(d)},()=>{var d;l=!1,(d=n.complete)===null||d===void 0||d.call(n),s.complete()},d=>{var f;l=!1,(f=n.error)===null||f===void 0||f.call(n,d),s.error(d)},()=>{var d,f;l&&((d=n.unsubscribe)===null||d===void 0||d.call(n)),(f=n.finalize)===null||f===void 0||f.call(n)}))}):Jt}var AT="https://g.co/ng/security#xss",le=class extends Error{constructor(t,r){super(xc(t,r)),this.code=t}};function xc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Ma(e){return{toString:e}.toString()}var $l="__parameters__";function NT(e){return function(...r){if(e){let n=e(...r);for(let i in n)this[i]=n[i]}}}function h0(e,t,r){return Ma(()=>{let n=NT(t);function i(...s){if(this instanceof i)return n.apply(this,s),this;let a=new i(...s);return l.annotation=a,l;function l(d,f,p){let m=d.hasOwnProperty($l)?d[$l]:Object.defineProperty(d,$l,{value:[]})[$l];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(a),d}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Mi=globalThis;function ze(e){for(let t in e)if(e[t]===ze)return t;throw Error("Could not find renamed property on target object.")}function OT(e,t){for(let r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Vt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Vt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function T_(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var PT=ze({__forward_ref__:ze});function ki(e){return e.__forward_ref__=ki,e.toString=function(){return Vt(this())},e}function Ft(e){return p0(e)?e():e}function p0(e){return typeof e=="function"&&e.hasOwnProperty(PT)&&e.__forward_ref__===ki}function ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nn(e){return{providers:e.providers||[],imports:e.imports||[]}}function bc(e){return A_(e,g0)||A_(e,v0)}function m0(e){return bc(e)!==null}function A_(e,t){return e.hasOwnProperty(t)?e[t]:null}function RT(e){let t=e&&(e[g0]||e[v0]);return t||null}function N_(e){return e&&(e.hasOwnProperty(O_)||e.hasOwnProperty(LT))?e[O_]:null}var g0=ze({\u0275prov:ze}),O_=ze({\u0275inj:ze}),v0=ze({ngInjectableDef:ze}),LT=ze({ngInjectorDef:ze}),ce=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=ae({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function y0(e){return e&&!!e.\u0275providers}var kT=ze({\u0275cmp:ze}),FT=ze({\u0275dir:ze}),VT=ze({\u0275pipe:ze}),jT=ze({\u0275mod:ze}),ec=ze({\u0275fac:ze}),ha=ze({__NG_ELEMENT_ID__:ze}),P_=ze({__NG_ENV_ID__:ze});function tc(e){return typeof e=="string"?e:e==null?"":String(e)}function BT(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():tc(e)}function UT(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new le(-200,e)}function Bp(e,t){throw new le(-201,!1)}var Ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ie||{}),Xh;function _0(){return Xh}function yn(e){let t=Xh;return Xh=e,t}function w0(e,t,r){let n=bc(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&Ie.Optional)return null;if(t!==void 0)return t;Bp(e,"Injector")}var $T={},pa=$T,Qh="__NG_DI_FLAG__",nc="ngTempTokenPath",zT="ngTokenPath",HT=/\n/gm,GT="\u0275",R_="__source",zo;function qT(){return zo}function Fr(e){let t=zo;return zo=e,t}function WT(e,t=Ie.Default){if(zo===void 0)throw new le(-203,!1);return zo===null?w0(e,void 0,t):zo.get(e,t&Ie.Optional?null:void 0,t)}function _e(e,t=Ie.Default){return(_0()||WT)(Ft(e),t)}function Q(e,t=Ie.Default){return _e(e,Dc(t))}function Dc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Jh(e){let t=[];for(let r=0;r<e.length;r++){let n=Ft(e[r]);if(Array.isArray(n)){if(n.length===0)throw new le(900,!1);let i,s=Ie.Default;for(let a=0;a<n.length;a++){let l=n[a],d=ZT(l);typeof d=="number"?d===-1?i=l.token:s|=d:i=l}t.push(_e(i,s))}else t.push(_e(n))}return t}function C0(e,t){return e[Qh]=t,e.prototype[Qh]=t,e}function ZT(e){return e[Qh]}function YT(e,t,r,n){let i=e[nc];throw t[R_]&&i.unshift(t[R_]),e.message=KT(`
`+e.message,i,r,n),e[zT]=i,e[nc]=null,e}function KT(e,t,r,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==GT?e.slice(2):e;let i=Vt(t);if(Array.isArray(t))i=t.map(Vt).join(" -> ");else if(typeof t=="object"){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+(typeof l=="string"?JSON.stringify(l):Vt(l)))}i=`{${s.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(HT,`
  `)}`}var Up=C0(h0("Optional"),8);var x0=C0(h0("SkipSelf"),4);function Go(e,t){let r=e.hasOwnProperty(ec);return r?e[ec]:null}function $p(e,t){e.forEach(r=>Array.isArray(r)?$p(r,t):t(r))}function b0(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function rc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function XT(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(i===1)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;){let s=i-2;e[i]=e[s],i--}e[t]=r,e[t+1]=n}}function QT(e,t,r){let n=Ia(e,t);return n>=0?e[n|1]=r:(n=~n,XT(e,n,t,r)),n}function Rh(e,t){let r=Ia(e,t);if(r>=0)return e[r|1]}function Ia(e,t){return JT(e,t,1)}function JT(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){let s=n+(i-n>>1),a=e[s<<r];if(t===a)return s<<r;a>t?i=s:n=s+1}return~(i<<r)}var qo={},rn=[],Si=new ce(""),D0=new ce("",-1),E0=new ce(""),ic=class{get(t,r=pa){if(r===pa){let n=new Error(`NullInjectorError: No provider for ${Vt(t)}!`);throw n.name="NullInjectorError",n}return r}},M0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(M0||{}),Gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gn||{}),Ze=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ze||{});function e1(e,t,r){let n=e.length;for(;;){let i=e.indexOf(t,r);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let s=t.length;if(i+s===n||e.charCodeAt(i+s)<=32)return i}r=i+1}}function ep(e,t,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let s=r[n++],a=r[n++],l=r[n++];e.setAttribute(t,a,l,s)}else{let s=i,a=r[++n];n1(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),n++}}return n}function t1(e){return e===3||e===4||e===6}function n1(e){return e.charCodeAt(0)===64}function ma(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?L_(e,r,i,null,t[++n]):L_(e,r,i,null,null))}}return e}function L_(e,t,r,n,i){let s=0,a=e.length;if(t===-1)a=-1;else for(;s<e.length;){let l=e[s++];if(typeof l=="number"){if(l===t){a=-1;break}else if(l>t){a=s-1;break}}}for(;s<e.length;){let l=e[s];if(typeof l=="number")break;if(l===r){if(n===null){i!==null&&(e[s+1]=i);return}else if(n===e[s+1]){e[s+2]=i;return}}s++,n!==null&&s++,i!==null&&s++}a!==-1&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,r),n!==null&&e.splice(s++,0,n),i!==null&&e.splice(s++,0,i)}var I0="ng-template";function r1(e,t,r,n){let i=0;if(n){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&e1(t[i+1].toLowerCase(),r,0)!==-1)return!0}else if(zp(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&typeof(s=t[i])=="string";)if(s.toLowerCase()===r)return!0}return!1}function zp(e){return e.type===4&&e.value!==I0}function i1(e,t,r){let n=e.type===4&&!r?I0:e.value;return t===n}function o1(e,t,r){let n=4,i=e.attrs,s=i!==null?u1(i):0,a=!1;for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="number"){if(!a&&!Mn(n)&&!Mn(d))return!1;if(a&&Mn(d))continue;a=!1,n=d|n&1;continue}if(!a)if(n&4){if(n=2|n&1,d!==""&&!i1(e,d,r)||d===""&&t.length===1){if(Mn(n))return!1;a=!0}}else if(n&8){if(i===null||!r1(e,i,d,r)){if(Mn(n))return!1;a=!0}}else{let f=t[++l],p=s1(d,i,zp(e),r);if(p===-1){if(Mn(n))return!1;a=!0;continue}if(f!==""){let m;if(p>s?m="":m=i[p+1].toLowerCase(),n&2&&f!==m){if(Mn(n))return!1;a=!0}}}}return Mn(n)||a}function Mn(e){return(e&1)===0}function s1(e,t,r,n){if(t===null)return-1;let i=0;if(n||!r){let s=!1;for(;i<t.length;){let a=t[i];if(a===e)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let l=t[++i];for(;typeof l=="string";)l=t[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return l1(t,e)}function a1(e,t,r=!1){for(let n=0;n<t.length;n++)if(o1(e,t[n],r))return!0;return!1}function u1(e){for(let t=0;t<e.length;t++){let r=e[t];if(t1(r))return t}return e.length}function l1(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let n=e[r];if(typeof n=="number")return-1;if(n===t)return r;r++}return-1}function k_(e,t){return e?":not("+t.trim()+")":t}function c1(e){let t=e[0],r=1,n=2,i="",s=!1;for(;r<e.length;){let a=e[r];if(typeof a=="string")if(n&2){let l=e[++r];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else n&8?i+="."+a:n&4&&(i+=" "+a);else i!==""&&!Mn(a)&&(t+=k_(s,i),i=""),n=a,s=s||!Mn(n);r++}return i!==""&&(t+=k_(s,i)),t}function d1(e){return e.map(c1).join(",")}function f1(e){let t=[],r=[],n=1,i=2;for(;n<e.length;){let s=e[n];if(typeof s=="string")i===2?s!==""&&t.push(s,e[++n]):i===8&&r.push(s);else{if(!Mn(i))break;i=s}n++}return{attrs:t,classes:r}}function lt(e){return Ma(()=>{let t=O0(e),r=qe(re({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===M0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gn.Emulated,styles:e.styles||rn,_:null,schemas:e.schemas||null,tView:null,id:""});P0(r);let n=e.dependencies;return r.directiveDefs=V_(n,!1),r.pipeDefs=V_(n,!0),r.id=m1(r),r})}function h1(e){return Ti(e)||S0(e)}function p1(e){return e!==null}function On(e){return Ma(()=>({type:e.type,bootstrap:e.bootstrap||rn,declarations:e.declarations||rn,imports:e.imports||rn,exports:e.exports||rn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function F_(e,t){if(e==null)return qo;let r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],s,a,l=Ze.None;Array.isArray(i)?(l=i[0],s=i[1],a=i[2]??s):(s=i,a=i),t?(r[s]=l!==Ze.None?[n,l]:n,t[s]=a):r[s]=n}return r}function Et(e){return Ma(()=>{let t=O0(e);return P0(t),t})}function Ti(e){return e[kT]||null}function S0(e){return e[FT]||null}function T0(e){return e[VT]||null}function A0(e){let t=Ti(e)||S0(e)||T0(e);return t!==null?t.standalone:!1}function N0(e,t){let r=e[jT]||null;if(!r&&t===!0)throw new Error(`Type ${Vt(e)} does not have '\u0275mod' property.`);return r}function O0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||qo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||rn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:F_(e.inputs,t),outputs:F_(e.outputs),debugInfo:null}}function P0(e){e.features?.forEach(t=>t(e))}function V_(e,t){if(!e)return null;let r=t?T0:h1;return()=>(typeof e=="function"?e():e).map(n=>r(n)).filter(p1)}function m1(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Ur(e){return{\u0275providers:e}}function g1(...e){return{\u0275providers:R0(!0,e),\u0275fromNgModule:!0}}function R0(e,...t){let r=[],n=new Set,i,s=a=>{r.push(a)};return $p(t,a=>{let l=a;tp(l,s,[],n)&&(i||=[],i.push(l))}),i!==void 0&&L0(i,s),r}function L0(e,t){for(let r=0;r<e.length;r++){let{ngModule:n,providers:i}=e[r];Hp(i,s=>{t(s,n)})}}function tp(e,t,r,n){if(e=Ft(e),!e)return!1;let i=null,s=N_(e),a=!s&&Ti(e);if(!s&&!a){let d=e.ngModule;if(s=N_(d),s)i=d;else return!1}else{if(a&&!a.standalone)return!1;i=e}let l=n.has(i);if(a){if(l)return!1;if(n.add(i),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of d)tp(f,t,r,n)}}else if(s){if(s.imports!=null&&!l){n.add(i);let f;try{$p(s.imports,p=>{tp(p,t,r,n)&&(f||=[],f.push(p))})}finally{}f!==void 0&&L0(f,t)}if(!l){let f=Go(i)||(()=>new i);t({provide:i,useFactory:f,deps:rn},i),t({provide:E0,useValue:i,multi:!0},i),t({provide:Si,useValue:()=>_e(i),multi:!0},i)}let d=s.providers;if(d!=null&&!l){let f=e;Hp(d,p=>{t(p,f)})}}else return!1;return i!==e&&e.providers!==void 0}function Hp(e,t){for(let r of e)y0(r)&&(r=r.\u0275providers),Array.isArray(r)?Hp(r,t):t(r)}var v1=ze({provide:String,useValue:ze});function k0(e){return e!==null&&typeof e=="object"&&v1 in e}function y1(e){return!!(e&&e.useExisting)}function _1(e){return!!(e&&e.useFactory)}function Wo(e){return typeof e=="function"}function w1(e){return!!e.useClass}var Ec=new ce(""),Yl={},C1={},Lh;function Gp(){return Lh===void 0&&(Lh=new ic),Lh}var Gt=class{},ga=class extends Gt{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rp(t,a=>this.processProvider(a)),this.records.set(D0,Bo(void 0,this)),i.has("environment")&&this.records.set(Gt,Bo(void 0,this));let s=this.records.get(Ec);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(E0,rn,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ue(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ue(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=Fr(this),n=yn(void 0),i;try{return t()}finally{Fr(r),yn(n)}}get(t,r=pa,n=Ie.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(P_))return t[P_](this);n=Dc(n);let i,s=Fr(this),a=yn(void 0);try{if(!(n&Ie.SkipSelf)){let d=this.records.get(t);if(d===void 0){let f=M1(t)&&bc(t);f&&this.injectableDefInScope(f)?d=Bo(np(t),Yl):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d)}let l=n&Ie.Self?Gp():this.parent;return r=n&Ie.Optional&&r===pa?null:r,l.get(t,r)}catch(l){if(l.name==="NullInjectorError"){if((l[nc]=l[nc]||[]).unshift(Vt(t)),s)throw l;return YT(l,t,"R3InjectorError",this.source)}else throw l}finally{yn(a),Fr(s)}}resolveInjectorInitializers(){let t=Ue(null),r=Fr(this),n=yn(void 0),i;try{let s=this.get(Si,rn,Ie.Self);for(let a of s)a()}finally{Fr(r),yn(n),Ue(t)}}toString(){let t=[],r=this.records;for(let n of r.keys())t.push(Vt(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(t){t=Ft(t);let r=Wo(t)?t:Ft(t&&t.provide),n=b1(t);if(!Wo(t)&&t.multi===!0){let i=this.records.get(r);i||(i=Bo(void 0,Yl,!0),i.factory=()=>Jh(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,n)}hydrate(t,r){let n=Ue(null);try{return r.value===Yl&&(r.value=C1,r.value=r.factory()),typeof r.value=="object"&&r.value&&E1(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ue(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let r=Ft(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function np(e){let t=bc(e),r=t!==null?t.factory:Go(e);if(r!==null)return r;if(e instanceof ce)throw new le(204,!1);if(e instanceof Function)return x1(e);throw new le(204,!1)}function x1(e){if(e.length>0)throw new le(204,!1);let r=RT(e);return r!==null?()=>r.factory(e):()=>new e}function b1(e){if(k0(e))return Bo(void 0,e.useValue);{let t=F0(e);return Bo(t,Yl)}}function F0(e,t,r){let n;if(Wo(e)){let i=Ft(e);return Go(i)||np(i)}else if(k0(e))n=()=>Ft(e.useValue);else if(_1(e))n=()=>e.useFactory(...Jh(e.deps||[]));else if(y1(e))n=()=>_e(Ft(e.useExisting));else{let i=Ft(e&&(e.useClass||e.provide));if(D1(e))n=()=>new i(...Jh(e.deps));else return Go(i)||np(i)}return n}function Bo(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function D1(e){return!!e.deps}function E1(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function M1(e){return typeof e=="function"||typeof e=="object"&&e instanceof ce}function rp(e,t){for(let r of e)Array.isArray(r)?rp(r,t):r&&y0(r)?rp(r.\u0275providers,t):t(r)}function mr(e,t){e instanceof ga&&e.assertNotDestroyed();let r,n=Fr(e),i=yn(void 0);try{return t()}finally{Fr(n),yn(i)}}function I1(){return _0()!==void 0||qT()!=null}function S1(e){return typeof e=="function"}var sn=0,Ae=1,me=2,Dt=3,In=4,Pn=5,Sn=6,va=7,Tn=8,Zo=9,qn=10,Ye=11,ya=12,j_=13,Jo=14,_n=15,Mc=16,Uo=17,Yo=18,Ic=19,V0=20,Vr=21,kh=22,Ai=23,an=25,j0=1,_a=6,fr=7,oc=8,sc=9,on=10,qp=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qp||{});function dr(e){return Array.isArray(e)&&typeof e[j0]=="object"}function Wn(e){return Array.isArray(e)&&e[j0]===!0}function B0(e){return(e.flags&4)!==0}function Sa(e){return e.componentOffset>-1}function Wp(e){return(e.flags&1)===1}function jr(e){return!!e.template}function U0(e){return(e[me]&512)!==0}var ip=class{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function $0(e,t,r,n){t!==null?t.applyValueToInputSignal(t,n):e[r]=n}function $r(){return z0}function z0(e){return e.type.prototype.ngOnChanges&&(e.setInput=A1),T1}$r.ngInherit=!0;function T1(){let e=G0(this),t=e?.current;if(t){let r=e.previous;if(r===qo)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function A1(e,t,r,n,i){let s=this.declaredInputs[n],a=G0(e)||N1(e,{previous:qo,current:null}),l=a.current||(a.current={}),d=a.previous,f=d[s];l[s]=new ip(f&&f.currentValue,r,d===qo),$0(e,t,i,r)}var H0="__ngSimpleChanges__";function G0(e){return e[H0]||null}function N1(e,t){return e[H0]=t}var B_=null;var zn=function(e,t,r){B_?.(e,t,r)},q0="svg",O1="math",P1=!1;function R1(){return P1}function An(e){for(;Array.isArray(e);)e=e[sn];return e}function W0(e,t){return An(t[e])}function wn(e,t){return An(t[e.index])}function Z0(e,t){return e.data[t]}function zr(e,t){let r=t[e];return dr(r)?r:r[sn]}function Zp(e){return(e[me]&128)===128}function L1(e){return Wn(e[Dt])}function ac(e,t){return t==null?null:e[t]}function Y0(e){e[Uo]=0}function k1(e){e[me]&1024||(e[me]|=1024,Zp(e)&&wa(e))}function F1(e,t){for(;e>0;)t=t[Jo],e--;return t}function Yp(e){return!!(e[me]&9216||e[Ai]?.dirty)}function op(e){e[qn].changeDetectionScheduler?.notify(1),Yp(e)?wa(e):e[me]&64&&(R1()?(e[me]|=1024,wa(e)):e[qn].changeDetectionScheduler?.notify())}function wa(e){e[qn].changeDetectionScheduler?.notify();let t=Ca(e);for(;t!==null&&!(t[me]&8192||(t[me]|=8192,!Zp(t)));)t=Ca(t)}function K0(e,t){if((e[me]&256)===256)throw new le(911,!1);e[Vr]===null&&(e[Vr]=[]),e[Vr].push(t)}function V1(e,t){if(e[Vr]===null)return;let r=e[Vr].indexOf(t);r!==-1&&e[Vr].splice(r,1)}function Ca(e){let t=e[Dt];return Wn(t)?t[Dt]:t}var xe={lFrame:iw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function j1(){return xe.lFrame.elementDepthCount}function B1(){xe.lFrame.elementDepthCount++}function U1(){xe.lFrame.elementDepthCount--}function X0(){return xe.bindingsEnabled}function Ta(){return xe.skipHydrationRootTNode!==null}function $1(e){return xe.skipHydrationRootTNode===e}function z1(e){xe.skipHydrationRootTNode=e}function H1(){xe.skipHydrationRootTNode=null}function Ke(){return xe.lFrame.lView}function un(){return xe.lFrame.tView}function Zn(e){return xe.lFrame.contextLView=e,e[Tn]}function Yn(e){return xe.lFrame.contextLView=null,e}function ln(){let e=Q0();for(;e!==null&&e.type===64;)e=e.parent;return e}function Q0(){return xe.lFrame.currentTNode}function G1(){let e=xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Aa(e,t){let r=xe.lFrame;r.currentTNode=e,r.isParent=t}function J0(){return xe.lFrame.isParent}function q1(){xe.lFrame.isParent=!1}function W1(){return xe.lFrame.bindingIndex}function Z1(e){return xe.lFrame.bindingIndex=e}function Kp(){return xe.lFrame.bindingIndex++}function ew(e){let t=xe.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Y1(){return xe.lFrame.inI18n}function K1(e,t){let r=xe.lFrame;r.bindingIndex=r.bindingRootIndex=e,sp(t)}function X1(){return xe.lFrame.currentDirectiveIndex}function sp(e){xe.lFrame.currentDirectiveIndex=e}function Q1(e){let t=xe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function tw(e){xe.lFrame.currentQueryIndex=e}function J1(e){let t=e[Ae];return t.type===2?t.declTNode:t.type===1?e[Pn]:null}function nw(e,t,r){if(r&Ie.SkipSelf){let i=t,s=e;for(;i=i.parent,i===null&&!(r&Ie.Host);)if(i=J1(s),i===null||(s=s[Jo],i.type&10))break;if(i===null)return!1;t=i,e=s}let n=xe.lFrame=rw();return n.currentTNode=t,n.lView=e,!0}function Xp(e){let t=rw(),r=e[Ae];xe.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function rw(){let e=xe.lFrame,t=e===null?null:e.child;return t===null?iw(e):t}function iw(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function ow(){let e=xe.lFrame;return xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var sw=ow;function Qp(){let e=ow();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function eA(e){return(xe.lFrame.contextLView=F1(e,xe.lFrame.contextLView))[Tn]}function Fi(){return xe.lFrame.selectedIndex}function Ni(e){xe.lFrame.selectedIndex=e}function Jp(){let e=xe.lFrame;return Z0(e.tView,e.selectedIndex)}function aw(){xe.lFrame.currentNamespace=q0}function uw(){tA()}function tA(){xe.lFrame.currentNamespace=null}function lw(){return xe.lFrame.currentNamespace}var cw=!0;function em(){return cw}function Kn(e){cw=e}function nA(e,t,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(n){let a=z0(t);(r.preOrderHooks??=[]).push(e,a),(r.preOrderCheckHooks??=[]).push(e,a)}i&&(r.preOrderHooks??=[]).push(0-e,i),s&&((r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s))}function tm(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){let s=e.data[r].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:p}=s;a&&(e.contentHooks??=[]).push(-r,a),l&&((e.contentHooks??=[]).push(r,l),(e.contentCheckHooks??=[]).push(r,l)),d&&(e.viewHooks??=[]).push(-r,d),f&&((e.viewHooks??=[]).push(r,f),(e.viewCheckHooks??=[]).push(r,f)),p!=null&&(e.destroyHooks??=[]).push(r,p)}}function Kl(e,t,r){dw(e,t,3,r)}function Xl(e,t,r,n){(e[me]&3)===r&&dw(e,t,r,n)}function Fh(e,t){let r=e[me];(r&3)===t&&(r&=16383,r+=1,e[me]=r)}function dw(e,t,r,n){let i=n!==void 0?e[Uo]&65535:0,s=n??-1,a=t.length-1,l=0;for(let d=i;d<a;d++)if(typeof t[d+1]=="number"){if(l=t[d],n!=null&&l>=n)break}else t[d]<0&&(e[Uo]+=65536),(l<s||s==-1)&&(rA(e,r,t,d),e[Uo]=(e[Uo]&4294901760)+d+2),d++}function U_(e,t){zn(4,e,t);let r=Ue(null);try{t.call(e)}finally{Ue(r),zn(5,e,t)}}function rA(e,t,r,n){let i=r[n]<0,s=r[n+1],a=i?-r[n]:r[n],l=e[a];i?e[me]>>14<e[Uo]>>16&&(e[me]&3)===t&&(e[me]+=16384,U_(l,s)):U_(l,s)}var Ho=-1,Oi=class{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function iA(e){return e instanceof Oi}function oA(e){return(e.flags&8)!==0}function sA(e){return(e.flags&16)!==0}function fw(e){return e!==Ho}function uc(e){return e&32767}function aA(e){return e>>16}function lc(e,t){let r=aA(e),n=t;for(;r>0;)n=n[Jo],r--;return n}var ap=!0;function $_(e){let t=ap;return ap=e,t}var uA=256,hw=uA-1,pw=5,lA=0,Hn={};function cA(e,t,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(ha)&&(n=r[ha]),n==null&&(n=r[ha]=lA++);let i=n&hw,s=1<<i;t.data[e+(i>>pw)]|=s}function cc(e,t){let r=mw(e,t);if(r!==-1)return r;let n=t[Ae];n.firstCreatePass&&(e.injectorIndex=t.length,Vh(n.data,e),Vh(t,null),Vh(n.blueprint,null));let i=nm(e,t),s=e.injectorIndex;if(fw(i)){let a=uc(i),l=lc(i,t),d=l[Ae].data;for(let f=0;f<8;f++)t[s+f]=l[a+f]|d[a+f]}return t[s+8]=i,s}function Vh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mw(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function nm(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;i!==null;){if(n=ww(i),n===null)return Ho;if(r++,i=i[Jo],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Ho}function up(e,t,r){cA(e,t,r)}function gw(e,t,r){if(r&Ie.Optional||e!==void 0)return e;Bp(t,"NodeInjector")}function vw(e,t,r,n){if(r&Ie.Optional&&n===void 0&&(n=null),!(r&(Ie.Self|Ie.Host))){let i=e[Zo],s=yn(void 0);try{return i?i.get(t,n,r&Ie.Optional):w0(t,n,r&Ie.Optional)}finally{yn(s)}}return gw(n,t,r)}function yw(e,t,r,n=Ie.Default,i){if(e!==null){if(t[me]&2048&&!(n&Ie.Self)){let a=mA(e,t,r,n,Hn);if(a!==Hn)return a}let s=_w(e,t,r,n,Hn);if(s!==Hn)return s}return vw(t,r,n,i)}function _w(e,t,r,n,i){let s=hA(r);if(typeof s=="function"){if(!nw(t,e,n))return n&Ie.Host?gw(i,r,n):vw(t,r,n,i);try{let a;if(a=s(n),a==null&&!(n&Ie.Optional))Bp(r);else return a}finally{sw()}}else if(typeof s=="number"){let a=null,l=mw(e,t),d=Ho,f=n&Ie.Host?t[_n][Pn]:null;for((l===-1||n&Ie.SkipSelf)&&(d=l===-1?nm(e,t):t[l+8],d===Ho||!H_(n,!1)?l=-1:(a=t[Ae],l=uc(d),t=lc(d,t)));l!==-1;){let p=t[Ae];if(z_(s,l,p.data)){let m=dA(l,t,r,a,n,f);if(m!==Hn)return m}d=t[l+8],d!==Ho&&H_(n,t[Ae].data[l+8]===f)&&z_(s,l,t)?(a=p,l=uc(d),t=lc(d,t)):l=-1}}return i}function dA(e,t,r,n,i,s){let a=t[Ae],l=a.data[e+8],d=n==null?Sa(l)&&ap:n!=a&&(l.type&3)!==0,f=i&Ie.Host&&s===l,p=fA(l,a,r,d,f);return p!==null?Ko(t,a,p,l):Hn}function fA(e,t,r,n,i){let s=e.providerIndexes,a=t.data,l=s&1048575,d=e.directiveStart,f=e.directiveEnd,p=s>>20,m=n?l:l+p,v=i?l+p:f;for(let y=m;y<v;y++){let w=a[y];if(y<d&&r===w||y>=d&&w.type===r)return y}if(i){let y=a[d];if(y&&jr(y)&&y.type===r)return d}return null}function Ko(e,t,r,n){let i=e[r],s=t.data;if(iA(i)){let a=i;a.resolving&&UT(BT(s[r]));let l=$_(a.canSeeViewProviders);a.resolving=!0;let d,f=a.injectImpl?yn(a.injectImpl):null,p=nw(e,n,Ie.Default);try{i=e[r]=a.factory(void 0,s,e,n),t.firstCreatePass&&r>=n.directiveStart&&nA(r,s[r],t)}finally{f!==null&&yn(f),$_(l),a.resolving=!1,sw()}}return i}function hA(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ha)?e[ha]:void 0;return typeof t=="number"?t>=0?t&hw:pA:t}function z_(e,t,r){let n=1<<e;return!!(r[t+(e>>pw)]&n)}function H_(e,t){return!(e&Ie.Self)&&!(e&Ie.Host&&t)}var Ii=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return yw(this._tNode,this._lView,t,Dc(n),r)}};function pA(){return new Ii(ln(),Ke())}function es(e){return Ma(()=>{let t=e.prototype.constructor,r=t[ec]||lp(t),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let s=i[ec]||lp(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function lp(e){return p0(e)?()=>{let t=lp(Ft(e));return t&&t()}:Go(e)}function mA(e,t,r,n,i){let s=e,a=t;for(;s!==null&&a!==null&&a[me]&2048&&!(a[me]&512);){let l=_w(s,a,r,n|Ie.Self,Hn);if(l!==Hn)return l;let d=s.parent;if(!d){let f=a[V0];if(f){let p=f.get(r,Hn,n);if(p!==Hn)return p}d=ww(a),a=a[Jo]}s=d}return i}function ww(e){let t=e[Ae],r=t.type;return r===2?t.declTNode:r===1?e[Pn]:null}function G_(e,t=null,r=null,n){let i=Cw(e,t,r,n);return i.resolveInjectorInitializers(),i}function Cw(e,t=null,r=null,n,i=new Set){let s=[r||rn,g1(e)];return n=n||(typeof e=="object"?void 0:Vt(e)),new ga(s,t||Gp(),n||null,i)}var Hr=(()=>{let t=class t{static create(n,i){if(Array.isArray(n))return G_({name:""},i,n,"");{let s=n.name??"";return G_({name:s},n.parent,n.providers,s)}}};t.THROW_IF_NOT_FOUND=pa,t.NULL=new ic,t.\u0275prov=ae({token:t,providedIn:"any",factory:()=>_e(D0)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var gA="ngOriginalError";function jh(e){return e[gA]}var hr=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&jh(t);for(;r&&jh(r);)r=jh(r);return r||null}},xw=new ce("",{providedIn:"root",factory:()=>Q(hr).handleError.bind(void 0)}),bw=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=vA,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),cp=class extends bw{constructor(t){super(),this._lView=t}onDestroy(t){return K0(this._lView,t),()=>V1(this._lView,t)}};function vA(){return new cp(Ke())}function yA(){return Sc(ln(),Ke())}function Sc(e,t){return new gr(wn(e,t))}var gr=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=yA;let e=t;return e})();var dp=class extends ht{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,I1()&&(this.destroyRef=Q(bw,{optional:!0})??void 0)}emit(t){let r=Ue(null);try{super.next(t)}finally{Ue(r)}}subscribe(t,r,n){let i=t,s=r||(()=>null),a=n;if(t&&typeof t=="object"){let d=t;i=d.next?.bind(d),s=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(s=Bh(s),i&&(i=Bh(i)),a&&(a=Bh(a)));let l=super.subscribe({next:i,error:s,complete:a});return t instanceof ft&&t.add(l),l}};function Bh(e){return t=>{setTimeout(e,void 0,t)}}var Pe=dp;var _A="ngSkipHydration",wA="ngskiphydration";function Dw(e){let t=e.mergedAttrs;if(t===null)return!1;for(let r=0;r<t.length;r+=2){let n=t[r];if(typeof n=="number")return!1;if(typeof n=="string"&&n.toLowerCase()===wA)return!0}return!1}function Ew(e){return e.hasAttribute(_A)}function dc(e){return(e.flags&128)===128}function CA(e){if(dc(e))return!0;let t=e.parent;for(;t;){if(dc(e)||Dw(t))return!0;t=t.parent}return!1}var Mw=new Map,xA=0;function bA(){return xA++}function DA(e){Mw.set(e[Ic],e)}function EA(e){Mw.delete(e[Ic])}var q_="__ngContext__";function Pi(e,t){dr(t)?(e[q_]=t[Ic],DA(t)):e[q_]=t}function Iw(e){return Tw(e[ya])}function Sw(e){return Tw(e[In])}function Tw(e){for(;e!==null&&!Wn(e);)e=e[In];return e}var fp;function Aw(e){fp=e}function Tc(){if(fp!==void 0)return fp;if(typeof document<"u")return document;throw new le(210,!1)}var Ac=new ce("",{providedIn:"root",factory:()=>MA}),MA="ng",rm=new ce(""),Rn=new ce("",{providedIn:"platform",factory:()=>"unknown"});var im=new ce("",{providedIn:"root",factory:()=>Tc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function IA(){let e=new Vi;return Q(Rn)==="browser"&&(e.store=SA(Tc(),Q(Ac))),e}var Vi=(()=>{let t=class t{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,i){return this.store[n]!==void 0?this.store[n]:i}set(n,i){this.store[n]=i}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,i){this.onSerializeCallbacks[n]=i}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};t.\u0275prov=ae({token:t,providedIn:"root",factory:IA});let e=t;return e})();function SA(e,t){let r=e.getElementById(t+"-state");if(r?.textContent)try{return JSON.parse(r.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+t,n)}return{}}var Nw="h",Ow="b",hp=function(e){return e.FirstChild="f",e.NextSibling="n",e}(hp||{}),TA="e",AA="t",om="c",Pw="x",fc="r",NA="i",OA="n",PA="d",RA="__nghData__",Rw=RA,Uh="ngh",LA="nghm",Lw=()=>null;function kA(e,t,r=!1){let n=e.getAttribute(Uh);if(n==null)return null;let[i,s]=n.split("|");if(n=r?s:i,!n)return null;let a=s?`|${s}`:"",l=r?i:a,d={};if(n!==""){let p=t.get(Vi,null,{optional:!0});p!==null&&(d=p.get(Rw,[])[Number(n)])}let f={data:d,firstChild:e.firstChild??null};return r&&(f.firstChild=e,Nc(f,0,e.nextSibling)),l?e.setAttribute(Uh,l):e.removeAttribute(Uh),f}function FA(){Lw=kA}function sm(e,t,r=!1){return Lw(e,t,r)}function VA(e){let t=e._lView;return t[Ae].type===2?null:(U0(t)&&(t=t[an]),t)}function jA(e){return e.textContent?.replace(/\s/gm,"")}function BA(e){let t=Tc(),r=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(s){let a=jA(s);return a==="ngetn"||a==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),n,i=[];for(;n=r.nextNode();)i.push(n);for(let s of i)s.textContent==="ngetn"?s.replaceWith(t.createTextNode("")):s.remove()}function Nc(e,t,r){e.segmentHeads??={},e.segmentHeads[t]=r}function pp(e,t){return e.segmentHeads?.[t]??null}function UA(e,t){let r=e.data,n=r[TA]?.[t]??null;return n===null&&r[om]?.[t]&&(n=am(e,t)),n}function kw(e,t){return e.data[om]?.[t]??null}function am(e,t){let r=kw(e,t)??[],n=0;for(let i of r)n+=i[fc]*(i[Pw]??1);return n}function Oc(e,t){if(typeof e.disconnectedNodes>"u"){let r=e.data[PA];e.disconnectedNodes=r?new Set(r):null}return!!e.disconnectedNodes?.has(t)}var zl=new ce(""),Fw=!1,Vw=new ce("",{providedIn:"root",factory:()=>Fw}),$A=new ce(""),Hl;function zA(){if(Hl===void 0&&(Hl=null,Mi.trustedTypes))try{Hl=Mi.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hl}function HA(e){return zA()?.createScriptURL(e)||e}var mp=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AT})`}};function um(e){return e instanceof mp?e.changingThisBreaksApplicationSecurity:e}function Pc(e){return HA(e[0])}var GA=/^>|^->|<!--|-->|--!>|<!-$/g,qA=/(<|>)/g,WA="\u200B$1\u200B";function ZA(e){return e.replace(GA,t=>t.replace(qA,WA))}function jw(e){return e.ownerDocument.defaultView}function YA(e){return e.ownerDocument.body}function Bw(e){return e instanceof Function?e():e}function Gl(e){return(e??Q(Hr)).get(Rn)==="browser"}var pr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pr||{}),KA;function lm(e,t){return KA(e,t)}function $o(e,t,r,n,i){if(n!=null){let s,a=!1;Wn(n)?s=n:dr(n)&&(a=!0,n=n[sn]);let l=An(n);e===0&&r!==null?i==null?Hw(t,r,l):hc(t,r,l,i||null,!0):e===1&&r!==null?hc(t,r,l,i||null,!0):e===2?pm(t,l,a):e===3&&t.destroyNode(l),s!=null&&hN(t,e,s,r,i)}}function cm(e,t){return e.createText(t)}function XA(e,t,r){e.setValue(t,r)}function dm(e,t){return e.createComment(ZA(t))}function Rc(e,t,r){return e.createElement(t,r)}function QA(e,t){Uw(e,t),t[sn]=null,t[Pn]=null}function JA(e,t,r,n,i,s){n[sn]=i,n[Pn]=t,Lc(e,n,r,1,i,s)}function Uw(e,t){t[qn].changeDetectionScheduler?.notify(1),Lc(e,t,t[Ye],2,null,null)}function eN(e){let t=e[ya];if(!t)return $h(e[Ae],e);for(;t;){let r=null;if(dr(t))r=t[ya];else{let n=t[on];n&&(r=n)}if(!r){for(;t&&!t[In]&&t!==e;)dr(t)&&$h(t[Ae],t),t=t[Dt];t===null&&(t=e),dr(t)&&$h(t[Ae],t),r=t&&t[In]}t=r}}function tN(e,t,r,n){let i=on+n,s=r.length;n>0&&(r[i-1][In]=t),n<s-on?(t[In]=r[i],b0(r,on+n,t)):(r.push(t),t[In]=null),t[Dt]=r;let a=t[Mc];a!==null&&r!==a&&nN(a,t);let l=t[Yo];l!==null&&l.insertView(e),op(t),t[me]|=128}function nN(e,t){let r=e[sc],i=t[Dt][Dt][_n];t[_n]!==i&&(e[me]|=qp.HasTransplantedViews),r===null?e[sc]=[t]:r.push(t)}function $w(e,t){let r=e[sc],n=r.indexOf(t);r.splice(n,1)}function gp(e,t){if(e.length<=on)return;let r=on+t,n=e[r];if(n){let i=n[Mc];i!==null&&i!==e&&$w(i,n),t>0&&(e[r-1][In]=n[In]);let s=rc(e,on+t);QA(n[Ae],n);let a=s[Yo];a!==null&&a.detachView(s[Ae]),n[Dt]=null,n[In]=null,n[me]&=-129}return n}function zw(e,t){if(!(t[me]&256)){let r=t[Ye];r.destroyNode&&Lc(e,t,r,3,null,null),eN(t)}}function $h(e,t){if(t[me]&256)return;let r=Ue(null);try{t[me]&=-129,t[me]|=256,t[Ai]&&r_(t[Ai]),iN(e,t),rN(e,t),t[Ae].type===1&&t[Ye].destroy();let n=t[Mc];if(n!==null&&Wn(t[Dt])){n!==t[Dt]&&$w(n,t);let i=t[Yo];i!==null&&i.detachView(e)}EA(t)}finally{Ue(r)}}function rN(e,t){let r=e.cleanup,n=t[va];if(r!==null)for(let s=0;s<r.length-1;s+=2)if(typeof r[s]=="string"){let a=r[s+3];a>=0?n[a]():n[-a].unsubscribe(),s+=2}else{let a=n[r[s+1]];r[s].call(a)}n!==null&&(t[va]=null);let i=t[Vr];if(i!==null){t[Vr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function iN(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=t[r[n]];if(!(i instanceof Oi)){let s=r[n+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let l=i[s[a]],d=s[a+1];zn(4,l,d);try{d.call(l)}finally{zn(5,l,d)}}else{zn(4,i,s);try{s.call(i)}finally{zn(5,i,s)}}}}}function oN(e,t,r){return sN(e,t.parent,r)}function sN(e,t,r){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return r[sn];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:s}=e.data[n.directiveStart+i];if(s===Gn.None||s===Gn.Emulated)return null}return wn(n,r)}}function hc(e,t,r,n,i){e.insertBefore(t,r,n,i)}function Hw(e,t,r){e.appendChild(t,r)}function W_(e,t,r,n,i){n!==null?hc(e,t,r,n,i):Hw(e,t,r)}function aN(e,t,r,n){e.removeChild(t,r,n)}function fm(e,t){return e.parentNode(t)}function uN(e,t){return e.nextSibling(t)}function lN(e,t,r){return dN(e,t,r)}function cN(e,t,r){return e.type&40?wn(e,r):null}var dN=cN,Z_;function hm(e,t,r,n){let i=oN(e,n,t),s=t[Ye],a=n.parent||t[Pn],l=lN(a,n,t);if(i!=null)if(Array.isArray(r))for(let d=0;d<r.length;d++)W_(s,i,r[d],l,!1);else W_(s,i,r,l,!1);Z_!==void 0&&Z_(s,n,t,r,i)}function Ql(e,t){if(t!==null){let r=t.type;if(r&3)return wn(t,e);if(r&4)return vp(-1,e[t.index]);if(r&8){let n=t.child;if(n!==null)return Ql(e,n);{let i=e[t.index];return Wn(i)?vp(-1,i):An(i)}}else{if(r&32)return lm(t,e)()||An(e[t.index]);{let n=Gw(e,t);if(n!==null){if(Array.isArray(n))return n[0];let i=Ca(e[_n]);return Ql(i,n)}else return Ql(e,t.next)}}}return null}function Gw(e,t){if(t!==null){let n=e[_n][Pn],i=t.projection;return n.projection[i]}return null}function vp(e,t){let r=on+e+1;if(r<t.length){let n=t[r],i=n[Ae].firstChild;if(i!==null)return Ql(n,i)}return t[fr]}function pm(e,t,r){let n=fm(e,t);n&&aN(e,n,t,r)}function qw(e){e.textContent=""}function mm(e,t,r,n,i,s,a){for(;r!=null;){let l=n[r.index],d=r.type;if(a&&t===0&&(l&&Pi(An(l),n),r.flags|=2),(r.flags&32)!==32)if(d&8)mm(e,t,r.child,n,i,s,!1),$o(t,e,i,l,s);else if(d&32){let f=lm(r,n),p;for(;p=f();)$o(t,e,i,p,s);$o(t,e,i,l,s)}else d&16?fN(e,t,n,r,i,s):$o(t,e,i,l,s);r=a?r.projectionNext:r.next}}function Lc(e,t,r,n,i,s){mm(r,n,e.firstChild,t,i,s,!1)}function fN(e,t,r,n,i,s){let a=r[_n],d=a[Pn].projection[n.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++){let p=d[f];$o(t,e,i,p,s)}else{let f=d,p=a[Dt];dc(n)&&(f.flags|=128),mm(e,t,f,p,i,s,!0)}}function hN(e,t,r,n,i){let s=r[fr],a=An(r);s!==a&&$o(t,e,n,s,i);for(let l=on;l<r.length;l++){let d=r[l];Lc(d[Ae],d,e,t,n,s)}}function pN(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let s=n.indexOf("-")===-1?void 0:pr.DashCase;i==null?e.removeStyle(r,n,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=pr.Important),e.setStyle(r,n,i,s))}}function mN(e,t,r){e.setAttribute(t,"style",r)}function Ww(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Zw(e,t,r){let{mergedAttrs:n,classes:i,styles:s}=r;n!==null&&ep(e,t,n),i!==null&&Ww(e,t,i),s!==null&&mN(e,t,s)}var vr={};function He(e=1){Yw(un(),Ke(),Fi()+e,!1)}function Yw(e,t,r,n){if(!n)if((t[me]&3)===3){let s=e.preOrderCheckHooks;s!==null&&Kl(t,s,r)}else{let s=e.preOrderHooks;s!==null&&Xl(t,s,0,r)}Ni(r)}function fe(e,t=Ie.Default){let r=Ke();if(r===null)return _e(e,t);let n=ln();return yw(n,r,Ft(e),t)}function Kw(e,t,r,n,i,s){let a=Ue(null);try{let l=null;i&Ze.SignalBased&&(l=t[n][fh]),l!==null&&l.transformFn!==void 0&&(s=l.transformFn(s)),i&Ze.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(t,s)),e.setInput!==null?e.setInput(t,l,s,r,n):$0(t,l,n,s)}finally{Ue(a)}}function gN(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Ni(~i);else{let s=i,a=r[++n],l=r[++n];K1(a,s);let d=t[s];l(2,d)}}}finally{Ni(-1)}}function kc(e,t,r,n,i,s,a,l,d,f,p){let m=t.blueprint.slice();return m[sn]=i,m[me]=n|4|128|8|64,(f!==null||e&&e[me]&2048)&&(m[me]|=2048),Y0(m),m[Dt]=m[Jo]=e,m[Tn]=r,m[qn]=a||e&&e[qn],m[Ye]=l||e&&e[Ye],m[Zo]=d||e&&e[Zo]||null,m[Pn]=s,m[Ic]=bA(),m[Sn]=p,m[V0]=f,m[_n]=t.type==2?e[_n]:m,m}function Fc(e,t,r,n,i){let s=e.data[t];if(s===null)s=vN(e,t,r,n,i),Y1()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=n,s.attrs=i;let a=G1();s.injectorIndex=a===null?-1:a.injectorIndex}return Aa(s,!0),s}function vN(e,t,r,n,i){let s=Q0(),a=J0(),l=a?s:s&&s.parent,d=e.data[t]=bN(e,l,r,t,n,i);return e.firstChild===null&&(e.firstChild=d),s!==null&&(a?s.child==null&&d.parent!==null&&(s.child=d):s.next===null&&(s.next=d,d.prev=s)),d}function Xw(e,t,r,n){if(r===0)return-1;let i=t.length;for(let s=0;s<r;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function Qw(e,t,r,n,i){let s=Fi(),a=n&2;try{Ni(-1),a&&t.length>an&&Yw(e,t,an,!1),zn(a?2:0,i),r(n,i)}finally{Ni(s),zn(a?3:1,i)}}function Jw(e,t,r){if(B0(t)){let n=Ue(null);try{let i=t.directiveStart,s=t.directiveEnd;for(let a=i;a<s;a++){let l=e.data[a];if(l.contentQueries){let d=r[a];l.contentQueries(1,d,a)}}}finally{Ue(n)}}}function eC(e,t,r){X0()&&(TN(e,t,r,wn(r,t)),(r.flags&64)===64&&sC(e,t,r))}function tC(e,t,r=wn){let n=t.localNames;if(n!==null){let i=t.index+1;for(let s=0;s<n.length;s+=2){let a=n[s+1],l=a===-1?r(t,e):e[a];e[i++]=l}}}function nC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=gm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gm(e,t,r,n,i,s,a,l,d,f,p){let m=an+n,v=m+i,y=yN(m,v),w=typeof f=="function"?f():f;return y[Ae]={type:e,blueprint:y,template:r,queries:null,viewQuery:l,declTNode:t,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:p}}function yN(e,t){let r=[];for(let n=0;n<t;n++)r.push(n<e?null:vr);return r}function _N(e,t,r,n){let s=n.get(Vw,Fw)||r===Gn.ShadowDom,a=e.selectRootElement(t,s);return wN(a),a}function wN(e){rC(e)}var rC=()=>null;function CN(e){Ew(e)?qw(e):BA(e)}function xN(){rC=CN}function bN(e,t,r,n,i,s){let a=t?t.injectorIndex:-1,l=0;return Ta()&&(l|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Y_(e,t,r,n,i){for(let s in t){if(!t.hasOwnProperty(s))continue;let a=t[s];if(a===void 0)continue;n??={};let l,d=Ze.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let f=s;if(i!==null){if(!i.hasOwnProperty(s))continue;f=i[s]}e===0?K_(n,r,f,l,d):K_(n,r,f,l)}return n}function K_(e,t,r,n,i){let s;e.hasOwnProperty(r)?(s=e[r]).push(t,n):s=e[r]=[t,n],i!==void 0&&s.push(i)}function DN(e,t,r){let n=t.directiveStart,i=t.directiveEnd,s=e.data,a=t.attrs,l=[],d=null,f=null;for(let p=n;p<i;p++){let m=s[p],v=r?r.get(m):null,y=v?v.inputs:null,w=v?v.outputs:null;d=Y_(0,m.inputs,p,d,y),f=Y_(1,m.outputs,p,f,w);let C=d!==null&&a!==null&&!zp(t)?VN(d,p,a):null;l.push(C)}d!==null&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=d,t.outputs=f}function EN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function vm(e,t,r,n,i,s,a,l){let d=wn(t,r),f=t.inputs,p;!l&&f!=null&&(p=f[n])?(ym(e,r,p,n,i),Sa(t)&&MN(r,t.index)):t.type&3?(n=EN(n),i=a!=null?a(i,t.value||"",n):i,s.setProperty(d,n,i)):t.type&12}function MN(e,t){let r=zr(t,e);r[me]&16||(r[me]|=64)}function iC(e,t,r,n){if(X0()){let i=n===null?null:{"":-1},s=NN(e,r),a,l;s===null?a=l=null:[a,l]=s,a!==null&&oC(e,t,r,a,i,l),i&&ON(r,n,i)}r.mergedAttrs=ma(r.mergedAttrs,r.attrs)}function oC(e,t,r,n,i,s){for(let f=0;f<n.length;f++)up(cc(r,t),e,n[f].type);RN(r,e.data.length,n.length);for(let f=0;f<n.length;f++){let p=n[f];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,d=Xw(e,t,n.length,null);for(let f=0;f<n.length;f++){let p=n[f];r.mergedAttrs=ma(r.mergedAttrs,p.hostAttrs),LN(e,r,t,d,p),PN(d,p,i),p.contentQueries!==null&&(r.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(r.flags|=64);let m=p.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),a=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),l=!0),d++}DN(e,r,s)}function IN(e,t,r,n,i){let s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let l=~t.index;SN(a)!=l&&a.push(l),a.push(r,n,s)}}function SN(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function TN(e,t,r,n){let i=r.directiveStart,s=r.directiveEnd;Sa(r)&&kN(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||cc(r,t),Pi(n,t);let a=r.initialInputs;for(let l=i;l<s;l++){let d=e.data[l],f=Ko(t,e,l,r);if(Pi(f,t),a!==null&&FN(t,l-i,f,d,r,a),jr(d)){let p=zr(r.index,t);p[Tn]=Ko(t,e,l,r)}}}function sC(e,t,r){let n=r.directiveStart,i=r.directiveEnd,s=r.index,a=X1();try{Ni(s);for(let l=n;l<i;l++){let d=e.data[l],f=t[l];sp(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&AN(d,f)}}finally{Ni(-1),sp(a)}}function AN(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function NN(e,t){let r=e.directiveRegistry,n=null,i=null;if(r)for(let s=0;s<r.length;s++){let a=r[s];if(a1(t,a.selectors,!1))if(n||(n=[]),jr(a))if(a.findHostDirectiveDefs!==null){let l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),n.unshift(...l,a);let d=l.length;yp(e,t,d)}else n.unshift(a),yp(e,t,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,n,i),n.push(a)}return n===null?null:[n,i]}function yp(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function ON(e,t,r){if(t){let n=e.localNames=[];for(let i=0;i<t.length;i+=2){let s=r[t[i+1]];if(s==null)throw new le(-301,!1);n.push(t[i],s)}}}function PN(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;jr(t)&&(r[""]=e)}}function RN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function LN(e,t,r,n,i){e.data[n]=i;let s=i.factory||(i.factory=Go(i.type,!0)),a=new Oi(s,jr(i),fe);e.blueprint[n]=a,r[n]=a,IN(e,t,n,Xw(e,r,i.hostVars,vr),i)}function kN(e,t,r){let n=wn(t,e),i=nC(r),s=e[qn].rendererFactory,a=16;r.signals?a=4096:r.onPush&&(a=64);let l=Vc(e,kc(e,i,null,a,n,t,null,s.createRenderer(n,r),null,null,null));e[t.index]=l}function FN(e,t,r,n,i,s){let a=s[t];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],f=a[l++],p=a[l++],m=a[l++];Kw(n,r,d,f,p,m)}}function VN(e,t,r){let n=null,i=0;for(;i<r.length;){let s=r[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){n===null&&(n=[]);let a=e[s];for(let l=0;l<a.length;l+=3)if(a[l]===t){n.push(s,a[l+1],a[l+2],r[i+1]);break}}i+=2}return n}function aC(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function uC(e,t){let r=e.contentQueries;if(r!==null){let n=Ue(null);try{for(let i=0;i<r.length;i+=2){let s=r[i],a=r[i+1];if(a!==-1){let l=e.data[a];tw(s),l.contentQueries(2,t[a],a)}}}finally{Ue(n)}}}function Vc(e,t){return e[ya]?e[j_][In]=t:e[ya]=t,e[j_]=t,t}function _p(e,t,r){tw(0);let n=Ue(null);try{t(e,r)}finally{Ue(n)}}function jN(e){return e[va]||(e[va]=[])}function BN(e){return e.cleanup||(e.cleanup=[])}function lC(e,t){let r=e[Zo],n=r?r.get(hr,null):null;n&&n.handleError(t)}function ym(e,t,r,n,i){for(let s=0;s<r.length;){let a=r[s++],l=r[s++],d=r[s++],f=t[a],p=e.data[a];Kw(p,f,n,l,d,i)}}function cC(e,t,r){let n=W0(t,e);XA(e[Ye],n,r)}function UN(e,t){let r=zr(t,e),n=r[Ae];$N(n,r);let i=r[sn];i!==null&&r[Sn]===null&&(r[Sn]=sm(i,r[Zo])),_m(n,r,r[Tn])}function $N(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function _m(e,t,r){Xp(t);try{let n=e.viewQuery;n!==null&&_p(1,n,r);let i=e.template;i!==null&&Qw(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Yo]?.finishViewCreation(e),e.staticContentQueries&&uC(e,t),e.staticViewQueries&&_p(2,e.viewQuery,r);let s=e.components;s!==null&&zN(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[me]&=-5,Qp()}}function zN(e,t){for(let r=0;r<t.length;r++)UN(e,t[r])}function HN(e,t,r,n){let i=Ue(null);try{let s=t.tView,l=e[me]&4096?4096:16,d=kc(e,s,r,l,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),f=e[t.index];d[Mc]=f;let p=e[Yo];return p!==null&&(d[Yo]=p.createEmbeddedView(s)),_m(s,d,r),d}finally{Ue(i)}}function X_(e,t){return!t||t.firstChild===null||dc(e)}function GN(e,t,r,n=!0){let i=t[Ae];if(tN(i,t,e,r),n){let a=vp(r,e),l=t[Ye],d=fm(l,e[fr]);d!==null&&JA(i,e[Pn],l,t,d,a)}let s=t[Sn];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function pc(e,t,r,n,i=!1){for(;r!==null;){let s=t[r.index];s!==null&&n.push(An(s)),Wn(s)&&qN(s,n);let a=r.type;if(a&8)pc(e,t,r.child,n);else if(a&32){let l=lm(r,t),d;for(;d=l();)n.push(d)}else if(a&16){let l=Gw(t,r);if(Array.isArray(l))n.push(...l);else{let d=Ca(t[_n]);pc(d[Ae],d,l,n,!0)}}r=i?r.projectionNext:r.next}return n}function qN(e,t){for(let r=on;r<e.length;r++){let n=e[r],i=n[Ae].firstChild;i!==null&&pc(n[Ae],n,i,t)}e[fr]!==e[sn]&&t.push(e[fr])}var dC=[];function WN(e){return e[Ai]??ZN(e)}function ZN(e){let t=dC.pop()??Object.create(KN);return t.lView=e,t}function YN(e){e.lView[Ai]!==e&&(e.lView=null,dC.push(e))}var KN=qe(re({},e_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{wa(e.lView)},consumerOnSignalRead(){this.lView[Ai]=this}}),fC=100;function hC(e,t=!0,r=0){let n=e[qn],i=n.rendererFactory,s=!1;s||i.begin?.();try{XN(e,r)}catch(a){throw t&&lC(e,a),a}finally{s||(i.end?.(),n.inlineEffectRunner?.flush())}}function XN(e,t){wp(e,t);let r=0;for(;Yp(e);){if(r===fC)throw new le(103,!1);r++,wp(e,1)}}function QN(e,t,r,n){let i=t[me];if((i&256)===256)return;let s=!1;!s&&t[qn].inlineEffectRunner?.flush(),Xp(t);let a=null,l=null;!s&&JN(e)&&(l=WN(t),a=t_(l));try{Y0(t),Z1(e.bindingStartIndex),r!==null&&Qw(e,t,r,2,n);let d=(i&3)===3;if(!s)if(d){let m=e.preOrderCheckHooks;m!==null&&Kl(t,m,null)}else{let m=e.preOrderHooks;m!==null&&Xl(t,m,0,null),Fh(t,0)}if(eO(t),pC(t,0),e.contentQueries!==null&&uC(e,t),!s)if(d){let m=e.contentCheckHooks;m!==null&&Kl(t,m)}else{let m=e.contentHooks;m!==null&&Xl(t,m,1),Fh(t,1)}gN(e,t);let f=e.components;f!==null&&gC(t,f,0);let p=e.viewQuery;if(p!==null&&_p(2,p,n),!s)if(d){let m=e.viewCheckHooks;m!==null&&Kl(t,m)}else{let m=e.viewHooks;m!==null&&Xl(t,m,2),Fh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[kh]){for(let m of t[kh])m();t[kh]=null}s||(t[me]&=-73)}catch(d){throw wa(t),d}finally{l!==null&&(n_(l,a),YN(l)),Qp()}}function JN(e){return e.type!==2}function pC(e,t){for(let r=Iw(e);r!==null;r=Sw(r))for(let n=on;n<r.length;n++){let i=r[n];mC(i,t)}}function eO(e){for(let t=Iw(e);t!==null;t=Sw(t)){if(!(t[me]&qp.HasTransplantedViews))continue;let r=t[sc];for(let n=0;n<r.length;n++){let i=r[n],s=i[Dt];k1(i)}}}function tO(e,t,r){let n=zr(t,e);mC(n,r)}function mC(e,t){Zp(e)&&wp(e,t)}function wp(e,t){let n=e[Ae],i=e[me],s=e[Ai],a=!!(t===0&&i&16);if(a||=!!(i&64&&t===0),a||=!!(i&1024),a||=!!(s?.dirty&&hh(s)),s&&(s.dirty=!1),e[me]&=-9217,a)QN(n,e,n.template,e[Tn]);else if(i&8192){pC(e,1);let l=n.components;l!==null&&gC(e,l,1)}}function gC(e,t,r){for(let n=0;n<t.length;n++)tO(e,t[n],r)}function wm(e){for(e[qn].changeDetectionScheduler?.notify();e;){e[me]|=64;let t=Ca(e);if(U0(e)&&!t)return e;e=t}return null}var Ri=class{get rootNodes(){let t=this._lView,r=t[Ae];return pc(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(t){this._lView[Tn]=t}get destroyed(){return(this._lView[me]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Dt];if(Wn(t)){let r=t[oc],n=r?r.indexOf(this):-1;n>-1&&(gp(t,n),rc(r,n))}this._attachedToViewContainer=!1}zw(this._lView[Ae],this._lView)}onDestroy(t){K0(this._lView,t)}markForCheck(){wm(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){op(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,hC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Uw(this._lView[Ae],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=t,op(this._lView)}},jc=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=iO;let e=t;return e})(),nO=jc,rO=class extends nO{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){let i=HN(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:n});return new Ri(i)}};function iO(){return oO(ln(),Ke())}function oO(e,t){return e.type&4?new rO(t,e,Sc(e,t)):null}function vC(e){let t=e[_a]??[],n=e[Dt][Ye];for(let i of t)sO(i,n);e[_a]=rn}function sO(e,t){let r=0,n=e.firstChild;if(n){let i=e.data[fc];for(;r<i;){let s=n.nextSibling;pm(t,n,!1),n=s,r++}}}function yC(e){vC(e);for(let t=on;t<e.length;t++)mc(e[t])}function aO(e){let t=e[Sn]?.i18nNodes;if(t){let r=e[Ye];for(let n of t.values())pm(r,n,!1);e[Sn].i18nNodes=void 0}}function mc(e){aO(e);let t=e[Ae];for(let r=an;r<t.bindingStartIndex;r++)if(Wn(e[r])){let n=e[r];yC(n)}else dr(e[r])&&mc(e[r])}function uO(e){let t=e._views;for(let r of t){let n=VA(r);if(n!==null&&n[sn]!==null)if(dr(n))mc(n);else{let i=n[sn];mc(i),yC(n)}}}var lO=new RegExp(`^(\\d+)*(${Ow}|${Nw})*(.*)`);function cO(e){let t=e.match(lO),[r,n,i,s]=t,a=n?parseInt(n,10):i,l=[];for(let[d,f,p]of s.matchAll(/(f|n)(\d*)/g)){let m=parseInt(p,10)||1;l.push(f,m)}return[a,...l]}function dO(e){return!e.prev&&e.parent?.type===8}function zh(e){return e.index-an}function fO(e,t){let r=e.i18nNodes;if(r){let n=r.get(t);return n&&r.delete(t),n}return null}function Bc(e,t,r,n){let i=zh(n),s=fO(e,i);if(!s){let a=e.data[OA];if(a?.[i])s=pO(a[i],r);else if(t.firstChild===n)s=e.firstChild;else{let l=n.prev===null,d=n.prev??n.parent;if(dO(n)){let f=zh(n.parent);s=pp(e,f)}else{let f=wn(d,r);if(l)s=f.firstChild;else{let p=zh(d),m=pp(e,p);if(d.type===2&&m){let y=am(e,p)+1;s=Uc(y,m)}else s=f.nextSibling}}}}return s}function Uc(e,t){let r=t;for(let n=0;n<e;n++)r=r.nextSibling;return r}function hO(e,t){let r=e;for(let n=0;n<t.length;n+=2){let i=t[n],s=t[n+1];for(let a=0;a<s;a++)switch(i){case hp.FirstChild:r=r.firstChild;break;case hp.NextSibling:r=r.nextSibling;break}}return r}function pO(e,t){let[r,...n]=cO(e),i;if(r===Nw)i=t[_n][sn];else if(r===Ow)i=YA(t[_n][sn]);else{let s=Number(r);i=An(t[s+an])}return hO(i,n)}function mO(e,t){let r=[];for(let n of t)for(let i=0;i<(n[Pw]??1);i++){let s={data:n,firstChild:null};n[fc]>0&&(s.firstChild=e,e=Uc(n[fc],e)),r.push(s)}return[e,r]}var _C=()=>null;function gO(e,t){let r=e[_a];return!t||r===null||r.length===0?null:r[0].data[NA]===t?r.shift():(vC(e),null)}function vO(){_C=gO}function Q_(e,t){return _C(e,t)}var Cp=class{},xp=class{},gc=class{};function yO(e){let t=Error(`No component factory found for ${Vt(e)}.`);return t[_O]=e,t}var _O="ngComponent";var bp=class{resolveComponentFactory(t){throw yO(t)}},$c=(()=>{let t=class t{};t.NULL=new bp;let e=t;return e})(),xa=class{},ts=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>wO();let e=t;return e})();function wO(){let e=Ke(),t=ln(),r=zr(t.index,e);return(dr(r)?r:e)[Ye]}var CO=(()=>{let t=class t{};t.\u0275prov=ae({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),Hh={};var J_=new Set;function Na(e){J_.has(e)||(J_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function e0(...e){}function xO(){let e=typeof Mi.requestAnimationFrame=="function",t=Mi[e?"requestAnimationFrame":"setTimeout"],r=Mi[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}var tt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=xO().nativeRequestAnimationFrame,EO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new le(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,t,bO,e0,e0);try{return s.runTask(a,r,n)}finally{s.cancelTask(a)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}},bO={};function Cm(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function DO(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Mi,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Dp(e),e.isCheckStableRunning=!0,Cm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Dp(e))}function EO(e){let t=()=>{DO(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,s,a,l)=>{if(MO(l))return r.invokeTask(i,s,a,l);try{return t0(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),n0(e)}},onInvoke:(r,n,i,s,a,l,d)=>{try{return t0(e),r.invoke(i,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),n0(e)}},onHasTask:(r,n,i,s)=>{r.hasTask(i,s),n===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Dp(e),Cm(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,n,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Dp(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function t0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function n0(e){e._nesting--,Cm(e)}function MO(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var wC=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function Ep(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,s=0;if(t!==null)for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number")s=l;else if(s==1)i=T_(i,l);else if(s==2){let d=l,f=t[++a];n=T_(n,d+": "+f+";")}}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}var vc=class extends $c{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=Ti(t);return new ba(r,this.ngModule)}};function r0(e){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let n=e[r];n!==void 0&&t.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return t}function IO(e){let t=e.toLowerCase();return t==="svg"?q0:t==="math"?O1:null}var Mp=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Dc(n);let i=this.injector.get(t,Hh,n);return i!==Hh||r===Hh?i:this.parentInjector.get(t,r,n)}},ba=class extends gc{get inputs(){let t=this.componentDef,r=t.inputTransforms,n=r0(t.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return r0(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=d1(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){let s=Ue(null);try{i=i||this.ngModule;let a=i instanceof Gt?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new Mp(t,a):t,d=l.get(xa,null);if(d===null)throw new le(407,!1);let f=l.get(CO,null),p=l.get(wC,null),m=l.get(Cp,null),v={rendererFactory:d,sanitizer:f,inlineEffectRunner:null,afterRenderEventManager:p,changeDetectionScheduler:m},y=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=n?_N(y,n,this.componentDef.encapsulation,l):Rc(y,w,IO(w)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let k=null;C!==null&&(k=sm(C,l,!0));let j=gm(0,null,null,1,0,null,null,null,null,null,null),b=kc(null,j,null,x,null,null,v,y,l,null,k);Xp(b);let P,O;try{let F=this.componentDef,H,W=null;F.findHostDirectiveDefs?(H=[],W=new Map,F.findHostDirectiveDefs(F,H,W),H.push(F)):H=[F];let M=SO(b,C),R=TO(M,C,F,H,b,v,y);O=Z0(j,an),C&&OO(y,F,C,n),r!==void 0&&PO(O,this.ngContentSelectors,r),P=NO(R,F,H,W,b,[RO]),_m(j,b,null)}finally{Qp()}return new Ip(this.componentType,P,Sc(O,b),b,O)}finally{Ue(s)}}},Ip=class extends xp{constructor(t,r,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Ri(i,void 0,!1),this.componentType=t}setInput(t,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let s=this._rootLView;ym(s[Ae],s,i,t,r),this.previousInputValues.set(t,r);let a=zr(this._tNode.index,s);wm(a)}}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function SO(e,t){let r=e[Ae],n=an;return e[n]=t,Fc(r,n,2,"#host",null)}function TO(e,t,r,n,i,s,a){let l=i[Ae];AO(n,e,t,a);let d=null;t!==null&&(d=sm(t,i[Zo]));let f=s.rendererFactory.createRenderer(t,r),p=16;r.signals?p=4096:r.onPush&&(p=64);let m=kc(i,nC(r),null,p,i[e.index],e,s,f,null,null,d);return l.firstCreatePass&&yp(l,e,n.length-1),Vc(i,m),i[e.index]=m}function AO(e,t,r,n){for(let i of e)t.mergedAttrs=ma(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Ep(t,t.mergedAttrs,!0),r!==null&&Zw(n,r,t))}function NO(e,t,r,n,i,s){let a=ln(),l=i[Ae],d=wn(a,i);oC(l,i,a,r,null,n);for(let p=0;p<r.length;p++){let m=a.directiveStart+p,v=Ko(i,l,m,a);Pi(v,i)}sC(l,i,a),d&&Pi(d,i);let f=Ko(i,l,a.directiveStart+a.componentOffset,a);if(e[Tn]=i[Tn]=f,s!==null)for(let p of s)p(f,t);return Jw(l,a,i),f}function OO(e,t,r,n){if(n)ep(e,r,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=f1(t.selectors[0]);i&&ep(e,r,i),s&&s.length>0&&Ww(e,r,s.join(" "))}}function PO(e,t,r){let n=e.projection=[];for(let i=0;i<t.length;i++){let s=r[i];n.push(s!=null?Array.from(s):null)}}function RO(){let e=ln();tm(Ke()[Ae],e)}var ns=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=LO;let e=t;return e})();function LO(){let e=ln();return FO(e,Ke())}var kO=ns,CC=class extends kO{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Sc(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){let t=nm(this._hostTNode,this._hostLView);if(fw(t)){let r=lc(t,this._hostLView),n=uc(t),i=r[Ae].data[n+8];return new Ii(i,r)}else return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=i0(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-on}createEmbeddedView(t,r,n){let i,s;typeof n=="number"?i=n:n!=null&&(i=n.index,s=n.injector);let a=Q_(this._lContainer,t.ssrId),l=t.createEmbeddedViewImpl(r||{},s,a);return this.insertImpl(l,i,X_(this._hostTNode,a)),l}createComponent(t,r,n,i,s){let a=t&&!S1(t),l;if(a)l=r;else{let w=r||{};l=w.index,n=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let d=a?t:new ba(Ti(t)),f=n||this.parentInjector;if(!s&&d.ngModule==null){let C=(a?f:this.parentInjector).get(Gt,null);C&&(s=C)}let p=Ti(d.componentType??{}),m=Q_(this._lContainer,p?.id??null),v=m?.firstChild??null,y=d.create(f,i,v,s);return this.insertImpl(y.hostView,l,X_(this._hostTNode,m)),y}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){let i=t._lView;if(L1(i)){let l=this.indexOf(t);if(l!==-1)this.detach(l);else{let d=i[Dt],f=new CC(d,d[Pn],d[Dt]);f.detach(f.indexOf(t))}}let s=this._adjustIndex(r),a=this._lContainer;return GN(a,i,s,n),t.attachToViewContainerRef(),b0(Gh(a),s,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=i0(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),n=gp(this._lContainer,r);n&&(rc(Gh(this._lContainer),r),zw(n[Ae],n))}detach(t){let r=this._adjustIndex(t,-1),n=gp(this._lContainer,r);return n&&rc(Gh(this._lContainer),r)!=null?new Ri(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function i0(e){return e[oc]}function Gh(e){return e[oc]||(e[oc]=[])}function FO(e,t){let r,n=t[e.index];return Wn(n)?r=n:(r=aC(n,t,null,e),t[e.index]=r,Vc(t,r)),xC(r,t,e,n),new CC(r,e,t)}function VO(e,t){let r=e[Ye],n=r.createComment(""),i=wn(t,e),s=fm(r,i);return hc(r,s,n,uN(r,i),!1),n}var xC=bC,xm=()=>!1;function jO(e,t,r){return xm(e,t,r)}function bC(e,t,r,n){if(e[fr])return;let i;r.type&8?i=An(n):i=VO(t,r),e[fr]=i}function BO(e,t,r){if(e[fr]&&e[_a])return!0;let n=r[Sn],i=t.index-an;if(!n||CA(t)||Oc(n,i))return!1;let a=pp(n,i),l=n.data[om]?.[i],[d,f]=mO(a,l);return e[fr]=d,e[_a]=f,!0}function UO(e,t,r,n){xm(e,r,t)||bC(e,t,r,n)}function $O(){xC=UO,xm=BO}function zO(e){return typeof e=="function"&&e[fh]!==void 0}function DC(e){return zO(e)&&typeof e.set=="function"}function HO(e){return Object.getPrototypeOf(e.prototype).constructor}function yr(e){let t=HO(e.type),r=!0,n=[e];for(;t;){let i;if(jr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new le(903,!1);i=t.\u0275dir}if(i){if(r){n.push(i);let a=e;a.inputs=ql(e.inputs),a.inputTransforms=ql(e.inputTransforms),a.declaredInputs=ql(e.declaredInputs),a.outputs=ql(e.outputs);let l=i.hostBindings;l&&YO(e,l);let d=i.viewQuery,f=i.contentQueries;if(d&&WO(e,d),f&&ZO(e,f),GO(e,i),OT(e.outputs,i.outputs),jr(i)&&i.data.animation){let p=e.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let l=s[a];l&&l.ngInherit&&l(e),l===yr&&(r=!1)}}t=Object.getPrototypeOf(t)}qO(n)}function GO(e,t){for(let r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;let n=t.inputs[r];if(n!==void 0&&(e.inputs[r]=n,e.declaredInputs[r]=t.declaredInputs[r],t.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function qO(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=ma(i.hostAttrs,r=ma(r,i.hostAttrs))}}function ql(e){return e===qo?{}:e===rn?[]:e}function WO(e,t){let r=e.viewQuery;r?e.viewQuery=(n,i)=>{t(n,i),r(n,i)}:e.viewQuery=t}function ZO(e,t){let r=e.contentQueries;r?e.contentQueries=(n,i,s)=>{t(n,i,s),r(n,i,s)}:e.contentQueries=t}function YO(e,t){let r=e.hostBindings;r?e.hostBindings=(n,i)=>{t(n,i),r(n,i)}:e.hostBindings=t}var Br=class{},Da=class{};var Sp=class extends Br{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vc(this);let i=N0(t);this._bootstrapComponents=Bw(i.bootstrap),this._r3Injector=Cw(t,r,[{provide:Br,useValue:this},{provide:$c,useValue:this.componentFactoryResolver},...n],Vt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Tp=class extends Da{constructor(t){super(),this.moduleType=t}create(t){return new Sp(this.moduleType,t,[])}};var yc=class extends Br{constructor(t){super(),this.componentFactoryResolver=new vc(this),this.instance=null;let r=new ga([...t.providers,{provide:Br,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],t.parent||Gp(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function bm(e,t,r=null){return new yc({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var ji=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function EC(e){return XO(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function KO(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{let r=e[Symbol.iterator](),n;for(;!(n=r.next()).done;)t(n.value)}}function XO(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Xo(e,t,r){let n=e[t];return Object.is(n,r)?!1:(e[t]=r,!0)}function QO(e,t,r,n){let i=Xo(e,t,r);return Xo(e,t+1,n)||i}function Oa(e){return(e.flags&32)===32}function JO(e,t,r,n,i,s,a,l,d){let f=t.consts,p=Fc(t,e,4,a||null,ac(f,l));iC(t,r,p,ac(f,d)),tm(t,p);let m=p.tView=gm(2,p,n,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return t.queries!==null&&(t.queries.template(t,p),m.queries=t.queries.embeddedTView(p)),p}function Rt(e,t,r,n,i,s,a,l){let d=Ke(),f=un(),p=e+an,m=f.firstCreatePass?JO(p,f,d,t,r,n,i,s,a):f.data[p];Aa(m,!1);let v=MC(f,d,m,e);em()&&hm(f,d,v,m),Pi(v,d);let y=aC(v,d,v,m);return d[p]=y,Vc(d,y),jO(y,m,d),Wp(m)&&eC(f,d,m),a!=null&&tC(d,m,l),Rt}var MC=IC;function IC(e,t,r,n){return Kn(!0),t[Ye].createComment("")}function eP(e,t,r,n){let i=t[Sn],s=!i||Ta()||Oa(r)||Oc(i,n);if(Kn(s),s)return IC(e,t,r,n);let a=i.data[AA]?.[n]??null;a!==null&&r.tView!==null&&r.tView.ssrId===null&&(r.tView.ssrId=a);let l=Bc(i,e,t,r);Nc(i,n,l);let d=am(i,n);return Uc(d,l)}function tP(){MC=eP}function SC(e,t,r,n){return Xo(e,Kp(),r)?t+tc(r)+n:vr}function nP(e,t,r,n,i,s){let a=W1(),l=QO(e,a,r,i);return ew(2),l?t+tc(r)+n+tc(i)+s:vr}function Wl(e,t){return e<<17|t<<2}function Li(e){return e>>17&32767}function rP(e){return(e&2)==2}function iP(e,t){return e&131071|t<<17}function Ap(e){return e|2}function Qo(e){return(e&131068)>>2}function qh(e,t){return e&-131069|t<<2}function oP(e){return(e&1)===1}function Np(e){return e|1}function sP(e,t,r,n,i,s){let a=s?t.classBindings:t.styleBindings,l=Li(a),d=Qo(a);e[n]=r;let f=!1,p;if(Array.isArray(r)){let m=r;p=m[1],(p===null||Ia(m,p)>0)&&(f=!0)}else p=r;if(i)if(d!==0){let v=Li(e[l+1]);e[n+1]=Wl(v,l),v!==0&&(e[v+1]=qh(e[v+1],n)),e[l+1]=iP(e[l+1],n)}else e[n+1]=Wl(l,0),l!==0&&(e[l+1]=qh(e[l+1],n)),l=n;else e[n+1]=Wl(d,0),l===0?l=n:e[d+1]=qh(e[d+1],n),d=n;f&&(e[n+1]=Ap(e[n+1])),o0(e,p,n,!0),o0(e,p,n,!1),aP(t,p,e,n,s),a=Wl(l,d),s?t.classBindings=a:t.styleBindings=a}function aP(e,t,r,n,i){let s=i?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Ia(s,t)>=0&&(r[n+1]=Np(r[n+1]))}function o0(e,t,r,n){let i=e[r+1],s=t===null,a=n?Li(i):Qo(i),l=!1;for(;a!==0&&(l===!1||s);){let d=e[a],f=e[a+1];uP(d,t)&&(l=!0,e[a+1]=n?Np(f):Ap(f)),a=n?Li(f):Qo(f)}l&&(e[r+1]=n?Ap(i):Np(i))}function uP(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ia(e,t)>=0:!1}function yt(e,t,r){let n=Ke(),i=Kp();if(Xo(n,i,t)){let s=un(),a=Jp();vm(s,a,n,e,t,n[Ye],r,!1)}return yt}function s0(e,t,r,n,i){let s=t.inputs,a=i?"class":"style";ym(e,r,s[a],a,n)}function zc(e,t){return lP(e,t,null,!0),zc}function lP(e,t,r,n){let i=Ke(),s=un(),a=ew(2);if(s.firstUpdatePass&&dP(s,e,a,n),t!==vr&&Xo(i,a,t)){let l=s.data[Fi()];gP(s,l,i,i[Ye],e,i[a+1]=vP(t,r),n,a)}}function cP(e,t){return t>=e.expandoStartIndex}function dP(e,t,r,n){let i=e.data;if(i[r+1]===null){let s=i[Fi()],a=cP(e,r);yP(s,n)&&t===null&&!a&&(t=!1),t=fP(i,s,t,n),sP(i,s,t,r,a,n)}}function fP(e,t,r,n){let i=Q1(e),s=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(r=Wh(null,e,t,r,n),r=Ea(r,t.attrs,n),s=null);else{let a=t.directiveStylingLast;if(a===-1||e[a]!==i)if(r=Wh(i,e,t,r,n),s===null){let d=hP(e,t,n);d!==void 0&&Array.isArray(d)&&(d=Wh(null,e,t,d[1],n),d=Ea(d,t.attrs,n),pP(e,t,n,d))}else s=mP(e,t,n)}return s!==void 0&&(n?t.residualClasses=s:t.residualStyles=s),r}function hP(e,t,r){let n=r?t.classBindings:t.styleBindings;if(Qo(n)!==0)return e[Li(n)]}function pP(e,t,r,n){let i=r?t.classBindings:t.styleBindings;e[Li(i)]=n}function mP(e,t,r){let n,i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++){let a=e[s].hostAttrs;n=Ea(n,a,r)}return Ea(n,t.attrs,r)}function Wh(e,t,r,n,i){let s=null,a=r.directiveEnd,l=r.directiveStylingLast;for(l===-1?l=r.directiveStart:l++;l<a&&(s=t[l],n=Ea(n,s.hostAttrs,i),s!==e);)l++;return e!==null&&(r.directiveStylingLast=l),n}function Ea(e,t,r){let n=r?1:2,i=-1;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];typeof a=="number"?i=a:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),QT(e,a,r?!0:t[++s]))}return e===void 0?null:e}function gP(e,t,r,n,i,s,a,l){if(!(t.type&3))return;let d=e.data,f=d[l+1],p=oP(f)?a0(d,t,r,i,Qo(f),a):void 0;if(!_c(p)){_c(s)||rP(f)&&(s=a0(d,null,r,i,l,a));let m=W0(Fi(),r);pN(n,a,m,i,s)}}function a0(e,t,r,n,i,s){let a=t===null,l;for(;i>0;){let d=e[i],f=Array.isArray(d),p=f?d[1]:d,m=p===null,v=r[i+1];v===vr&&(v=m?rn:void 0);let y=m?Rh(v,n):p===n?v:void 0;if(f&&!_c(y)&&(y=Rh(d,n)),_c(y)&&(l=y,a))return l;let w=e[i+1];i=a?Li(w):Qo(w)}if(t!==null){let d=s?t.residualClasses:t.residualStyles;d!=null&&(l=Rh(d,n))}return l}function _c(e){return e!==void 0}function vP(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Vt(um(e)))),e}function yP(e,t){return(e.flags&(t?8:16))!==0}function _P(e,t,r,n,i,s){let a=t.consts,l=ac(a,i),d=Fc(t,e,2,n,l);return iC(t,r,d,ac(a,s)),d.attrs!==null&&Ep(d,d.attrs,!1),d.mergedAttrs!==null&&Ep(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function ie(e,t,r,n){let i=Ke(),s=un(),a=an+e,l=i[Ye],d=s.firstCreatePass?_P(a,s,i,t,r,n):s.data[a],f=TC(s,i,d,l,t,e);i[a]=f;let p=Wp(d);return Aa(d,!0),Zw(l,f,d),!Oa(d)&&em()&&hm(s,i,f,d),j1()===0&&Pi(f,i),B1(),p&&(eC(s,i,d),Jw(s,d,i)),n!==null&&tC(i,d),ie}function J(){let e=ln();J0()?q1():(e=e.parent,Aa(e,!1));let t=e;$1(t)&&H1(),U1();let r=un();return r.firstCreatePass&&(tm(r,e),B0(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&oA(t)&&s0(r,t,Ke(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&sA(t)&&s0(r,t,Ke(),t.stylesWithoutHost,!1),J}function Se(e,t,r,n){return ie(e,t,r,n),J(),Se}var TC=(e,t,r,n,i,s)=>(Kn(!0),Rc(n,i,lw()));function wP(e,t,r,n,i,s){let a=t[Sn],l=!a||Ta()||Oa(r)||Oc(a,s);if(Kn(l),l)return Rc(n,i,lw());let d=Bc(a,e,t,r);return kw(a,s)&&Nc(a,s,d.nextSibling),a&&(Dw(r)||Ew(d))&&Sa(r)&&(z1(r),qw(d)),d}function CP(){TC=wP}var xP=(e,t,r,n)=>(Kn(!0),dm(t[Ye],""));function bP(e,t,r,n){let i,s=t[Sn],a=!s||Ta()||Oa(r);if(Kn(a),a)return dm(t[Ye],"");let l=Bc(s,e,t,r),d=UA(s,n);return Nc(s,n,l),i=Uc(d,l),i}function DP(){xP=bP}function _r(){return Ke()}var wc="en-US";var EP=wc;function MP(e){typeof e=="string"&&(EP=e.toLowerCase().replace(/_/g,"-"))}function AC(e,t,r){let n=e[Ye];switch(r){case Node.COMMENT_NODE:return dm(n,t);case Node.TEXT_NODE:return cm(n,t);case Node.ELEMENT_NODE:return Rc(n,t,null)}}var IP=(e,t,r,n)=>(Kn(!0),AC(e,r,n));function SP(e,t,r,n){return Kn(!0),AC(e,r,n)}function TP(){IP=SP}function We(e,t,r,n){let i=Ke(),s=un(),a=ln();return NC(s,i,i[Ye],a,e,t,n),We}function AP(e,t,r,n){let i=e.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===r&&i[s+1]===n){let l=t[va],d=i[s+2];return l.length>d?l[d]:null}typeof a=="string"&&(s+=2)}return null}function NC(e,t,r,n,i,s,a){let l=Wp(n),f=e.firstCreatePass&&BN(e),p=t[Tn],m=jN(t),v=!0;if(n.type&3||a){let C=wn(n,t),x=a?a(C):C,k=m.length,j=a?P=>a(An(P[n.index])):n.index,b=null;if(!a&&l&&(b=AP(e,t,i,n.index)),b!==null){let P=b.__ngLastListenerFn__||b;P.__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,v=!1}else{s=l0(n,t,p,s,!1);let P=r.listen(x,i,s);m.push(s,P),f&&f.push(i,j,k,k+1)}}else s=l0(n,t,p,s,!1);let y=n.outputs,w;if(v&&y!==null&&(w=y[i])){let C=w.length;if(C)for(let x=0;x<C;x+=2){let k=w[x],j=w[x+1],O=t[k][j].subscribe(s),F=m.length;m.push(s,O),f&&f.push(i,n.index,F,-(F+1))}}}function u0(e,t,r,n){let i=Ue(null);try{return zn(6,t,r),r(n)!==!1}catch(s){return lC(e,s),!1}finally{zn(7,t,r),Ue(i)}}function l0(e,t,r,n,i){return function s(a){if(a===Function)return n;let l=e.componentOffset>-1?zr(e.index,t):t;wm(l);let d=u0(t,r,n,a),f=s.__ngNextListenerFn__;for(;f;)d=u0(t,r,f,a)&&d,f=f.__ngNextListenerFn__;return i&&d===!1&&a.preventDefault(),d}}function _t(e=1){return eA(e)}function Dm(e,t,r){return OC(e,"",t,"",r),Dm}function OC(e,t,r,n,i){let s=Ke(),a=SC(s,t,r,n);if(a!==vr){let l=un(),d=Jp();vm(l,d,s,e,a,s[Ye],i,!1)}return OC}function ue(e,t=""){let r=Ke(),n=un(),i=e+an,s=n.firstCreatePass?Fc(n,i,1,t,null):n.data[i],a=PC(n,r,s,t,e);r[i]=a,em()&&hm(n,r,a,s),Aa(s,!1)}var PC=(e,t,r,n,i)=>(Kn(!0),cm(t[Ye],n));function NP(e,t,r,n,i){let s=t[Sn],a=!s||Ta()||Oa(r)||Oc(s,i);return Kn(a),a?cm(t[Ye],n):Bc(s,e,t,r)}function OP(){PC=NP}function Xn(e){return rs("",e,""),Xn}function rs(e,t,r){let n=Ke(),i=SC(n,e,t,r);return i!==vr&&cC(n,Fi(),i),rs}function Em(e,t,r,n,i){let s=Ke(),a=nP(s,e,t,r,n,i);return a!==vr&&cC(s,Fi(),a),Em}function Gr(e,t,r){DC(t)&&(t=t());let n=Ke(),i=Kp();if(Xo(n,i,t)){let s=un(),a=Jp();vm(s,a,n,e,t,n[Ye],r,!1)}return Gr}function Bi(e,t){let r=DC(e);return r&&e.set(t),r}function qr(e,t){let r=Ke(),n=un(),i=ln();return NC(n,r,r[Ye],i,e,t),qr}function PP(e,t,r){let n=un();if(n.firstCreatePass){let i=jr(e);Op(r,n.data,n.blueprint,i,!0),Op(t,n.data,n.blueprint,i,!1)}}function Op(e,t,r,n,i){if(e=Ft(e),Array.isArray(e))for(let s=0;s<e.length;s++)Op(e[s],t,r,n,i);else{let s=un(),a=Ke(),l=ln(),d=Wo(e)?e:Ft(e.provide),f=F0(e),p=l.providerIndexes&1048575,m=l.directiveStart,v=l.providerIndexes>>20;if(Wo(e)||!e.multi){let y=new Oi(f,i,fe),w=Yh(d,t,i?p:p+v,m);w===-1?(up(cc(l,a),s,d),Zh(s,e,t.length),t.push(d),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),r.push(y),a.push(y)):(r[w]=y,a[w]=y)}else{let y=Yh(d,t,p+v,m),w=Yh(d,t,p,p+v),C=y>=0&&r[y],x=w>=0&&r[w];if(i&&!x||!i&&!C){up(cc(l,a),s,d);let k=kP(i?LP:RP,r.length,i,n,f);!i&&x&&(r[w].providerFactory=k),Zh(s,e,t.length,0),t.push(d),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),r.push(k),a.push(k)}else{let k=RC(r[i?w:y],f,!i&&n);Zh(s,e,y>-1?y:w,k)}!i&&n&&x&&r[w].componentProviders++}}}function Zh(e,t,r,n){let i=Wo(t),s=w1(t);if(i||s){let d=(s?Ft(t.useClass):t).prototype.ngOnDestroy;if(d){let f=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let p=f.indexOf(r);p===-1?f.push(r,[n,d]):f[p+1].push(n,d)}else f.push(r,d)}}}function RC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Yh(e,t,r,n){for(let i=r;i<n;i++)if(t[i]===e)return i;return-1}function RP(e,t,r,n){return Pp(this.multi,[])}function LP(e,t,r,n){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ko(r,r[Ae],this.providerFactory.index,n);s=l.slice(0,a),Pp(i,s);for(let d=a;d<l.length;d++)s.push(l[d])}else s=[],Pp(i,s);return s}function Pp(e,t){for(let r=0;r<e.length;r++){let n=e[r];t.push(n())}return t}function kP(e,t,r,n,i){let s=new Oi(e,r,fe);return s.multi=[],s.index=t,s.componentProviders=0,RC(s,i,n&&!r),s}function Pa(e,t=[]){return r=>{r.providersResolver=(n,i)=>PP(n,i?i(e):e,t)}}var FP=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=R0(!1,n.type),s=i.length>0?bm([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(_e(Gt))});let e=t;return e})();function ct(e){Na("NgStandalone"),e.getStandaloneInjector=t=>t.get(FP).getOrCreateStandaloneInjector(e)}var Hc=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var LC=new ce("");function Ui(e){return!!e&&typeof e.then=="function"}function kC(e){return!!e&&typeof e.subscribe=="function"}var FC=new ce(""),VC=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=Q(FC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let a=s();if(Ui(a))n.push(a);else if(kC(a)){let l=new Promise((d,f)=>{a.subscribe({complete:d,error:f})});n.push(l)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),n.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),is=new ce("");function VP(){i_(()=>{throw new le(600,!1)})}function jP(e){return e.isBoundToModule}function BP(e,t,r){try{let n=r();return Ui(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}var Wr=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Q(xw),this.afterRenderEffectManager=Q(wC),this.externalTestViews=new Set,this.beforeRender=new ht,this.afterTick=new ht,this.componentTypes=[],this.components=[],this.isStable=Q(ji).hasPendingTasks.pipe(pe(n=>!n)),this._injector=Q(Gt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let s=n instanceof gc;if(!this._injector.get(VC).done){let y=!s&&A0(n),w=!1;throw new le(405,w)}let l;s?l=n:l=this._injector.get($c).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let d=jP(l)?void 0:this._injector.get(Br),f=i||l.selector,p=l.create(Hr.NULL,[],f,d),m=p.location.nativeElement,v=p.injector.get(LC,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Kh(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),p}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new le(101,!1);let i=Ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Ue(i)}}detectChangesInAttachedViews(n){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===fC)throw new le(103,!1);if(n){let a=i===0;this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:d}of this._views)UP(l,a,d)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>Rp(a))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>Rp(a))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Kh(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(is,[]);[...this._bootstrapListeners,...i].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Kh(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}var Zl;function Mm(e){Zl??=new WeakMap;let t=Zl.get(e);if(t)return t;let r=e.isStable.pipe(En(n=>n)).toPromise().then(()=>{});return Zl.set(e,r),e.onDestroy(()=>Zl?.delete(e)),r}function UP(e,t,r){!t&&!Rp(e)||$P(e,r,t)}function Rp(e){return Yp(e)}function $P(e,t,r){let n;r?(n=0,e[me]|=1024):e[me]&64?n=0:n=1,hC(e,t,n)}var Lp=class{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},Im=(()=>{let t=class t{compileModuleSync(n){return new Tp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),s=N0(n),a=Bw(s.declarations).reduce((l,d)=>{let f=Ti(d);return f&&l.push(new ba(f)),l},[]);return new Lp(i,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var zP=(()=>{let t=class t{constructor(){this.zone=Q(tt),this.applicationRef=Q(Wr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function HP(e){return[{provide:tt,useFactory:e},{provide:Si,multi:!0,useFactory:()=>{let t=Q(zP,{optional:!0});return()=>t.initialize()}},{provide:Si,multi:!0,useFactory:()=>{let t=Q(ZP);return()=>{t.initialize()}}},{provide:xw,useFactory:GP}]}function GP(){let e=Q(tt),t=Q(hr);return r=>e.runOutsideAngular(()=>t.handleError(r))}function qP(e){let t=HP(()=>new tt(WP(e)));return Ur([[],t])}function WP(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var ZP=(()=>{let t=class t{constructor(){this.subscription=new ft,this.initialized=!1,this.zone=Q(tt),this.pendingTasks=Q(ji)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function YP(){return typeof $localize<"u"&&$localize.locale||wc}var Sm=new ce("",{providedIn:"root",factory:()=>Q(Sm,Ie.Optional|Ie.SkipSelf)||YP()});var jC=new ce("");var Jl=null;function KP(e=[],t){return Hr.create({name:t,providers:[{provide:Ec,useValue:"platform"},{provide:jC,useValue:new Set([()=>Jl=null])},...e]})}function XP(e=[]){if(Jl)return Jl;let t=KP(e);return Jl=t,VP(),QP(t),t}function QP(e){e.get(rm,null)?.forEach(r=>r())}var $i=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=JP;let e=t;return e})();function JP(e){return eR(ln(),Ke(),(e&16)===16)}function eR(e,t,r){if(Sa(e)&&!r){let n=zr(e.index,t);return new Ri(n,n)}else if(e.type&47){let n=t[_n];return new Ri(n,t)}return null}var kp=class{constructor(){}supports(t){return EC(t)}create(t){return new Fp(t)}},tR=(e,t)=>t,Fp=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tR}forEachItem(t){let r;for(r=this._itHead;r!==null;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,i=0,s=null;for(;r||n;){let a=!n||r&&r.currentIndex<c0(n,i,s)?r:n,l=c0(a,i,s),d=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(r=r._next,a.previousIndex==null)i++;else{s||(s=[]);let f=l-i,p=d-i;if(f!=p){for(let v=0;v<f;v++){let y=v<s.length?s[v]:s[v]=0,w=y+v;p<=w&&w<f&&(s[v]=y+1)}let m=a.previousIndex;s[m]=p-f}}l!==d&&t(a,l,d)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)t(r)}diff(t){if(t==null&&(t=[]),!EC(t))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._itHead,n=!1,i,s,a;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),r===null||!Object.is(r.trackById,a)?(r=this._mismatch(r,s,a,l),n=!0):(n&&(r=this._verifyReinsertion(r,s,a,l)),Object.is(r.item,s)||this._addIdentityChange(r,s)),r=r._next}else i=0,KO(t,l=>{a=this._trackByFn(i,l),r===null||!Object.is(r.trackById,a)?(r=this._mismatch(r,l,a,i),n=!0):(n&&(r=this._verifyReinsertion(r,l,a,i)),Object.is(r.item,l)||this._addIdentityChange(r,l)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,i){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,s,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,i),t!==null?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,s,i)):t=this._addAfter(new Vp(r,n),s,i)),t}_verifyReinsertion(t,r,n,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let r=t._next;this._addToRemovals(this._unlink(t)),t=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,s=t._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){let i=r===null?this._itHead:r._next;return t._next=i,t._prev=r,i===null?this._itTail=t:i._prev=t,r===null?this._itHead=t:r._next=t,this._linkedRecords===null&&(this._linkedRecords=new Cc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let r=t._prev,n=t._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Vp=class{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jp=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let r=t._prevDup,n=t._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},Cc=class{constructor(){this.map=new Map}put(t){let r=t.trackById,n=this.map.get(r);n||(n=new jp,this.map.set(r,n)),n.add(t)}get(t,r){let n=t,i=this.map.get(n);return i?i.get(t,r):null}remove(t){let r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function c0(e,t,r){let n=e.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+t+i}function d0(){return new Gc([new kp])}var Gc=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i!=null){let s=i.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||d0()),deps:[[t,new x0,new Up]]}}find(n){let i=this.factories.find(s=>s.supports(n));if(i!=null)return i;throw new le(901,!1)}};t.\u0275prov=ae({token:t,providedIn:"root",factory:d0});let e=t;return e})();function BC(e){try{let{rootComponent:t,appProviders:r,platformProviders:n}=e,i=XP(n),s=[qP(),...r||[]],l=new yc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(tt);return d.run(()=>{l.resolveInjectorInitializers();let f=l.get(hr,null),p;d.runOutsideAngular(()=>{p=d.onError.subscribe({next:y=>{f.handleError(y)}})});let m=()=>l.destroy(),v=i.get(jC);return v.add(m),l.onDestroy(()=>{p.unsubscribe(),v.delete(m)}),BP(f,d,()=>{let y=l.get(VC);return y.runInitializers(),y.donePromise.then(()=>{let w=l.get(Sm,wc);MP(w||wc);let C=l.get(Wr);return t!==void 0&&C.bootstrap(t),C})})})}catch(t){return Promise.reject(t)}}var f0=!1,nR=!1;function rR(){f0||(f0=!0,FA(),CP(),OP(),DP(),tP(),$O(),vO(),xN(),TP())}function iR(e,t){return Mm(e)}function UC(){return Ur([{provide:zl,useFactory:()=>{let e=!0;return Gl()&&(e=!!Q(Vi,{optional:!0})?.get(Rw,null)),e&&Na("NgHydration"),e}},{provide:Si,useValue:()=>{nR=!!Q($A,{optional:!0}),Gl()&&Q(zl)&&(oR(),rR())},multi:!0},{provide:Vw,useFactory:()=>Gl()&&Q(zl)},{provide:is,useFactory:()=>{if(Gl()&&Q(zl)){let e=Q(Wr),t=Q(Hr);return()=>{iR(e,t).then(()=>{uO(e)})}}return()=>{}},multi:!0}])}function oR(){let e=Tc(),t;for(let r of e.body.childNodes)if(r.nodeType===Node.COMMENT_NODE&&r.textContent?.trim()===LA){t=r;break}if(!t)throw new le(-507,!1)}function qc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var qC=null;function wr(){return qC}function WC(e){qC??=e}var Wc=class{};var qt=new ce(""),ZC=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>Q(lR),providedIn:"platform"});let e=t;return e})();var lR=(()=>{let t=class t extends ZC{constructor(){super(),this._doc=Q(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(n){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){this._history.pushState(n,i,s)}replaceState(n,i,s){this._history.replaceState(n,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function YC(e,t){if(e.length==0)return t;if(t.length==0)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,r==2?e+t.substring(1):r==1?e+t:e+"/"+t}function $C(e){let t=e.match(/#|\?|$/),r=t&&t.index||e.length,n=r-(e[r-1]==="/"?1:0);return e.slice(0,n)+e.slice(r)}function zi(e){return e&&e[0]!=="?"?"?"+e:e}var Zc=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>Q(KC),providedIn:"root"});let e=t;return e})(),cR=new ce(""),KC=(()=>{let t=class t extends Zc{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Q(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return YC(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+zi(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,a){let l=this.prepareExternalUrl(s+zi(a));this._platformLocation.pushState(n,i,l)}replaceState(n,i,s,a){let l=this.prepareExternalUrl(s+zi(a));this._platformLocation.replaceState(n,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(_e(ZC),_e(cR,8))},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ra=(()=>{let t=class t{constructor(n){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=hR($C(zC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+zi(i))}normalize(n){return t.stripTrailingSlash(fR(this._basePath,zC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zi(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}};t.normalizeQueryParams=zi,t.joinWithSlash=YC,t.stripTrailingSlash=$C,t.\u0275fac=function(i){return new(i||t)(_e(Zc))},t.\u0275prov=ae({token:t,factory:()=>dR(),providedIn:"root"});let e=t;return e})();function dR(){return new Ra(_e(Zc))}function fR(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function zC(e){return e.replace(/\/index.html$/,"")}function hR(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}function Yc(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let n=r.indexOf("="),[i,s]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var Tm=class{constructor(t,r,n,i){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Zr=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,s){this._viewContainer=n,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((s,a,l)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Tm(s.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)i.remove(a===null?void 0:a);else if(a!==null){let d=i.get(a);i.move(d,l),HC(d,s)}});for(let s=0,a=i.length;s<a;s++){let d=i.get(s).context;d.index=s,d.count=a,d.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let a=i.get(s.currentIndex);HC(a,s)})}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(fe(ns),fe(jc),fe(Gc))},t.\u0275dir=Et({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function HC(e,t){e.context.$implicit=t.item}var ss=(()=>{let t=class t{constructor(n,i){this._viewContainer=n,this._context=new Am,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){GC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){GC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(fe(ns),fe(jc))},t.\u0275dir=Et({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),Am=class{constructor(){this.$implicit=null,this.ngIf=null}};function GC(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Vt(t)}'.`)}var Ln=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=On({type:t}),t.\u0275inj=Nn({});let e=t;return e})(),XC="browser",pR="server";function La(e){return e===pR}var os=class{};var Va=class{},Qc=class{},Kr=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),s=i.toLowerCase(),a=r.slice(n+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,r);let i=(t.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let s=t.value;if(!s)this.headers.delete(r),this.normalizedNames.delete(r);else{let a=this.headers.get(r);if(!a)return;a=a.filter(l=>s.indexOf(l)===-1),a.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,a)}break}}setHeaderEntries(t,r){let n=(Array.isArray(r)?r:[r]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var Pm=class{encodeKey(t){return QC(t)}encodeValue(t){return QC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function gR(e,t){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,l]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],d=r.get(a)||[];d.push(l),r.set(a,d)}),r}var vR=/%(\d[a-f0-9])/gi,yR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QC(e){return encodeURIComponent(e).replace(vR,(t,r)=>yR[r]??t)}function Kc(e){return`${e}`}var Yr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Pm,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{let n=t.fromObject[r],i=Array.isArray(n)?n.map(Kc):[Kc(n)];this.map.set(r,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){let r=[];return Object.keys(t).forEach(n=>{let i=t[n];Array.isArray(i)?i.forEach(s=>{r.push({param:n,value:s,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let r=(t.op==="a"?this.map.get(t.param):void 0)||[];r.push(Kc(t.value)),this.map.set(t.param,r);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],i=n.indexOf(Kc(t.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Rm=class{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function _R(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ex(e){return typeof Blob<"u"&&e instanceof Blob}function tx(e){return typeof FormData<"u"&&e instanceof FormData}function wR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Fa=class e{constructor(t,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(_R(this.method)||i?(this.body=n!==void 0?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Kr,this.context??=new Rm,!this.params)this.params=new Yr,this.urlWithParams=r;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=r;else{let l=r.indexOf("?"),d=l===-1?"?":l<r.length-1?"&":"";this.urlWithParams=r+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JC(this.body)||ex(this.body)||tx(this.body)||wR(this.body)?this.body:this.body instanceof Yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tx(this.body)?null:ex(this.body)?this.body.type||null:JC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let r=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,l=t.withCredentials??this.withCredentials,d=t.reportProgress??this.reportProgress,f=t.headers||this.headers,p=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(f=Object.keys(t.setHeaders).reduce((v,y)=>v.set(y,t.setHeaders[y]),f)),t.setParams&&(p=Object.keys(t.setParams).reduce((v,y)=>v.set(y,t.setParams[y]),p)),new e(r,n,a,{params:p,headers:f,context:m,reportProgress:d,responseType:i,withCredentials:l,transferCache:s})}},as=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(as||{}),ja=class{constructor(t,r=ed.Ok,n="OK"){this.headers=t.headers||new Kr,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Lm=class e extends ja{constructor(t={}){super(t),this.type=as.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},us=class e extends ja{constructor(t={}){super(t),this.type=as.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Jc=class extends ja{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ed=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(ed||{});function Om(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Hi=(()=>{let t=class t{constructor(n){this.handler=n}request(n,i,s={}){let a;if(n instanceof Fa)a=n;else{let f;s.headers instanceof Kr?f=s.headers:f=new Kr(s.headers);let p;s.params&&(s.params instanceof Yr?p=s.params:p=new Yr({fromObject:s.params})),a=new Fa(n,i,s.body!==void 0?s.body:null,{headers:f,context:s.context,params:p,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let l=he(a).pipe(Rr(f=>this.handler.handle(f)));if(n instanceof Fa||s.observe==="events")return l;let d=l.pipe(tn(f=>f instanceof us));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(pe(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(pe(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(pe(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(pe(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Yr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,s={}){return this.request("PATCH",n,Om(s,i))}post(n,i,s={}){return this.request("POST",n,Om(s,i))}put(n,i,s={}){return this.request("PUT",n,Om(s,i))}};t.\u0275fac=function(i){return new(i||t)(_e(Va))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})();function fx(e,t){return t(e)}function CR(e,t){return(r,n)=>t.intercept(r,{handle:i=>e(i,n)})}function xR(e,t,r){return(n,i)=>mr(r,()=>t(n,s=>e(s,i)))}var bR=new ce(""),km=new ce(""),hx=new ce(""),DR=new ce("");function ER(){let e=null;return(t,r)=>{e===null&&(e=(Q(bR,{optional:!0})??[]).reduceRight(CR,fx));let n=Q(ji),i=n.add();return e(t,r).pipe(kr(()=>n.remove(i)))}}var nx=(()=>{let t=class t extends Va{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=Q(ji);let s=Q(DR,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(km),...this.injector.get(hx,[])]));this.chain=s.reduceRight((a,l)=>xR(a,l,this.injector),fx)}let i=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(kr(()=>this.pendingTasks.remove(i)))}};t.\u0275fac=function(i){return new(i||t)(_e(Qc),_e(Gt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})();var MR=/^\)\]\}',?\n/;function IR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var rx=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new le(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?et(i.\u0275loadImpl()):he(null)).pipe(nn(()=>new je(a=>{let l=i.build();if(l.open(n.method,n.urlWithParams),n.withCredentials&&(l.withCredentials=!0),n.headers.forEach((x,k)=>l.setRequestHeader(x,k.join(","))),n.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let x=n.detectContentTypeHeader();x!==null&&l.setRequestHeader("Content-Type",x)}if(n.responseType){let x=n.responseType.toLowerCase();l.responseType=x!=="json"?x:"text"}let d=n.serializeBody(),f=null,p=()=>{if(f!==null)return f;let x=l.statusText||"OK",k=new Kr(l.getAllResponseHeaders()),j=IR(l)||n.url;return f=new Lm({headers:k,status:l.status,statusText:x,url:j}),f},m=()=>{let{headers:x,status:k,statusText:j,url:b}=p(),P=null;k!==ed.NoContent&&(P=typeof l.response>"u"?l.responseText:l.response),k===0&&(k=P?ed.Ok:0);let O=k>=200&&k<300;if(n.responseType==="json"&&typeof P=="string"){let F=P;P=P.replace(MR,"");try{P=P!==""?JSON.parse(P):null}catch(H){P=F,O&&(O=!1,P={error:H,text:P})}}O?(a.next(new us({body:P,headers:x,status:k,statusText:j,url:b||void 0})),a.complete()):a.error(new Jc({error:P,headers:x,status:k,statusText:j,url:b||void 0}))},v=x=>{let{url:k}=p(),j=new Jc({error:x,status:l.status||0,statusText:l.statusText||"Unknown Error",url:k||void 0});a.error(j)},y=!1,w=x=>{y||(a.next(p()),y=!0);let k={type:as.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),n.responseType==="text"&&l.responseText&&(k.partialText=l.responseText),a.next(k)},C=x=>{let k={type:as.UploadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),a.next(k)};return l.addEventListener("load",m),l.addEventListener("error",v),l.addEventListener("timeout",v),l.addEventListener("abort",v),n.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",C)),l.send(d),a.next({type:as.Sent}),()=>{l.removeEventListener("error",v),l.removeEventListener("abort",v),l.removeEventListener("load",m),l.removeEventListener("timeout",v),n.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",C)),l.readyState!==l.DONE&&l.abort()}})))}};t.\u0275fac=function(i){return new(i||t)(_e(os))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})(),px=new ce(""),SR="XSRF-TOKEN",TR=new ce("",{providedIn:"root",factory:()=>SR}),AR="X-XSRF-TOKEN",NR=new ce("",{providedIn:"root",factory:()=>AR}),td=class{},OR=(()=>{let t=class t{constructor(n,i,s){this.doc=n,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yc(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(i){return new(i||t)(_e(qt),_e(Rn),_e(TR))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})();function PR(e,t){let r=e.url.toLowerCase();if(!Q(px)||e.method==="GET"||e.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return t(e);let n=Q(td).getToken(),i=Q(NR);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),t(e)}var mx=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(mx||{});function RR(e,t){return{\u0275kind:e,\u0275providers:t}}function LR(...e){let t=[Hi,rx,nx,{provide:Va,useExisting:nx},{provide:Qc,useExisting:rx},{provide:km,useValue:PR,multi:!0},{provide:px,useValue:!0},{provide:td,useClass:OR}];for(let r of e)t.push(...r.\u0275providers);return Ur(t)}var ix=new ce("");function kR(){return RR(mx.LegacyInterceptors,[{provide:ix,useFactory:ER},{provide:km,useExisting:ix,multi:!0}])}var gx=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=On({type:t}),t.\u0275inj=Nn({providers:[LR(kR())]});let e=t;return e})();var ox="b",sx="h",ax="s",ux="st",lx="u",cx="rt",Xc=new ce(""),FR=["GET","HEAD"];function VR(e,t){let m=Q(Xc),{isCacheActive:r}=m,n=Xy(m,["isCacheActive"]),{transferCache:i,method:s}=e;if(!r||s==="POST"&&!n.includePostRequests&&!i||s!=="POST"&&!FR.includes(s)||i===!1||n.filter?.(e)===!1)return t(e);let a=Q(Vi),l=BR(e),d=a.get(l,null),f=n.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),d){let{[ox]:v,[cx]:y,[sx]:w,[ax]:C,[ux]:x,[lx]:k}=d,j=v;switch(y){case"arraybuffer":j=new TextEncoder().encode(v).buffer;break;case"blob":j=new Blob([v]);break}let b=new Kr(w);return he(new us({body:j,headers:b,status:C,statusText:x,url:k}))}let p=La(Q(Rn));return t(e).pipe(mt(v=>{v instanceof us&&p&&a.set(l,{[ox]:v.body,[sx]:jR(v.headers,f),[ax]:v.status,[ux]:v.statusText,[lx]:v.url||"",[cx]:e.responseType})}))}function jR(e,t){if(!t)return{};let r={};for(let n of t){let i=e.getAll(n);i!==null&&(r[n]=i)}return r}function dx(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function BR(e){let{params:t,method:r,responseType:n,url:i}=e,s=dx(t),a=e.serializeBody();a instanceof URLSearchParams?a=dx(a):typeof a!="string"&&(a="");let l=[r,n,i,a,s].join("|"),d=UR(l);return d}function UR(e){let t=0;for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function vx(e){return[{provide:Xc,useFactory:()=>(Na("NgHttpTransferCache"),re({isCacheActive:!0},e))},{provide:hx,useValue:VR,multi:!0,deps:[Vi,Xc]},{provide:is,multi:!0,useFactory:()=>{let t=Q(Wr),r=Q(Xc);return()=>{Mm(t).then(()=>{r.isCacheActive=!1})}}}]}var Bm=class extends Wc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Um=class e extends Bm{static makeCurrent(){WC(new e)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=$R();return r==null?null:zR(r)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Yc(document.cookie,t)}},Ba=null;function $R(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}function zR(e){return new URL(e,document.baseURI).pathname}var HR=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})(),$m=new ce(""),Cx=(()=>{let t=class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(a=>a.supports(n)),!i)throw new le(5101,!1);return this._eventNameToPlugin.set(n,i),i}};t.\u0275fac=function(i){return new(i||t)(_e($m),_e(tt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})(),nd=class{constructor(t){this._doc=t}},Vm="ng-app-id",xx=(()=>{let t=class t{constructor(n,i,s,a={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=La(a),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Vm}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){let s=this.styleRef;if(s.has(n)){let a=s.get(n);return a.usage+=i,a.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===n)return s.delete(i),a.removeAttribute(Vm),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Vm,this.appId),n.appendChild(l),l}}addStyleToHost(n,i){let s=this.getStyleElement(n,i),a=this.styleRef,l=a.get(i)?.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(_e(qt),_e(Ac),_e(im,8),_e(Rn))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})(),jm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gm=/%COMP%/g,bx="%COMP%",GR=`_nghost-${bx}`,qR=`_ngcontent-${bx}`,WR=!0,ZR=new ce("",{providedIn:"root",factory:()=>WR});function YR(e){return qR.replace(Gm,e)}function KR(e){return GR.replace(Gm,e)}function Dx(e,t){return t.map(r=>r.replace(Gm,e))}var yx=(()=>{let t=class t{constructor(n,i,s,a,l,d,f,p=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=La(d),this.defaultRenderer=new Ua(n,l,f,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Gn.ShadowDom&&(i=qe(re({},i),{encapsulation:Gn.Emulated}));let s=this.getOrCreateRenderer(n,i);return s instanceof rd?s.applyToHost(n):s instanceof $a&&s.applyStyles(),s}getOrCreateRenderer(n,i){let s=this.rendererByCompId,a=s.get(i.id);if(!a){let l=this.doc,d=this.ngZone,f=this.eventManager,p=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case Gn.Emulated:a=new rd(f,p,i,this.appId,m,l,d,v);break;case Gn.ShadowDom:return new zm(f,p,n,i,l,d,this.nonce,v);default:a=new $a(f,p,i,m,l,d,v);break}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(_e(Cx),_e(xx),_e(Ac),_e(ZR),_e(qt),_e(Rn),_e(tt),_e(im))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})(),Ua=class{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(jm[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(_x(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(_x(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new le(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;let s=jm[i];s?t.setAttributeNS(s,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){let i=jm[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(pr.DashCase|pr.Important)?t.style.setProperty(r,n,i&pr.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&pr.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t!=null&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if(typeof t=="string"&&(t=wr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function _x(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var zm=class extends Ua{constructor(t,r,n,i,s,a,l,d){super(t,s,a,d),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Dx(i.id,i.styles);for(let p of f){let m=document.createElement("style");l&&m.setAttribute("nonce",l),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$a=class extends Ua{constructor(t,r,n,i,s,a,l,d){super(t,s,a,l),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=d?Dx(d,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rd=class extends $a{constructor(t,r,n,i,s,a,l,d){let f=i+"-"+n.id;super(t,r,n,s,a,l,d,f),this.contentAttr=YR(f),this.hostAttr=KR(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}},XR=(()=>{let t=class t extends nd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}};t.\u0275fac=function(i){return new(i||t)(_e(qt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})(),wx=["alt","control","meta","shift"],QR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},eL=(()=>{let t=class t extends nd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,s){let a=t.parseEventName(i),l=t.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(n,a.domEventName,l))}static parseEventName(n){let i=n.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let a=t._normalizeKey(i.pop()),l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),wx.forEach(p=>{let m=i.indexOf(p);m>-1&&(i.splice(m,1),l+=p+".")}),l+=a,i.length!=0||a.length===0)return null;let f={};return f.domEventName=s,f.fullKey=l,f}static matchEventFullKeyCode(n,i){let s=QR[n.key]||n.key,a="";return i.indexOf("code.")>-1&&(s=n.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),wx.forEach(l=>{if(l!==s){let d=JR[l];d(n)&&(a+=l+".")}}),a+=s,a===i)}static eventCallback(n,i,s){return a=>{t.matchEventFullKeyCode(a,n)&&s.runGuarded(()=>i(a))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(i){return new(i||t)(_e(qt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac});let e=t;return e})();function Ex(e,t){return BC(re({rootComponent:e},tL(t)))}function tL(e){return{appProviders:[...sL,...e?.providers??[]],platformProviders:oL}}function nL(){Um.makeCurrent()}function rL(){return new hr}function iL(){return Aw(document),document}var oL=[{provide:Rn,useValue:XC},{provide:rm,useValue:nL,multi:!0},{provide:qt,useFactory:iL,deps:[]}];var sL=[{provide:Ec,useValue:"root"},{provide:hr,useFactory:rL,deps:[]},{provide:$m,useClass:XR,multi:!0,deps:[qt,tt,Rn]},{provide:$m,useClass:eL,multi:!0,deps:[qt]},yx,xx,Cx,{provide:xa,useExisting:yx},{provide:os,useClass:HR,deps:[]},[]];var Mx=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(i){return new(i||t)(_e(qt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Hm=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Hm||{});function Ix(...e){let t=[],r=new Set,n=r.has(Hm.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of e)r.add(s),i.length&&t.push(i);return Ur([[],UC(),r.has(Hm.NoHttpTransferCache)||n?[]:vx({}),t])}var we="primary",ru=Symbol("RouteTitle"),Km=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function hs(e){return new Km(e)}function lL(e,t,r){let n=r.path.split("/");if(n.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let i={};for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function cL(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Qn(e[r],t[r]))return!1;return!0}function Qn(e,t){let r=e?Xm(e):void 0,n=t?Xm(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!Px(e[i],t[i]))return!1;return!0}function Xm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Px(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((i,s)=>n[s]===i)}else return e===t}function Rx(e){return e.length>0?e[e.length-1]:null}function Jr(e){return Mh(e)?e:Ui(e)?et(Promise.resolve(e)):he(e)}var dL={exact:kx,subset:Fx},Lx={exact:fL,subset:hL,ignored:()=>!0};function Sx(e,t,r){return dL[r.paths](e.root,t.root,r.matrixParams)&&Lx[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function fL(e,t){return Qn(e,t)}function kx(e,t,r){if(!qi(e.segments,t.segments)||!sd(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!kx(e.children[n],t.children[n],r))return!1;return!0}function hL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>Px(e[r],t[r]))}function Fx(e,t,r){return Vx(e,t,t.segments,r)}function Vx(e,t,r,n){if(e.segments.length>r.length){let i=e.segments.slice(0,r.length);return!(!qi(i,r)||t.hasChildren()||!sd(i,r,n))}else if(e.segments.length===r.length){if(!qi(e.segments,r)||!sd(e.segments,r,n))return!1;for(let i in t.children)if(!e.children[i]||!Fx(e.children[i],t.children[i],n))return!1;return!0}else{let i=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!qi(e.segments,i)||!sd(e.segments,i,n)||!e.children[we]?!1:Vx(e.children[we],t,s,n)}}function sd(e,t,r){return t.every((n,i)=>Lx[r](e[i].parameters,n.parameters))}var Xr=class{constructor(t=new $e([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){return gL.serialize(this)}},$e=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ad(this)}},Gi=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=hs(this.parameters),this._parameterMap}toString(){return Bx(this)}};function pL(e,t){return qi(e,t)&&e.every((r,n)=>Qn(r.parameters,t[n].parameters))}function qi(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.path===t[n].path)}function mL(e,t){let r=[];return Object.entries(e.children).forEach(([n,i])=>{n===we&&(r=r.concat(t(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==we&&(r=r.concat(t(i,n)))}),r}var bg=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>new ld,providedIn:"root"});let e=t;return e})(),ld=class{parse(t){let r=new Jm(t);return new Xr(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${za(t.root,!0)}`,n=_L(t.queryParams),i=typeof t.fragment=="string"?`#${vL(t.fragment)}`:"";return`${r}${n}${i}`}},gL=new ld;function ad(e){return e.segments.map(t=>Bx(t)).join("/")}function za(e,t){if(!e.hasChildren())return ad(e);if(t){let r=e.children[we]?za(e.children[we],!1):"",n=[];return Object.entries(e.children).forEach(([i,s])=>{i!==we&&n.push(`${i}:${za(s,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=mL(e,(n,i)=>i===we?[za(e.children[we],!1)]:[`${i}:${za(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[we]!=null?`${ad(e)}/${r[0]}`:`${ad(e)}/(${r.join("//")})`}}function jx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(e){return jx(e).replace(/%3B/gi,";")}function vL(e){return encodeURI(e)}function Qm(e){return jx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(e){return decodeURIComponent(e)}function Tx(e){return ud(e.replace(/\+/g,"%20"))}function Bx(e){return`${Qm(e.path)}${yL(e.parameters)}`}function yL(e){return Object.entries(e).map(([t,r])=>`;${Qm(t)}=${Qm(r)}`).join("")}function _L(e){let t=Object.entries(e).map(([r,n])=>Array.isArray(n)?n.map(i=>`${id(r)}=${id(i)}`).join("&"):`${id(r)}=${id(n)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var wL=/^[^\/()?;#]+/;function qm(e){let t=e.match(wL);return t?t[0]:""}var CL=/^[^\/()?;=#]+/;function xL(e){let t=e.match(CL);return t?t[0]:""}var bL=/^[^=?&#]+/;function DL(e){let t=e.match(bL);return t?t[0]:""}var EL=/^[^&#]+/;function ML(e){let t=e.match(EL);return t?t[0]:""}var Jm=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[we]=new $e(t,r)),n}parseSegment(){let t=qm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(t),new Gi(ud(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=xL(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=qm(this.remaining);i&&(n=i,this.capture(n))}t[ud(r)]=ud(n)}parseQueryParam(t){let r=DL(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let a=ML(this.remaining);a&&(n=a,this.capture(n))}let i=Tx(r),s=Tx(n);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(s)}else t[i]=s}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=qm(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new le(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=we);let a=this.parseChildren();r[s]=Object.keys(a).length===1?a[we]:new $e([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new le(4011,!1)}};function Ux(e){return e.segments.length>0?new $e([],{[we]:e}):e}function $x(e){let t={};for(let[n,i]of Object.entries(e.children)){let s=$x(i);if(n===we&&s.segments.length===0&&s.hasChildren())for(let[a,l]of Object.entries(s.children))t[a]=l;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let r=new $e(e.segments,t);return IL(r)}function IL(e){if(e.numberOfChildren===1&&e.children[we]){let t=e.children[we];return new $e(e.segments.concat(t.segments),t.children)}return e}function ps(e){return e instanceof Xr}function SL(e,t,r=null,n=null){let i=zx(e);return Hx(i,t,r,n)}function zx(e){let t;function r(s){let a={};for(let d of s.children){let f=r(d);a[d.outlet]=f}let l=new $e(s.url,a);return s===e&&(t=l),l}let n=r(e.root),i=Ux(n);return t??i}function Hx(e,t,r,n){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Wm(i,i,i,r,n);let s=TL(t);if(s.toRoot())return Wm(i,i,new $e([],{}),r,n);let a=AL(s,i,e),l=a.processChildren?qa(a.segmentGroup,a.index,s.commands):qx(a.segmentGroup,a.index,s.commands);return Wm(i,a.segmentGroup,l,r,n)}function cd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ya(e){return typeof e=="object"&&e!=null&&e.outlets}function Wm(e,t,r,n,i){let s={};n&&Object.entries(n).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(p=>`${p}`):`${f}`});let a;e===t?a=r:a=Gx(e,t,r);let l=Ux($x(a));return new Xr(l,s,i)}function Gx(e,t,r){let n={};return Object.entries(e.children).forEach(([i,s])=>{s===t?n[i]=r:n[i]=Gx(s,t,r)}),new $e(e.segments,n)}var dd=class{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&cd(n[0]))throw new le(4003,!1);let i=n.find(Ya);if(i&&i!==Rx(n))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TL(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new dd(!0,0,e);let t=0,r=!1,n=e.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?r=!0:l===".."?t++:l!=""&&i.push(l))}),i):[...i,s]},[]);return new dd(r,t,n)}var ds=class{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}};function AL(e,t,r){if(e.isAbsolute)return new ds(t,!0,0);if(!r)return new ds(t,!1,NaN);if(r.parent===null)return new ds(r,!0,0);let n=cd(e.commands[0])?0:1,i=r.segments.length-1+n;return NL(r,i,e.numberOfDoubleDots)}function NL(e,t,r){let n=e,i=t,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new le(4005,!1);i=n.segments.length}return new ds(n,!1,i-s)}function OL(e){return Ya(e[0])?e[0].outlets:{[we]:e}}function qx(e,t,r){if(e??=new $e([],{}),e.segments.length===0&&e.hasChildren())return qa(e,t,r);let n=PL(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let s=new $e(e.segments.slice(0,n.pathIndex),{});return s.children[we]=new $e(e.segments.slice(n.pathIndex),e.children),qa(s,0,i)}else return n.match&&i.length===0?new $e(e.segments,{}):n.match&&!e.hasChildren()?eg(e,t,r):n.match?qa(e,0,i):eg(e,t,r)}function qa(e,t,r){if(r.length===0)return new $e(e.segments,{});{let n=OL(r),i={};if(Object.keys(n).some(s=>s!==we)&&e.children[we]&&e.numberOfChildren===1&&e.children[we].segments.length===0){let s=qa(e.children[we],t,r);return new $e(e.segments,s.children)}return Object.entries(n).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=qx(e.children[s],t,a))}),Object.entries(e.children).forEach(([s,a])=>{n[s]===void 0&&(i[s]=a)}),new $e(e.segments,i)}}function PL(e,t,r){let n=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return s;let a=e.segments[i],l=r[n];if(Ya(l))break;let d=`${l}`,f=n<r.length-1?r[n+1]:null;if(i>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!Nx(d,f,a))return s;n+=2}else{if(!Nx(d,{},a))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function eg(e,t,r){let n=e.segments.slice(0,t),i=0;for(;i<r.length;){let s=r[i];if(Ya(s)){let d=RL(s.outlets);return new $e(n,d)}if(i===0&&cd(r[0])){let d=e.segments[t];n.push(new Gi(d.path,Ax(r[0]))),i++;continue}let a=Ya(s)?s.outlets[we]:`${s}`,l=i<r.length-1?r[i+1]:null;a&&l&&cd(l)?(n.push(new Gi(a,Ax(l))),i+=2):(n.push(new Gi(a,{})),i++)}return new $e(n,{})}function RL(e){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[r]=eg(new $e([],{}),0,n))}),t}function Ax(e){let t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function Nx(e,t,r){return e==r.path&&Qn(t,r.parameters)}var Wa="imperative",Mt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Mt||{}),Cn=class{constructor(t,r){this.id=t,this.url=r}},Ka=class extends Cn{constructor(t,r,n="imperative",i=null){super(t,r),this.type=Mt.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wi=class extends Cn{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=Mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(dn||{}),tg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(tg||{}),Qr=class extends Cn{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=Mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zi=class extends Cn{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=Mt.NavigationSkipped}},Xa=class extends Cn{constructor(t,r,n,i){super(t,r),this.error=n,this.target=i,this.type=Mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fd=class extends Cn{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=Mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class extends Cn{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=Mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rg=class extends Cn{constructor(t,r,n,i,s){super(t,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s,this.type=Mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ig=class extends Cn{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=Mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends Cn{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=Mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class{constructor(t){this.route=t,this.type=Mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ag=class{constructor(t){this.route=t,this.type=Mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ug=class{constructor(t){this.snapshot=t,this.type=Mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(t){this.snapshot=t,this.type=Mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{constructor(t){this.snapshot=t,this.type=Mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dg=class{constructor(t){this.snapshot=t,this.type=Mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Qa=class{},Ja=class{constructor(t){this.url=t}};var fg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yd,this.attachRef=null}},yd=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new fg,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hd=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=hg(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){let r=hg(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=pg(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return pg(t,this._root).map(r=>r.value)}};function hg(e,t){if(e===t.value)return t;for(let r of t.children){let n=hg(e,r);if(n)return n}return null}function pg(e,t){if(e===t.value)return[t];for(let r of t.children){let n=pg(e,r);if(n.length)return n.unshift(t),n}return[]}var cn=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function cs(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var pd=class extends hd{constructor(t,r){super(t),this.snapshot=r,Eg(this,t)}toString(){return this.snapshot.toString()}};function Wx(e){let t=LL(e),r=new bt([new Gi("",{})]),n=new bt({}),i=new bt({}),s=new bt({}),a=new bt(""),l=new ms(r,n,s,a,i,we,e,t.root);return l.snapshot=t.root,new pd(new cn(l,[]),t)}function LL(e){let t={},r={},n={},i="",s=new eu([],t,n,i,r,we,e,null,{});return new md("",new cn(s,[]))}var ms=class{constructor(t,r,n,i,s,a,l,d){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(pe(f=>f[ru]))??he(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(t=>hs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(t=>hs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dg(e,t,r="emptyOnly"){let n,{routeConfig:i}=e;return t!==null&&(r==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:re(re({},t.params),e.params),data:re(re({},t.data),e.data),resolve:re(re(re(re({},e.data),t.data),i?.data),e._resolvedData)}:n={params:re({},e.params),data:re({},e.data),resolve:re(re({},e.data),e._resolvedData??{})},i&&Yx(i)&&(n.resolve[ru]=i.title),n}var eu=class{get title(){return this.data?.[ru]}constructor(t,r,n,i,s,a,l,d,f){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},md=class extends hd{constructor(t,r){super(r),this.url=t,Eg(this,r)}toString(){return Zx(this._root)}};function Eg(e,t){t.value._routerState=e,t.children.forEach(r=>Eg(e,r))}function Zx(e){let t=e.children.length>0?` { ${e.children.map(Zx).join(", ")} } `:"";return`${e.value}${t}`}function Zm(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Qn(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Qn(t.params,r.params)||e.paramsSubject.next(r.params),cL(t.url,r.url)||e.urlSubject.next(r.url),Qn(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function mg(e,t){let r=Qn(e.params,t.params)&&pL(e.url,t.url),n=!e.parent!=!t.parent;return r&&!n&&(!e.parent||mg(e.parent,t.parent))}function Yx(e){return typeof e.title=="string"||e.title===null}var Mg=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=Q(yd),this.location=Q(ns),this.changeDetector=Q($i),this.environmentInjector=Q(Gt),this.inputBinder=Q(Ig,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=n;let s=this.location,l=n.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new gg(n,d,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:f,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Et({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$r]});let e=t;return e})(),gg=class{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n,this.__ngOutletInjector=!0}get(t,r){return t===ms?this.route:t===yd?this.childContexts:this.parent.get(t,r)}},Ig=new ce("");function kL(e,t,r){let n=tu(e,t._root,r?r._root:void 0);return new pd(n,t)}function tu(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=t.value;let i=FL(e,t,r);return new cn(n,i)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>tu(e,l)),a}}let n=VL(t.value),i=t.children.map(s=>tu(e,s));return new cn(n,i)}}function FL(e,t,r){return t.children.map(n=>{for(let i of r.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return tu(e,n,i);return tu(e,n)})}function VL(e){return new ms(new bt(e.url),new bt(e.params),new bt(e.queryParams),new bt(e.fragment),new bt(e.data),e.outlet,e.component,e)}var Kx="ngNavigationCancelingError";function Xx(e,t){let{redirectTo:r,navigationBehaviorOptions:n}=ps(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Qx(!1,dn.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function Qx(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[Kx]=!0,r.cancellationCode=t,r}function jL(e){return Jx(e)&&ps(e.url)}function Jx(e){return!!e&&e[Kx]}var BL=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=lt({type:t,selectors:[["ng-component"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(i,s){i&1&&Se(0,"router-outlet")},dependencies:[Mg],encapsulation:2});let e=t;return e})();function UL(e,t){return e.providers&&!e._injector&&(e._injector=bm(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Sg(e){let t=e.children&&e.children.map(Sg),r=t?qe(re({},e),{children:t}):re({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==we&&(r.component=BL),r}function Jn(e){return e.outlet||we}function $L(e,t){let r=e.filter(n=>Jn(n)===t);return r.push(...e.filter(n=>Jn(n)!==t)),r}function iu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var zL=(e,t,r,n)=>pe(i=>(new vg(t,i.targetRouterState,i.currentRouterState,r,n).activate(e),i)),vg=class{constructor(t,r,n,i,s){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),Zm(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){let i=cs(r);t.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],n),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,r,n){let i=t.value,s=r?r.value:null;if(i===s)if(i.component){let a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(t,r,a.children)}else this.deactivateChildRoutes(t,r,n);else s&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,s=cs(t);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(n&&n.outlet){let a=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,s=cs(t);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){let i=cs(r);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new dg(s.value.snapshot))}),t.children.length&&this.forwardEvent(new lg(t.value.snapshot))}activateRoutes(t,r,n){let i=t.value,s=r?r.value:null;if(Zm(i),i===s)if(i.component){let a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,a.children)}else this.activateChildRoutes(t,r,n);else if(i.component){let a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Zm(l.route.value),this.activateChildRoutes(t,null,a.children)}else{let l=iu(i.snapshot);a.attachRef=null,a.route=i,a.injector=l,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}},gd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},fs=class{constructor(t,r){this.component=t,this.route=r}};function HL(e,t,r){let n=e._root,i=t?t._root:null;return Ha(n,i,r,[n.value])}function GL(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function vs(e,t){let r=Symbol(),n=t.get(e,r);return n===r?typeof e=="function"&&!m0(e)?e:t.get(e):n}function Ha(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=cs(t);return e.children.forEach(a=>{qL(a,s[a.value.outlet],r,n.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,l])=>Za(l,r.getContext(a),i)),i}function qL(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,a=t?t.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let d=WL(a,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new gd(n)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Ha(e,t,l?l.children:null,n,i):Ha(e,t,r,n,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new fs(l.outlet.component,a))}else a&&Za(t,l,i),i.canActivateChecks.push(new gd(n)),s.component?Ha(e,null,l?l.children:null,n,i):Ha(e,null,r,n,i);return i}function WL(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!qi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!qi(e.url,t.url)||!Qn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mg(e,t)||!Qn(e.queryParams,t.queryParams);case"paramsChange":default:return!mg(e,t)}}function Za(e,t,r){let n=cs(e),i=e.value;Object.entries(n).forEach(([s,a])=>{i.component?t?Za(a,t.children.getContext(s),r):Za(a,null,r):Za(a,t,r)}),i.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new fs(t.outlet.component,i)):r.canDeactivateChecks.push(new fs(null,i)):r.canDeactivateChecks.push(new fs(null,i))}function ou(e){return typeof e=="function"}function ZL(e){return typeof e=="boolean"}function YL(e){return e&&ou(e.canLoad)}function KL(e){return e&&ou(e.canActivate)}function XL(e){return e&&ou(e.canActivateChild)}function QL(e){return e&&ou(e.canDeactivate)}function JL(e){return e&&ou(e.canMatch)}function eb(e){return e instanceof lr||e?.name==="EmptyError"}var od=Symbol("INITIAL_VALUE");function gs(){return nn(e=>jl(e.map(t=>t.pipe(cr(1),Oh(od)))).pipe(pe(t=>{for(let r of t)if(r!==!0){if(r===od)return od;if(r===!1||r instanceof Xr)return r}return!0}),tn(t=>t!==od),cr(1)))}function ek(e,t){return pt(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=r;return a.length===0&&s.length===0?he(qe(re({},r),{guardsResult:!0})):tk(a,n,i,e).pipe(pt(l=>l&&ZL(l)?nk(n,s,e,t):he(l)),pe(l=>qe(re({},r),{guardsResult:l})))})}function tk(e,t,r,n){return et(e).pipe(pt(i=>ak(i.component,i.route,r,t,n)),En(i=>i!==!0,!0))}function nk(e,t,r,n){return et(t).pipe(Rr(i=>Vo(ik(i.route.parent,n),rk(i.route,n),sk(e,i.path,r),ok(e,i.route,r))),En(i=>i!==!0,!0))}function rk(e,t){return e!==null&&t&&t(new cg(e)),he(!0)}function ik(e,t){return e!==null&&t&&t(new ug(e)),he(!0)}function ok(e,t,r){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return he(!0);let i=n.map(s=>Bl(()=>{let a=iu(t)??r,l=vs(s,a),d=KL(l)?l.canActivate(t,e):mr(a,()=>l(t,e));return Jr(d).pipe(En())}));return he(i).pipe(gs())}function sk(e,t,r){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>GL(a)).filter(a=>a!==null).map(a=>Bl(()=>{let l=a.guards.map(d=>{let f=iu(a.node)??r,p=vs(d,f),m=XL(p)?p.canActivateChild(n,e):mr(f,()=>p(n,e));return Jr(m).pipe(En())});return he(l).pipe(gs())}));return he(s).pipe(gs())}function ak(e,t,r,n,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return he(!0);let a=s.map(l=>{let d=iu(t)??i,f=vs(l,d),p=QL(f)?f.canDeactivate(e,t,r,n):mr(d,()=>f(e,t,r,n));return Jr(p).pipe(En())});return he(a).pipe(gs())}function uk(e,t,r,n){let i=t.canLoad;if(i===void 0||i.length===0)return he(!0);let s=i.map(a=>{let l=vs(a,e),d=YL(l)?l.canLoad(t,r):mr(e,()=>l(t,r));return Jr(d)});return he(s).pipe(gs(),tb(n))}function tb(e){return Ch(mt(t=>{if(ps(t))throw Xx(e,t)}),pe(t=>t===!0))}function lk(e,t,r,n){let i=t.canMatch;if(!i||i.length===0)return he(!0);let s=i.map(a=>{let l=vs(a,e),d=JL(l)?l.canMatch(t,r):mr(e,()=>l(t,r));return Jr(d)});return he(s).pipe(gs(),tb(n))}var nu=class{constructor(t){this.segmentGroup=t||null}},vd=class extends Error{constructor(t){super(),this.urlTree=t}};function ls(e){return Fo(new nu(e))}function ck(e){return Fo(new le(4e3,!1))}function dk(e){return Fo(Qx(!1,dn.GuardRejected))}var yg=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return he(n);if(i.numberOfChildren>1||!i.children[we])return ck(t.redirectTo);i=i.children[we]}}applyRedirectCommands(t,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new vd(i);return i}applyRedirectCreateUrlTree(t,r,n,i){let s=this.createSegmentGroup(t,r.root,n,i);return new Xr(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let n={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let l=s.substring(1);n[i]=r[l]}else n[i]=s}),n}createSegmentGroup(t,r,n,i){let s=this.createSegments(t,r.segments,n,i),a={};return Object.entries(r.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(t,d,n,i)}),new $e(s,a)}createSegments(t,r,n,i){return r.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,n))}findPosParam(t,r,n){let i=n[r.path.substring(1)];if(!i)throw new le(4001,!1);return i}findOrReturn(t,r){let n=0;for(let i of r){if(i.path===t.path)return r.splice(n),i;n++}return t}},_g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fk(e,t,r,n,i){let s=Tg(e,t,r);return s.matched?(n=UL(t,n),lk(n,t,r,i).pipe(pe(a=>a===!0?s:re({},_g)))):he(s)}function Tg(e,t,r){if(t.path==="**")return hk(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?re({},_g):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(t.matcher||lL)(r,e,t);if(!i)return re({},_g);let s={};Object.entries(i.posParams??{}).forEach(([l,d])=>{s[l]=d.path});let a=i.consumed.length>0?re(re({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function hk(e){return{matched:!0,parameters:e.length>0?Rx(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Ox(e,t,r,n){return r.length>0&&gk(e,r,n)?{segmentGroup:new $e(t,mk(n,new $e(r,e.children))),slicedSegments:[]}:r.length===0&&vk(e,r,n)?{segmentGroup:new $e(e.segments,pk(e,r,n,e.children)),slicedSegments:r}:{segmentGroup:new $e(e.segments,e.children),slicedSegments:r}}function pk(e,t,r,n){let i={};for(let s of r)if(_d(e,t,s)&&!n[Jn(s)]){let a=new $e([],{});i[Jn(s)]=a}return re(re({},n),i)}function mk(e,t){let r={};r[we]=t;for(let n of e)if(n.path===""&&Jn(n)!==we){let i=new $e([],{});r[Jn(n)]=i}return r}function gk(e,t,r){return r.some(n=>_d(e,t,n)&&Jn(n)!==we)}function vk(e,t,r){return r.some(n=>_d(e,t,n))}function _d(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function yk(e,t,r,n){return Jn(e)!==n&&(n===we||!_d(t,r,e))?!1:Tg(t,e,r).matched}function _k(e,t,r){return t.length===0&&!e.children[r]}var wg=class{};function wk(e,t,r,n,i,s,a="emptyOnly"){return new Cg(e,t,r,n,i,a,s).recognize()}var Ck=31,Cg=class{constructor(t,r,n,i,s,a,l){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new le(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ox(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(pe(r=>{let n=new eu([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),i=new cn(n,r),s=new md("",i),a=SL(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,we).pipe(Pr(n=>{if(n instanceof vd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof nu?this.noMatchError(n):n}))}inheritParamsAndData(t,r){let n=t.value,i=Dg(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(t,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,i,!0).pipe(pe(s=>s instanceof cn?[s]:[]))}processChildren(t,r,n){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return et(i).pipe(Rr(s=>{let a=n.children[s],l=$L(r,s);return this.processSegmentGroup(t,l,a,s)}),Nh((s,a)=>(s.push(...a),s)),Lr(null),Ah(),pt(s=>{if(s===null)return ls(n);let a=nb(s);return xk(a),he(a)}))}processSegment(t,r,n,i,s,a){return et(r).pipe(Rr(l=>this.processSegmentAgainstRoute(l._injector??t,r,l,n,i,s,a).pipe(Pr(d=>{if(d instanceof nu)return he(null);throw d}))),En(l=>!!l),Pr(l=>{if(eb(l))return _k(n,i,s)?he(new wg):ls(n);throw l}))}processSegmentAgainstRoute(t,r,n,i,s,a,l){return yk(n,i,s,a)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,s,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,n,s,a):ls(i):ls(i)}expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,a){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=Tg(r,i,s);if(!l)return ls(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ck&&(this.allowRedirects=!1));let m=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f);return this.applyRedirects.lineralizeSegments(i,m).pipe(pt(v=>this.processSegment(t,n,r,v.concat(p),a,!1)))}matchSegmentAgainstRoute(t,r,n,i,s){let a=fk(r,n,i,t,this.urlSerializer);return n.path==="**"&&(r.children={}),a.pipe(nn(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(nn(({routes:d})=>{let f=n._loadedInjector??t,{consumedSegments:p,remainingSegments:m,parameters:v}=l,y=new eu(p,v,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Dk(n),Jn(n),n.component??n._loadedComponent??null,n,Ek(n)),{segmentGroup:w,slicedSegments:C}=Ox(r,p,m,d);if(C.length===0&&w.hasChildren())return this.processChildren(f,d,w).pipe(pe(k=>k===null?null:new cn(y,k)));if(d.length===0&&C.length===0)return he(new cn(y,[]));let x=Jn(n)===s;return this.processSegment(f,d,w,C,x?we:s,!0).pipe(pe(k=>new cn(y,k instanceof cn?[k]:[])))}))):ls(r)))}getChildConfig(t,r,n){return r.children?he({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?he({routes:r._loadedRoutes,injector:r._loadedInjector}):uk(t,r,n,this.urlSerializer).pipe(pt(i=>i?this.configLoader.loadChildren(t,r).pipe(mt(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):dk(r))):he({routes:[],injector:t})}};function xk(e){e.sort((t,r)=>t.value.outlet===we?-1:r.value.outlet===we?1:t.value.outlet.localeCompare(r.value.outlet))}function bk(e){let t=e.value.routeConfig;return t&&t.path===""}function nb(e){let t=[],r=new Set;for(let n of e){if(!bk(n)){t.push(n);continue}let i=t.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):t.push(n)}for(let n of r){let i=nb(n.children);t.push(new cn(n.value,i))}return t.filter(n=>!r.has(n))}function Dk(e){return e.data||{}}function Ek(e){return e.resolve||{}}function Mk(e,t,r,n,i,s){return pt(a=>wk(e,t,r,n,a.extractedUrl,i,s).pipe(pe(({state:l,tree:d})=>qe(re({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function Ik(e,t){return pt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return he(r);let s=new Set(i.map(d=>d.route)),a=new Set;for(let d of s)if(!a.has(d))for(let f of rb(d))a.add(f);let l=0;return et(a).pipe(Rr(d=>s.has(d)?Sk(d,n,e,t):(d.data=Dg(d,d.parent,e).resolve,he(void 0))),mt(()=>l++),jo(1),pt(d=>l===a.size?he(r):en))})}function rb(e){let t=e.children.map(r=>rb(r)).flat();return[e,...t]}function Sk(e,t,r,n){let i=e.routeConfig,s=e._resolve;return i?.title!==void 0&&!Yx(i)&&(s[ru]=i.title),Tk(s,e,t,n).pipe(pe(a=>(e._resolvedData=a,e.data=Dg(e,e.parent,r).resolve,null)))}function Tk(e,t,r,n){let i=Xm(e);if(i.length===0)return he({});let s={};return et(i).pipe(pt(a=>Ak(e[a],t,r,n).pipe(En(),mt(l=>{s[a]=l}))),jo(1),Th(s),Pr(a=>eb(a)?en:Fo(a)))}function Ak(e,t,r,n){let i=iu(t)??n,s=vs(e,i),a=s.resolve?s.resolve(t,r):mr(i,()=>s(t,r));return Jr(a)}function Ym(e){return nn(t=>{let r=e(t);return r?et(r).pipe(pe(()=>t)):he(t)})}var ib=(()=>{let t=class t{buildTitle(n){let i,s=n.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===we);return i}getResolvedTitleForRoute(n){return n.data[ru]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>Q(Nk),providedIn:"root"});let e=t;return e})(),Nk=(()=>{let t=class t extends ib{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(_e(Mx))},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ag=new ce("",{providedIn:"root",factory:()=>({})}),Ng=new ce(""),Ok=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Q(Im)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return he(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Jr(n.loadComponent()).pipe(pe(ob),mt(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),kr(()=>{this.componentLoaders.delete(n)})),s=new ko(i,()=>new ht).pipe(Lo());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return he({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=Pk(i,this.compiler,n,this.onLoadEndListener).pipe(kr(()=>{this.childrenLoaders.delete(i)})),l=new ko(a,()=>new ht).pipe(Lo());return this.childrenLoaders.set(i,l),l}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Pk(e,t,r,n){return Jr(e.loadChildren()).pipe(pe(ob),pt(i=>i instanceof Da||Array.isArray(i)?he(i):et(t.compileModuleAsync(i))),pe(i=>{n&&n(e);let s,a,l=!1;return Array.isArray(i)?(a=i,l=!0):(s=i.create(r).injector,a=s.get(Ng,[],{optional:!0,self:!0}).flat()),{routes:a.map(Sg),injector:s}}))}function Rk(e){return e&&typeof e=="object"&&"default"in e}function ob(e){return Rk(e)?e.default:e}var Og=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>Q(Lk),providedIn:"root"});let e=t;return e})(),Lk=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),kk=new ce("");var Fk=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=Q(Ok),this.environmentInjector=Q(Gt),this.urlSerializer=Q(bg),this.rootContexts=Q(yd),this.location=Q(Ra),this.inputBindingEnabled=Q(Ig,{optional:!0})!==null,this.titleStrategy=Q(ib),this.options=Q(Ag,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Q(Og),this.createViewTransition=Q(kk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let n=s=>this.events.next(new sg(s)),i=s=>this.events.next(new ag(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(qe(re(re({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,s){return this.transitions=new bt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(a=>a.id!==0),pe(a=>qe(re({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),nn(a=>{let l=!1,d=!1;return he(a).pipe(nn(f=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",dn.SupersededByNewNavigation),en;this.currentTransition=a,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?qe(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=f.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!p&&m!=="reload"){let v="";return this.events.next(new Zi(f.id,this.urlSerializer.serialize(f.rawUrl),v,tg.IgnoredSameUrlNavigation)),f.resolve(null),en}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return he(f).pipe(nn(v=>{let y=this.transitions?.getValue();return this.events.next(new Ka(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),y!==this.transitions?.getValue()?en:Promise.resolve(v)}),Mk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(v=>{a.targetSnapshot=v.targetSnapshot,a.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=qe(re({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let y=new fd(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(y)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:v,extractedUrl:y,source:w,restoredState:C,extras:x}=f,k=new Ka(v,this.urlSerializer.serialize(y),w,C);this.events.next(k);let j=Wx(this.rootComponentType).snapshot;return this.currentTransition=a=qe(re({},f),{targetSnapshot:j,urlAfterRedirects:y,extras:qe(re({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,he(a)}else{let v="";return this.events.next(new Zi(f.id,this.urlSerializer.serialize(f.extractedUrl),v,tg.IgnoredByUrlHandlingStrategy)),f.resolve(null),en}}),mt(f=>{let p=new ng(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),pe(f=>(this.currentTransition=a=qe(re({},f),{guards:HL(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),a)),ek(this.environmentInjector,f=>this.events.next(f)),mt(f=>{if(a.guardsResult=f.guardsResult,ps(f.guardsResult))throw Xx(this.urlSerializer,f.guardsResult);let p=new rg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(p)}),tn(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",dn.GuardRejected),!1)),Ym(f=>{if(f.guards.canActivateChecks.length)return he(f).pipe(mt(p=>{let m=new ig(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),nn(p=>{let m=!1;return he(p).pipe(Ik(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(p,"",dn.NoDataFromResolver)}}))}),mt(p=>{let m=new og(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}))}),Ym(f=>{let p=m=>{let v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(mt(y=>{m.component=y}),pe(()=>{})));for(let y of m.children)v.push(...p(y));return v};return jl(p(f.targetSnapshot.root)).pipe(Lr(null),cr(1))}),Ym(()=>this.afterPreactivation()),nn(()=>{let{currentSnapshot:f,targetSnapshot:p}=a,m=this.createViewTransition?.(this.environmentInjector,f.root,p.root);return m?et(m).pipe(pe(()=>a)):he(a)}),pe(f=>{let p=kL(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=a=qe(re({},f),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),mt(()=>{this.events.next(new Qa)}),zL(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),cr(1),mt({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Ph(this.transitionAbortSubject.pipe(mt(f=>{throw f}))),kr(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",dn.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pr(f=>{if(d=!0,Jx(f))this.events.next(new Qr(a.id,this.urlSerializer.serialize(a.extractedUrl),f.message,f.cancellationCode)),jL(f)?this.events.next(new Ja(f.url)):a.resolve(!1);else{this.events.next(new Xa(a.id,this.urlSerializer.serialize(a.extractedUrl),f,a.targetSnapshot??void 0));try{a.resolve(n.errorHandler(f))}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return en}))}))}cancelNavigationTransition(n,i,s){let a=new Qr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(a),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Vk(e){return e!==Wa}var jk=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>Q(Bk),providedIn:"root"});let e=t;return e})(),xg=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},Bk=(()=>{let t=class t extends xg{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=es(t)))(s||t)}})(),t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sb=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:()=>Q(Uk),providedIn:"root"});let e=t;return e})(),Uk=(()=>{let t=class t extends sb{constructor(){super(...arguments),this.location=Q(Ra),this.urlSerializer=Q(bg),this.options=Q(Ag,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Q(Og),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Ka)this.stateMemento=this.createStateMemento();else if(n instanceof Zi)this.rawUrlTree=i.initialUrl;else if(n instanceof fd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else n instanceof Qa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Qr&&(n.code===dn.GuardRejected||n.code===dn.NoDataFromResolver)?this.restoreHistory(i):n instanceof Xa?this.restoreHistory(i,!0):n instanceof Wi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let a=this.browserPageId,l=re(re({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(s,"",l)}else{let a=re(re({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,a=this.currentPageId-s;a!==0?this.location.historyGo(a):this.currentUrlTree===n.finalUrl&&a===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=es(t)))(s||t)}})(),t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ga=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ga||{});function $k(e,t){e.events.pipe(tn(r=>r instanceof Wi||r instanceof Qr||r instanceof Xa||r instanceof Zi),pe(r=>r instanceof Wi||r instanceof Zi?Ga.COMPLETE:(r instanceof Qr?r.code===dn.Redirect||r.code===dn.SupersededByNewNavigation:!1)?Ga.REDIRECTING:Ga.FAILED),tn(r=>r!==Ga.REDIRECTING),cr(1)).subscribe(()=>{t()})}function zk(e){throw e}var Hk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ab=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Q(Hc),this.stateManager=Q(sb),this.options=Q(Ag,{optional:!0})||{},this.pendingTasks=Q(ji),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Q(Fk),this.urlSerializer=Q(bg),this.location=Q(Ra),this.urlHandlingStrategy=Q(Og),this._events=new ht,this.errorHandler=this.options.errorHandler||zk,this.navigated=!1,this.routeReuseStrategy=Q(jk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Q(Ng,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Q(Ig,{optional:!0}),this.eventsSubscription=new ft,this.isNgZoneEnabled=Q(tt)instanceof tt&&tt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(s!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof Qr&&i.code!==dn.Redirect&&i.code!==dn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Wi)this.navigated=!0;else if(i instanceof Ja){let l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Vk(s.source)};this.scheduleNavigation(l,Wa,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Wk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,s){let a={replaceUrl:!0},l=s?.navigationId?s:null;if(s){let f=re({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(a.state=f)}let d=this.parseUrl(n);this.scheduleNavigation(d,i,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:s,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:f}=i,p=f?this.currentUrlTree.fragment:l,m=null;switch(d){case"merge":m=re(re({},this.currentUrlTree.queryParams),a);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=a||null}m!==null&&(m=this.removeEmptyProps(m));let v;try{let y=s?s.snapshot:this.routerState.snapshot.root;v=zx(y)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),v=this.currentUrlTree.root}return Hx(v,n,m,p??null)}navigateByUrl(n,i={skipLocationChange:!1}){let s=ps(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,Wa,null,i)}navigate(n,i={skipLocationChange:!1}){return qk(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let s;if(i===!0?s=re({},Hk):i===!1?s=re({},Gk):s=i,ps(n))return Sx(this.currentUrlTree,n,s);let a=this.parseUrl(n);return Sx(this.currentUrlTree,a,s)}removeEmptyProps(n){return Object.entries(n).reduce((i,[s,a])=>(a!=null&&(i[s]=a),i),{})}scheduleNavigation(n,i,s,a,l){if(this.disposed)return Promise.resolve(!1);let d,f,p;l?(d=l.resolve,f=l.reject,p=l.promise):p=new Promise((v,y)=>{d=v,f=y});let m=this.pendingTasks.add();return $k(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:d,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(v=>Promise.reject(v))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function qk(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new le(4008,!1)}function Wk(e){return!(e instanceof Qa)&&!(e instanceof Ja)}var Zk=new ce("");function ub(e,...t){return Ur([{provide:Ng,multi:!0,useValue:e},[],{provide:ms,useFactory:Yk,deps:[ab]},{provide:is,multi:!0,useFactory:Kk},t.map(r=>r.\u0275providers)])}function Yk(e){return e.routerState.root}function Kk(){let e=Q(Hr);return t=>{let r=e.get(Wr);if(t!==r.components[0])return;let n=e.get(ab),i=e.get(Xk);e.get(Qk)===1&&n.initialNavigation(),e.get(Jk,null,Ie.Optional)?.setUpPreloading(),e.get(Zk,null,Ie.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Xk=new ce("",{factory:()=>new ht}),Qk=new ce("",{providedIn:"root",factory:()=>1});var Jk=new ce("");var gb=(()=>{let t=class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(i){return new(i||t)(fe(ts),fe(gr))},t.\u0275dir=Et({type:t});let e=t;return e})(),vb=(()=>{let t=class t extends gb{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=es(t)))(s||t)}})(),t.\u0275dir=Et({type:t,features:[yr]});let e=t;return e})(),Rg=new ce(""),eF={provide:Rg,useExisting:ki(()=>Lg),multi:!0},Lg=(()=>{let t=class t extends vb{writeValue(n){this.setProperty("checked",n)}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=es(t)))(s||t)}})(),t.\u0275dir=Et({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&We("change",function(l){return s.onChange(l.target.checked)})("blur",function(){return s.onTouched()})},features:[Pa([eF]),yr]});let e=t;return e})(),tF={provide:Rg,useExisting:ki(()=>ws),multi:!0};function nF(){let e=wr()?wr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var rF=new ce(""),ws=(()=>{let t=class t extends gb{constructor(n,i,s){super(n,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!nF())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(i){return new(i||t)(fe(ts),fe(gr),fe(rF,8))},t.\u0275dir=Et({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&We("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[Pa([tF]),yr]});let e=t;return e})();var yb=new ce(""),_b=new ce("");function wb(e){return e!=null}function Cb(e){return Ui(e)?et(e):e}function xb(e){let t={};return e.forEach(r=>{t=r!=null?re(re({},t),r):t}),Object.keys(t).length===0?null:t}function bb(e,t){return t.map(r=>r(e))}function iF(e){return!e.validate}function Db(e){return e.map(t=>iF(t)?t:r=>t.validate(r))}function oF(e){if(!e)return null;let t=e.filter(wb);return t.length==0?null:function(r){return xb(bb(r,t))}}function kg(e){return e!=null?oF(Db(e)):null}function sF(e){if(!e)return null;let t=e.filter(wb);return t.length==0?null:function(r){let n=bb(r,t).map(Cb);return Sh(n).pipe(pe(xb))}}function Fg(e){return e!=null?sF(Db(e)):null}function lb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function aF(e){return e._rawValidators}function uF(e){return e._rawAsyncValidators}function Pg(e){return e?Array.isArray(e)?e:[e]:[]}function Cd(e,t){return Array.isArray(e)?e.includes(t):e===t}function cb(e,t){let r=Pg(t);return Pg(e).forEach(i=>{Cd(r,i)||r.push(i)}),r}function db(e,t){return Pg(t).filter(r=>!Cd(e,r))}var xd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},_s=class extends xd{get formDirective(){return null}get path(){return null}},lu=class extends xd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bd=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},lF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},P8=qe(re({},lF),{"[class.ng-submitted]":"isSubmitted"}),Md=(()=>{let t=class t extends bd{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(fe(lu,2))},t.\u0275dir=Et({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&zc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[yr]});let e=t;return e})(),Eb=(()=>{let t=class t extends bd{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(fe(_s,10))},t.\u0275dir=Et({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&zc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[yr]});let e=t;return e})();var su="VALID",wd="INVALID",ys="PENDING",au="DISABLED";function Mb(e){return(Id(e)?e.validators:e)||null}function cF(e){return Array.isArray(e)?kg(e):e||null}function Ib(e,t){return(Id(t)?t.asyncValidators:e)||null}function dF(e){return Array.isArray(e)?Fg(e):e||null}function Id(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function fF(e,t,r){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new le(1e3,"");if(!n[r])throw new le(1001,"")}function hF(e,t,r){e._forEachChild((n,i)=>{if(r[i]===void 0)throw new le(1002,"")})}var Dd=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===su}get invalid(){return this.status===wd}get pending(){return this.status==ys}get disabled(){return this.status===au}get enabled(){return this.status!==au}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(cb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(db(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(db(t,this._rawAsyncValidators))}hasValidator(t){return Cd(this._rawValidators,t)}hasAsyncValidator(t){return Cd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ys,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=au,this.errors=null,this._forEachChild(n=>{n.disable(qe(re({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qe(re({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=su,this._forEachChild(n=>{n.enable(qe(re({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(qe(re({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===su||this.status===ys)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?au:su}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ys,this._hasOwnPendingAsyncValidator=!0;let r=Cb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(t,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?au:this.errors?wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ys)?ys:this._anyControlsHaveStatus(wd)?wd:su}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Id(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=cF(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=dF(this._rawAsyncValidators)}},Ed=class extends Dd{constructor(t,r,n){super(Mb(r),Ib(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){hF(this,!0,t),Object.keys(t).forEach(n=>{fF(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){t!=null&&(Object.keys(t).forEach(n=>{let i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((i,s)=>{n=r(n,i,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Vg=new ce("CallSetDisabledState",{providedIn:"root",factory:()=>jg}),jg="always";function pF(e,t){return[...t.path,e]}function Sb(e,t,r=jg){Tb(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),gF(e,t),yF(e,t),vF(e,t),mF(e,t)}function fb(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function mF(e,t){if(t.valueAccessor.setDisabledState){let r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function Tb(e,t){let r=aF(e);t.validator!==null?e.setValidators(lb(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let n=uF(e);t.asyncValidator!==null?e.setAsyncValidators(lb(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let i=()=>e.updateValueAndValidity();fb(t._rawValidators,i),fb(t._rawAsyncValidators,i)}function gF(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ab(e,t)})}function vF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ab(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Ab(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function yF(e,t){let r=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function _F(e,t){e==null,Tb(e,t)}function wF(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function CF(e){return Object.getPrototypeOf(e.constructor)===vb}function xF(e,t){e._syncPendingControls(),t.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function bF(e,t){if(!t)return null;Array.isArray(t);let r,n,i;return t.forEach(s=>{s.constructor===ws?r=s:CF(s)?n=s:i=s}),i||n||r||null}var DF={provide:_s,useExisting:ki(()=>Bg)},uu=Promise.resolve(),Bg=(()=>{let t=class t extends _s{constructor(n,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Ed({},kg(n),Fg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){uu.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Sb(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){uu.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){uu.then(()=>{let i=this._findContainer(n.path),s=new Ed({});_F(s,n),i.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){uu.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){uu.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,xF(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(i){return new(i||t)(fe(yb,10),fe(_b,10),fe(Vg,8))},t.\u0275dir=Et({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&We("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:[Ze.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pa([DF]),yr]});let e=t;return e})();function hb(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function pb(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var EF=class extends Dd{constructor(t=null,r,n){super(Mb(r),Ib(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Id(r)&&(r.nonNullable||r.initialValueIsDefault)&&(pb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){pb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var MF={provide:lu,useExisting:ki(()=>cu)},mb=Promise.resolve(),cu=(()=>{let t=class t extends lu{constructor(n,i,s,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new EF,this._registered=!1,this.name="",this.update=new Pe,this._parent=n,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=bF(this,a)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wF(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Sb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){mb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,s=i!==0&&qc(i);mb.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?pF(n,this._parent):[n]}};t.\u0275fac=function(i){return new(i||t)(fe(_s,9),fe(yb,10),fe(_b,10),fe(Rg,10),fe($i,8),fe(Vg,8))},t.\u0275dir=Et({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"],options:[Ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pa([MF]),yr,$r]});let e=t;return e})(),Nb=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Et({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var IF=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=On({type:t}),t.\u0275inj=Nn({});let e=t;return e})();var Sd=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Vg,useValue:n.callSetDisabledState??jg}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=On({type:t}),t.\u0275inj=Nn({imports:[IF]});let e=t;return e})();function Yi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Td(e){let t,r,n;e.length!==2?(t=Yi,r=(l,d)=>Yi(e(l),d),n=(l,d)=>e(l)-d):(t=e===Yi||e===Cs?e:SF,r=e,n=e);function i(l,d,f=0,p=l.length){if(f<p){if(t(d,d)!==0)return p;do{let m=f+p>>>1;r(l[m],d)<0?f=m+1:p=m}while(f<p)}return f}function s(l,d,f=0,p=l.length){if(f<p){if(t(d,d)!==0)return p;do{let m=f+p>>>1;r(l[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function a(l,d,f=0,p=l.length){let m=i(l,d,f,p-1);return m>f&&n(l[m-1],d)>-n(l[m],d)?m-1:m}return{left:i,center:a,right:s}}function SF(){return 0}function Ug(e){return e===null?NaN:+e}var Pb=Td(Yi),Rb=Pb.right,TF=Pb.left,AF=Td(Ug).center,$g=Rb;var xs=class extends Map{constructor(t,r=PF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(Lb(this,t))}has(t){return super.has(Lb(this,t))}set(t,r){return super.set(NF(this,t),r)}delete(t){return super.delete(OF(this,t))}};function Lb({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function NF({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function OF({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function PF(e){return e!==null&&typeof e=="object"?e.valueOf():e}var RF=Math.sqrt(50),LF=Math.sqrt(10),kF=Math.sqrt(2);function Ad(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=RF?10:s>=LF?5:s>=kF?2:1,l,d,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(e*f),d=Math.round(t*f),l/f<e&&++l,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*a,l=Math.round(e/f),d=Math.round(t/f),l*f<e&&++l,d*f>t&&--d),d<l&&.5<=r&&r<2?Ad(e,t,r*2):[l,d,f]}function Nd(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,s,a]=n?Ad(t,e,r):Ad(e,t,r);if(!(s>=i))return[];let l=s-i+1,d=new Array(l);if(n)if(a<0)for(let f=0;f<l;++f)d[f]=(s-f)/-a;else for(let f=0;f<l;++f)d[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)d[f]=(i+f)/-a;else for(let f=0;f<l;++f)d[f]=(i+f)*a;return d}function du(e,t,r){return t=+t,e=+e,r=+r,Ad(e,t,r)[2]}function zg(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?du(t,e,r):du(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Od(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Pd(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function kb(e){return e}var Hg=1,Gg=2,qg=3,fu=4,Fb=1e-6;function FF(e){return"translate("+e+",0)"}function VF(e){return"translate(0,"+e+")"}function jF(e){return t=>+e(t)}function BF(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function UF(){return!this.__axis}function Vb(e,t){var r=[],n=null,i=null,s=6,a=6,l=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===Hg||e===fu?-1:1,p=e===fu||e===Gg?"x":"y",m=e===Hg||e===qg?FF:VF;function v(y){var w=n??(t.ticks?t.ticks.apply(t,r):t.domain()),C=i??(t.tickFormat?t.tickFormat.apply(t,r):kb),x=Math.max(s,0)+l,k=t.range(),j=+k[0]+d,b=+k[k.length-1]+d,P=(t.bandwidth?BF:jF)(t.copy(),d),O=y.selection?y.selection():y,F=O.selectAll(".domain").data([null]),H=O.selectAll(".tick").data(w,t).order(),W=H.exit(),M=H.enter().append("g").attr("class","tick"),R=H.select("line"),D=H.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(M),R=R.merge(M.append("line").attr("stroke","currentColor").attr(p+"2",f*s)),D=D.merge(M.append("text").attr("fill","currentColor").attr(p,f*x).attr("dy",e===Hg?"0em":e===qg?"0.71em":"0.32em")),y!==O&&(F=F.transition(y),H=H.transition(y),R=R.transition(y),D=D.transition(y),W=W.transition(y).attr("opacity",Fb).attr("transform",function(A){return isFinite(A=P(A))?m(A+d):this.getAttribute("transform")}),M.attr("opacity",Fb).attr("transform",function(A){var S=this.parentNode.__axis;return m((S&&isFinite(S=S(A))?S:P(A))+d)})),W.remove(),F.attr("d",e===fu||e===Gg?a?"M"+f*a+","+j+"H"+d+"V"+b+"H"+f*a:"M"+d+","+j+"V"+b:a?"M"+j+","+f*a+"V"+d+"H"+b+"V"+f*a:"M"+j+","+d+"H"+b),H.attr("opacity",1).attr("transform",function(A){return m(P(A)+d)}),R.attr(p+"2",f*s),D.attr(p,f*x).text(C),O.filter(UF).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Gg?"start":e===fu?"end":"middle"),O.each(function(){this.__axis=P})}return v.scale=function(y){return arguments.length?(t=y,v):t},v.ticks=function(){return r=Array.from(arguments),v},v.tickArguments=function(y){return arguments.length?(r=y==null?[]:Array.from(y),v):r.slice()},v.tickValues=function(y){return arguments.length?(n=y==null?null:Array.from(y),v):n&&n.slice()},v.tickFormat=function(y){return arguments.length?(i=y,v):i},v.tickSize=function(y){return arguments.length?(s=a=+y,v):s},v.tickSizeInner=function(y){return arguments.length?(s=+y,v):s},v.tickSizeOuter=function(y){return arguments.length?(a=+y,v):a},v.tickPadding=function(y){return arguments.length?(l=+y,v):l},v.offset=function(y){return arguments.length?(d=+y,v):d},v}function Wg(e){return Vb(qg,e)}function Zg(e){return Vb(fu,e)}var $F={value:()=>{}};function Bb(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Rd(r)}function Rd(e){this._=e}function zF(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Rd.prototype=Bb.prototype={constructor:Rd,on:function(e,t){var r=this._,n=zF(e+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(e=n[s]).type)&&(i=HF(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=n[s]).type)r[i]=jb(r[i],e.name,t);else if(t==null)for(i in r)r[i]=jb(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Rd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function HF(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function jb(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=$F,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Yg=Bb;var Ld="http://www.w3.org/1999/xhtml",Kg={svg:"http://www.w3.org/2000/svg",xhtml:Ld,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cr(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Kg.hasOwnProperty(t)?{space:Kg[t],local:e}:e}function GF(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Ld&&t.documentElement.namespaceURI===Ld?t.createElement(e):t.createElementNS(r,e)}}function qF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function kd(e){var t=Cr(e);return(t.local?qF:GF)(t)}function WF(){}function Ki(e){return e==null?WF:function(){return this.querySelector(e)}}function Ub(e){typeof e!="function"&&(e=Ki(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,l=n[i]=new Array(a),d,f,p=0;p<a;++p)(d=s[p])&&(f=e.call(d,d.__data__,p,s))&&("__data__"in d&&(f.__data__=d.__data__),l[p]=f);return new Xe(n,this._parents)}function hu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ZF(){return[]}function pu(e){return e==null?ZF:function(){return this.querySelectorAll(e)}}function YF(e){return function(){return hu(e.apply(this,arguments))}}function $b(e){typeof e=="function"?e=YF(e):e=pu(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var a=t[s],l=a.length,d,f=0;f<l;++f)(d=a[f])&&(n.push(e.call(d,d.__data__,f,a)),i.push(d));return new Xe(n,i)}function mu(e){return function(){return this.matches(e)}}function Fd(e){return function(t){return t.matches(e)}}var KF=Array.prototype.find;function XF(e){return function(){return KF.call(this.children,e)}}function QF(){return this.firstElementChild}function zb(e){return this.select(e==null?QF:XF(typeof e=="function"?e:Fd(e)))}var JF=Array.prototype.filter;function e2(){return Array.from(this.children)}function t2(e){return function(){return JF.call(this.children,e)}}function Hb(e){return this.selectAll(e==null?e2:t2(typeof e=="function"?e:Fd(e)))}function Gb(e){typeof e!="function"&&(e=mu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,l=n[i]=[],d,f=0;f<a;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&l.push(d);return new Xe(n,this._parents)}function Vd(e){return new Array(e.length)}function qb(){return new Xe(this._enter||this._groups.map(Vd),this._parents)}function gu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gu.prototype={constructor:gu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Wb(e){return function(){return e}}function n2(e,t,r,n,i,s){for(var a=0,l,d=t.length,f=s.length;a<f;++a)(l=t[a])?(l.__data__=s[a],n[a]=l):r[a]=new gu(e,s[a]);for(;a<d;++a)(l=t[a])&&(i[a]=l)}function r2(e,t,r,n,i,s,a){var l,d,f=new Map,p=t.length,m=s.length,v=new Array(p),y;for(l=0;l<p;++l)(d=t[l])&&(v[l]=y=a.call(d,d.__data__,l,t)+"",f.has(y)?i[l]=d:f.set(y,d));for(l=0;l<m;++l)y=a.call(e,s[l],l,s)+"",(d=f.get(y))?(n[l]=d,d.__data__=s[l],f.delete(y)):r[l]=new gu(e,s[l]);for(l=0;l<p;++l)(d=t[l])&&f.get(v[l])===d&&(i[l]=d)}function i2(e){return e.__data__}function Zb(e,t){if(!arguments.length)return Array.from(this,i2);var r=t?r2:n2,n=this._parents,i=this._groups;typeof e!="function"&&(e=Wb(e));for(var s=i.length,a=new Array(s),l=new Array(s),d=new Array(s),f=0;f<s;++f){var p=n[f],m=i[f],v=m.length,y=o2(e.call(p,p&&p.__data__,f,n)),w=y.length,C=l[f]=new Array(w),x=a[f]=new Array(w),k=d[f]=new Array(v);r(p,m,C,x,k,y,t);for(var j=0,b=0,P,O;j<w;++j)if(P=C[j]){for(j>=b&&(b=j+1);!(O=x[b])&&++b<w;);P._next=O||null}}return a=new Xe(a,n),a._enter=l,a._exit=d,a}function o2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yb(){return new Xe(this._exit||this._groups.map(Vd),this._parents)}function Kb(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function Xb(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,a=Math.min(i,s),l=new Array(i),d=0;d<a;++d)for(var f=r[d],p=n[d],m=f.length,v=l[d]=new Array(m),y,w=0;w<m;++w)(y=f[w]||p[w])&&(v[w]=y);for(;d<i;++d)l[d]=r[d];return new Xe(l,this._parents)}function Qb(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Jb(e){e||(e=s2);function t(m,v){return m&&v?e(m.__data__,v.__data__):!m-!v}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],l=a.length,d=i[s]=new Array(l),f,p=0;p<l;++p)(f=a[p])&&(d[p]=f);d.sort(t)}return new Xe(i,this._parents).order()}function s2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function eD(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tD(){return Array.from(this)}function nD(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function rD(){let e=0;for(let t of this)++e;return e}function iD(){return!this.node()}function oD(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,a=i.length,l;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}function a2(e){return function(){this.removeAttribute(e)}}function u2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function l2(e,t){return function(){this.setAttribute(e,t)}}function c2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function d2(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function f2(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function sD(e,t){var r=Cr(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?u2:a2:typeof t=="function"?r.local?f2:d2:r.local?c2:l2)(r,t))}function jd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function h2(e){return function(){this.style.removeProperty(e)}}function p2(e,t,r){return function(){this.style.setProperty(e,t,r)}}function m2(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function aD(e,t,r){return arguments.length>1?this.each((t==null?h2:typeof t=="function"?m2:p2)(e,t,r??"")):ei(this.node(),e)}function ei(e,t){return e.style.getPropertyValue(t)||jd(e).getComputedStyle(e,null).getPropertyValue(t)}function g2(e){return function(){delete this[e]}}function v2(e,t){return function(){this[e]=t}}function y2(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function uD(e,t){return arguments.length>1?this.each((t==null?g2:typeof t=="function"?y2:v2)(e,t)):this.node()[e]}function lD(e){return e.trim().split(/^|\s+/)}function Xg(e){return e.classList||new cD(e)}function cD(e){this._node=e,this._names=lD(e.getAttribute("class")||"")}cD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function dD(e,t){for(var r=Xg(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function fD(e,t){for(var r=Xg(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function _2(e){return function(){dD(this,e)}}function w2(e){return function(){fD(this,e)}}function C2(e,t){return function(){(t.apply(this,arguments)?dD:fD)(this,e)}}function hD(e,t){var r=lD(e+"");if(arguments.length<2){for(var n=Xg(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?C2:t?_2:w2)(r,t))}function x2(){this.textContent=""}function b2(e){return function(){this.textContent=e}}function D2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pD(e){return arguments.length?this.each(e==null?x2:(typeof e=="function"?D2:b2)(e)):this.node().textContent}function E2(){this.innerHTML=""}function M2(e){return function(){this.innerHTML=e}}function I2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function mD(e){return arguments.length?this.each(e==null?E2:(typeof e=="function"?I2:M2)(e)):this.node().innerHTML}function S2(){this.nextSibling&&this.parentNode.appendChild(this)}function gD(){return this.each(S2)}function T2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vD(){return this.each(T2)}function yD(e){var t=typeof e=="function"?e:kd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function A2(){return null}function _D(e,t){var r=typeof e=="function"?e:kd(e),n=t==null?A2:typeof t=="function"?t:Ki(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function N2(){var e=this.parentNode;e&&e.removeChild(this)}function wD(){return this.each(N2)}function O2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function P2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CD(e){return this.select(e?P2:O2)}function xD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function R2(e){return function(t){e.call(this,t,this.__data__)}}function L2(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function k2(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function F2(e,t,r){return function(){var n=this.__on,i,s=R2(t);if(n){for(var a=0,l=n.length;a<l;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function bD(e,t,r){var n=L2(e+""),i,s=n.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,f=l.length,p;d<f;++d)for(i=0,p=l[d];i<s;++i)if((a=n[i]).type===p.type&&a.name===p.name)return p.value}return}for(l=t?F2:k2,i=0;i<s;++i)this.each(l(n[i],t,r));return this}function DD(e,t,r){var n=jd(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function V2(e,t){return function(){return DD(this,e,t)}}function j2(e,t){return function(){return DD(this,e,t.apply(this,arguments))}}function ED(e,t){return this.each((typeof t=="function"?j2:V2)(e,t))}function*MD(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var vu=[null];function Xe(e,t){this._groups=e,this._parents=t}function ID(){return new Xe([[document.documentElement]],vu)}function B2(){return this}Xe.prototype=ID.prototype={constructor:Xe,select:Ub,selectAll:$b,selectChild:zb,selectChildren:Hb,filter:Gb,data:Zb,enter:qb,exit:Yb,join:Kb,merge:Xb,selection:B2,order:Qb,sort:Jb,call:eD,nodes:tD,node:nD,size:rD,empty:iD,each:oD,attr:sD,style:aD,property:uD,classed:hD,text:pD,html:mD,raise:gD,lower:vD,append:yD,insert:_D,remove:wD,clone:CD,datum:xD,on:bD,dispatch:ED,[Symbol.iterator]:MD};var xr=ID;function ti(e){return typeof e=="string"?new Xe([[document.querySelector(e)]],[document.documentElement]):new Xe([[e]],vu)}function Bd(e){return typeof e=="string"?new Xe([document.querySelectorAll(e)],[document.documentElement]):new Xe([hu(e)],vu)}function Ud(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qg(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wu(){}var yu=.7,Hd=1/yu,bs="\\s*([+-]?\\d+)\\s*",_u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U2=/^#([0-9a-f]{3,8})$/,$2=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),z2=new RegExp(`^rgb\\(${er},${er},${er}\\)$`),H2=new RegExp(`^rgba\\(${bs},${bs},${bs},${_u}\\)$`),G2=new RegExp(`^rgba\\(${er},${er},${er},${_u}\\)$`),q2=new RegExp(`^hsl\\(${_u},${er},${er}\\)$`),W2=new RegExp(`^hsla\\(${_u},${er},${er},${_u}\\)$`),SD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ud(wu,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TD,formatHex:TD,formatHex8:Z2,formatHsl:Y2,formatRgb:AD,toString:AD});function TD(){return this.rgb().formatHex()}function Z2(){return this.rgb().formatHex8()}function Y2(){return kD(this).formatHsl()}function AD(){return this.rgb().formatRgb()}function Fn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=U2.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ND(t):r===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$d(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$d(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$2.exec(e))?new Wt(t[1],t[2],t[3],1):(t=z2.exec(e))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H2.exec(e))?$d(t[1],t[2],t[3],t[4]):(t=G2.exec(e))?$d(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q2.exec(e))?RD(t[1],t[2]/100,t[3]/100,1):(t=W2.exec(e))?RD(t[1],t[2]/100,t[3]/100,t[4]):SD.hasOwnProperty(e)?ND(SD[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function ND(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function $d(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wt(e,t,r,n)}function K2(e){return e instanceof wu||(e=Fn(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function ni(e,t,r,n){return arguments.length===1?K2(e):new Wt(e,t,r,n??1)}function Wt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ud(Wt,ni,Qg(wu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yu:Math.pow(yu,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(Qi(this.r),Qi(this.g),Qi(this.b),Gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OD,formatHex:OD,formatHex8:X2,formatRgb:PD,toString:PD}));function OD(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function X2(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function PD(){let e=Gd(this.opacity);return`${e===1?"rgb(":"rgba("}${Qi(this.r)}, ${Qi(this.g)}, ${Qi(this.b)}${e===1?")":`, ${e})`}`}function Gd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xi(e){return e=Qi(e),(e<16?"0":"")+e.toString(16)}function RD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,r,n)}function kD(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof wu||(e=Fn(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,d=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=d<.5?s+i:2-s-i,a*=60):l=d>0&&d<1?0:a,new kn(a,l,d,e.opacity)}function FD(e,t,r,n){return arguments.length===1?kD(e):new kn(e,t,r,n??1)}function kn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ud(kn,FD,Qg(wu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yu:Math.pow(yu,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Wt(Jg(e>=240?e-240:e+120,i,n),Jg(e,i,n),Jg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new kn(LD(this.h),zd(this.s),zd(this.l),Gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Gd(this.opacity);return`${e===1?"hsl(":"hsla("}${LD(this.h)}, ${zd(this.s)*100}%, ${zd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LD(e){return e=(e||0)%360,e<0?e+360:e}function zd(e){return Math.max(0,Math.min(1,e||0))}function Jg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function ev(e,t,r,n,i){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*r+(1+3*e+3*s-3*a)*n+a*i)/6}function VD(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],a=n>0?e[n-1]:2*i-s,l=n<t-1?e[n+2]:2*s-i;return ev((r-n/t)*t,a,i,s,l)}}function jD(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],a=e[(n+1)%t],l=e[(n+2)%t];return ev((r-n/t)*t,i,s,a,l)}}var Cu=e=>()=>e;function Q2(e,t){return function(r){return e+r*t}}function J2(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function BD(e){return(e=+e)==1?qd:function(t,r){return r-t?J2(t,r,e):Cu(isNaN(t)?r:t)}}function qd(e,t){var r=t-e;return r?Q2(e,r):Cu(isNaN(e)?t:e)}var Ji=function e(t){var r=BD(t);function n(i,s){var a=r((i=ni(i)).r,(s=ni(s)).r),l=r(i.g,s.g),d=r(i.b,s.b),f=qd(i.opacity,s.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=e,n}(1);function UD(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),a,l;for(a=0;a<r;++a)l=ni(t[a]),n[a]=l.r||0,i[a]=l.g||0,s[a]=l.b||0;return n=e(n),i=e(i),s=e(s),l.opacity=1,function(d){return l.r=n(d),l.g=i(d),l.b=s(d),l+""}}}var eV=UD(VD),tV=UD(jD);function $D(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function zD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function HD(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=eo(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function GD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function It(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qD(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=eo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tv=new RegExp(nv.source,"g");function nV(e){return function(){return e}}function rV(e){return function(t){return e(t)+""}}function xu(e,t){var r=nv.lastIndex=tv.lastIndex=0,n,i,s,a=-1,l=[],d=[];for(e=e+"",t=t+"";(n=nv.exec(e))&&(i=tv.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,d.push({i:a,x:It(n,i)})),r=tv.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?d[0]?rV(d[0].x):nV(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)l[(m=d[p]).i]=m.x(f);return l.join("")})}function eo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Cu(t):(r==="number"?It:r==="string"?(n=Fn(t))?(t=n,Ji):xu:t instanceof Fn?Ji:t instanceof Date?GD:zD(t)?$D:Array.isArray(t)?HD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qD:It)(e,t)}function rv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var WD=180/Math.PI,Wd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iv(e,t,r,n,i,s){var a,l,d;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(d=e*r+t*n)&&(r-=e*d,n-=t*d),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,d/=l),e*n<t*r&&(e=-e,t=-t,d=-d,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*WD,skewX:Math.atan(d)*WD,scaleX:a,scaleY:l}}var Zd;function ZD(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wd:iv(t.a,t.b,t.c,t.d,t.e,t.f)}function YD(e){return e==null?Wd:(Zd||(Zd=document.createElementNS("http://www.w3.org/2000/svg","g")),Zd.setAttribute("transform",e),(e=Zd.transform.baseVal.consolidate())?(e=e.matrix,iv(e.a,e.b,e.c,e.d,e.e,e.f)):Wd)}function KD(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,v,y,w){if(f!==m||p!==v){var C=y.push("translate(",null,t,null,r);w.push({i:C-4,x:It(f,m)},{i:C-2,x:It(p,v)})}else(m||v)&&y.push("translate("+m+t+v+r)}function a(f,p,m,v){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),v.push({i:m.push(i(m)+"rotate(",null,n)-2,x:It(f,p)})):p&&m.push(i(m)+"rotate("+p+n)}function l(f,p,m,v){f!==p?v.push({i:m.push(i(m)+"skewX(",null,n)-2,x:It(f,p)}):p&&m.push(i(m)+"skewX("+p+n)}function d(f,p,m,v,y,w){if(f!==m||p!==v){var C=y.push(i(y)+"scale(",null,",",null,")");w.push({i:C-4,x:It(f,m)},{i:C-2,x:It(p,v)})}else(m!==1||v!==1)&&y.push(i(y)+"scale("+m+","+v+")")}return function(f,p){var m=[],v=[];return f=e(f),p=e(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,v),a(f.rotate,p.rotate,m,v),l(f.skewX,p.skewX,m,v),d(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,v),f=p=null,function(y){for(var w=-1,C=v.length,x;++w<C;)m[(x=v[w]).i]=x.x(y);return m.join("")}}}var ov=KD(ZD,"px, ","px)","deg)"),sv=KD(YD,", ",")",")");var Ds=0,Du=0,bu=0,QD=1e3,Yd,Eu,Kd=0,to=0,Xd=0,Mu=typeof performance=="object"&&performance.now?performance:Date,JD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Su(){return to||(JD(iV),to=Mu.now()+Xd)}function iV(){to=0}function Iu(){this._call=this._time=this._next=null}Iu.prototype=Qd.prototype={constructor:Iu,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Su():+r)+(t==null?0:+t),!this._next&&Eu!==this&&(Eu?Eu._next=this:Yd=this,Eu=this),this._call=e,this._time=r,av()},stop:function(){this._call&&(this._call=null,this._time=1/0,av())}};function Qd(e,t,r){var n=new Iu;return n.restart(e,t,r),n}function eE(){Su(),++Ds;for(var e=Yd,t;e;)(t=to-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function XD(){to=(Kd=Mu.now())+Xd,Ds=Du=0;try{eE()}finally{Ds=0,sV(),to=0}}function oV(){var e=Mu.now(),t=e-Kd;t>QD&&(Xd-=t,Kd=e)}function sV(){for(var e,t=Yd,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Yd=r);Eu=e,av(n)}function av(e){if(!Ds){Du&&(Du=clearTimeout(Du));var t=e-to;t>24?(e<1/0&&(Du=setTimeout(XD,e-Mu.now()-Xd)),bu&&(bu=clearInterval(bu))):(bu||(Kd=Mu.now(),bu=setInterval(oV,QD)),Ds=1,JD(XD))}}function Jd(e,t,r){var n=new Iu;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var aV=Yg("start","end","cancel","interrupt"),uV=[],rE=0,tE=1,tf=2,ef=3,nE=4,nf=5,Tu=6;function ri(e,t,r,n,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;lV(e,r,{name:t,index:n,group:i,on:aV,tween:uV,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rE})}function Au(e,t){var r=gt(e,t);if(r.state>rE)throw new Error("too late; already scheduled");return r}function St(e,t){var r=gt(e,t);if(r.state>ef)throw new Error("too late; already running");return r}function gt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function lV(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Qd(s,0,r.time);function s(f){r.state=tE,r.timer.restart(a,r.delay,r.time),r.delay<=f&&a(f-r.delay)}function a(f){var p,m,v,y;if(r.state!==tE)return d();for(p in n)if(y=n[p],y.name===r.name){if(y.state===ef)return Jd(a);y.state===nE?(y.state=Tu,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[p]):+p<t&&(y.state=Tu,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[p])}if(Jd(function(){r.state===ef&&(r.state=nE,r.timer.restart(l,r.delay,r.time),l(f))}),r.state=tf,r.on.call("start",e,e.__data__,r.index,r.group),r.state===tf){for(r.state=ef,i=new Array(v=r.tween.length),p=0,m=-1;p<v;++p)(y=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(i[++m]=y);i.length=m+1}}function l(f){for(var p=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(d),r.state=nf,1),m=-1,v=i.length;++m<v;)i[m].call(e,p);r.state===nf&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Tu,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}}function rf(e,t){var r=e.__transition,n,i,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}i=n.state>tf&&n.state<nf,n.state=Tu,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function iE(e){return this.each(function(){rf(this,e)})}function cV(e,t){var r,n;return function(){var i=St(this,e),s=i.tween;if(s!==r){n=r=s;for(var a=0,l=n.length;a<l;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function dV(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=St(this,e),a=s.tween;if(a!==n){i=(n=a).slice();for(var l={name:t,value:r},d=0,f=i.length;d<f;++d)if(i[d].name===t){i[d]=l;break}d===f&&i.push(l)}s.tween=i}}function oE(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=gt(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?cV:dV)(r,e,t))}function Es(e,t,r){var n=e._id;return e.each(function(){var i=St(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return gt(i,n).value[t]}}function of(e,t){var r;return(typeof t=="number"?It:t instanceof Fn?Ji:(r=Fn(t))?(t=r,Ji):xu)(e,t)}function fV(e){return function(){this.removeAttribute(e)}}function hV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pV(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===n?s:s=t(n=a,r)}}function mV(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?s:s=t(n=a,r)}}function gV(e,t,r){var n,i,s;return function(){var a,l=r(this),d;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),d=l+"",a===d?null:a===n&&d===i?s:(i=d,s=t(n=a,l)))}}function vV(e,t,r){var n,i,s;return function(){var a,l=r(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),d=l+"",a===d?null:a===n&&d===i?s:(i=d,s=t(n=a,l)))}}function sE(e,t){var r=Cr(e),n=r==="transform"?sv:of;return this.attrTween(e,typeof t=="function"?(r.local?vV:gV)(r,n,Es(this,"attr."+e,t)):t==null?(r.local?hV:fV)(r):(r.local?mV:pV)(r,n,t))}function yV(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function _V(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function wV(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&_V(e,s)),r}return i._value=t,i}function CV(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&yV(e,s)),r}return i._value=t,i}function aE(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Cr(e);return this.tween(r,(n.local?wV:CV)(n,t))}function xV(e,t){return function(){Au(this,e).delay=+t.apply(this,arguments)}}function bV(e,t){return t=+t,function(){Au(this,e).delay=t}}function uE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xV:bV)(t,e)):gt(this.node(),t).delay}function DV(e,t){return function(){St(this,e).duration=+t.apply(this,arguments)}}function EV(e,t){return t=+t,function(){St(this,e).duration=t}}function lE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DV:EV)(t,e)):gt(this.node(),t).duration}function MV(e,t){if(typeof t!="function")throw new Error;return function(){St(this,e).ease=t}}function cE(e){var t=this._id;return arguments.length?this.each(MV(t,e)):gt(this.node(),t).ease}function IV(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;St(this,e).ease=r}}function dE(e){if(typeof e!="function")throw new Error;return this.each(IV(this._id,e))}function fE(e){typeof e!="function"&&(e=mu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,l=n[i]=[],d,f=0;f<a;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&l.push(d);return new jt(n,this._parents,this._name,this._id)}function hE(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),a=new Array(n),l=0;l<s;++l)for(var d=t[l],f=r[l],p=d.length,m=a[l]=new Array(p),v,y=0;y<p;++y)(v=d[y]||f[y])&&(m[y]=v);for(;l<n;++l)a[l]=t[l];return new jt(a,this._parents,this._name,this._id)}function SV(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function TV(e,t,r){var n,i,s=SV(t)?Au:St;return function(){var a=s(this,e),l=a.on;l!==n&&(i=(n=l).copy()).on(t,r),a.on=i}}function pE(e,t){var r=this._id;return arguments.length<2?gt(this.node(),r).on.on(e):this.each(TV(r,e,t))}function AV(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function mE(){return this.on("end.remove",AV(this._id))}function gE(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ki(e));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var l=n[a],d=l.length,f=s[a]=new Array(d),p,m,v=0;v<d;++v)(p=l[v])&&(m=e.call(p,p.__data__,v,l))&&("__data__"in p&&(m.__data__=p.__data__),f[v]=m,ri(f[v],t,r,v,f,gt(p,r)));return new jt(s,this._parents,t,r)}function vE(e){var t=this._name,r=this._id;typeof e!="function"&&(e=pu(e));for(var n=this._groups,i=n.length,s=[],a=[],l=0;l<i;++l)for(var d=n[l],f=d.length,p,m=0;m<f;++m)if(p=d[m]){for(var v=e.call(p,p.__data__,m,d),y,w=gt(p,r),C=0,x=v.length;C<x;++C)(y=v[C])&&ri(y,t,r,C,v,w);s.push(v),a.push(p)}return new jt(s,a,t,r)}var NV=xr.prototype.constructor;function yE(){return new NV(this._groups,this._parents)}function OV(e,t){var r,n,i;return function(){var s=ei(this,e),a=(this.style.removeProperty(e),ei(this,e));return s===a?null:s===r&&a===n?i:i=t(r=s,n=a)}}function _E(e){return function(){this.style.removeProperty(e)}}function PV(e,t,r){var n,i=r+"",s;return function(){var a=ei(this,e);return a===i?null:a===n?s:s=t(n=a,r)}}function RV(e,t,r){var n,i,s;return function(){var a=ei(this,e),l=r(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),ei(this,e))),a===d?null:a===n&&d===i?s:(i=d,s=t(n=a,l))}}function LV(e,t){var r,n,i,s="style."+t,a="end."+s,l;return function(){var d=St(this,e),f=d.on,p=d.value[s]==null?l||(l=_E(t)):void 0;(f!==r||i!==p)&&(n=(r=f).copy()).on(a,i=p),d.on=n}}function wE(e,t,r){var n=(e+="")=="transform"?ov:of;return t==null?this.styleTween(e,OV(e,n)).on("end.style."+e,_E(e)):typeof t=="function"?this.styleTween(e,RV(e,n,Es(this,"style."+e,t))).each(LV(this._id,e)):this.styleTween(e,PV(e,n,t),r).on("end.style."+e,null)}function kV(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function FV(e,t,r){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&kV(e,a,r)),n}return s._value=t,s}function CE(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,FV(e,t,r??""))}function VV(e){return function(){this.textContent=e}}function jV(e){return function(){var t=e(this);this.textContent=t??""}}function xE(e){return this.tween("text",typeof e=="function"?jV(Es(this,"text",e)):VV(e==null?"":e+""))}function BV(e){return function(t){this.textContent=e.call(this,t)}}function UV(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&BV(i)),t}return n._value=e,n}function bE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,UV(e))}function DE(){for(var e=this._name,t=this._id,r=sf(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],l=a.length,d,f=0;f<l;++f)if(d=a[f]){var p=gt(d,t);ri(d,e,r,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new jt(n,this._parents,e,r)}function EE(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var l={value:a},d={value:function(){--i===0&&s()}};r.each(function(){var f=St(this,n),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),f.on=t}),i===0&&s()})}var $V=0;function jt(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function ME(e){return xr().transition(e)}function sf(){return++$V}var br=xr.prototype;jt.prototype=ME.prototype={constructor:jt,select:gE,selectAll:vE,selectChild:br.selectChild,selectChildren:br.selectChildren,filter:fE,merge:hE,selection:yE,transition:DE,call:br.call,nodes:br.nodes,node:br.node,size:br.size,empty:br.empty,each:br.each,on:pE,attr:sE,attrTween:aE,style:wE,styleTween:CE,text:xE,textTween:bE,remove:mE,tween:oE,delay:uE,duration:lE,ease:cE,easeVarying:dE,end:EE,[Symbol.iterator]:br[Symbol.iterator]};function af(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zV={time:null,delay:0,duration:250,ease:af};function HV(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function IE(e){var t,r;e instanceof jt?(t=e._id,e=e._name):(t=sf(),(r=zV).time=Su(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],l=a.length,d,f=0;f<l;++f)(d=a[f])&&ri(d,e,t,f,a,r||HV(d,t));return new jt(n,this._parents,e,t)}xr.prototype.interrupt=iE;xr.prototype.transition=IE;var{abs:I9,max:S9,min:T9}=Math;function SE(e){return[+e[0],+e[1]]}function GV(e){return[SE(e[0]),SE(e[1])]}var A9={name:"x",handles:["w","e"].map(uv),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},N9={name:"y",handles:["n","s"].map(uv),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},O9={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(uv),input:function(e){return e==null?null:GV(e)},output:function(e){return e}};function uv(e){return{type:e}}var lv=Math.abs,no=Math.cos,ro=Math.sin,TE=Math.PI,Nu=TE/2,cv=TE*2,dv=Math.max,uf=1e-12;function fv(e,t){return Array.from({length:t-e},(r,n)=>e+n)}function qV(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function hv(){return WV(!1,!1)}function WV(e,t){var r=0,n=null,i=null,s=null;function a(l){var d=l.length,f=new Array(d),p=fv(0,d),m=new Array(d*d),v=new Array(d),y=0,w;l=Float64Array.from({length:d*d},t?(C,x)=>l[x%d][x/d|0]:(C,x)=>l[x/d|0][x%d]);for(let C=0;C<d;++C){let x=0;for(let k=0;k<d;++k)x+=l[C*d+k]+e*l[k*d+C];y+=f[C]=x}y=dv(0,cv-r*d)/y,w=y?r:cv/d;{let C=0;n&&p.sort((x,k)=>n(f[x],f[k]));for(let x of p){let k=C;if(e){let j=fv(~d+1,d).filter(b=>b<0?l[~b*d+x]:l[x*d+b]);i&&j.sort((b,P)=>i(b<0?-l[~b*d+x]:l[x*d+b],P<0?-l[~P*d+x]:l[x*d+P]));for(let b of j)if(b<0){let P=m[~b*d+x]||(m[~b*d+x]={source:null,target:null});P.target={index:x,startAngle:C,endAngle:C+=l[~b*d+x]*y,value:l[~b*d+x]}}else{let P=m[x*d+b]||(m[x*d+b]={source:null,target:null});P.source={index:x,startAngle:C,endAngle:C+=l[x*d+b]*y,value:l[x*d+b]}}v[x]={index:x,startAngle:k,endAngle:C,value:f[x]}}else{let j=fv(0,d).filter(b=>l[x*d+b]||l[b*d+x]);i&&j.sort((b,P)=>i(l[x*d+b],l[x*d+P]));for(let b of j){let P;if(x<b?(P=m[x*d+b]||(m[x*d+b]={source:null,target:null}),P.source={index:x,startAngle:C,endAngle:C+=l[x*d+b]*y,value:l[x*d+b]}):(P=m[b*d+x]||(m[b*d+x]={source:null,target:null}),P.target={index:x,startAngle:C,endAngle:C+=l[x*d+b]*y,value:l[x*d+b]},x===b&&(P.source=P.target)),P.source&&P.target&&P.source.value<P.target.value){let O=P.source;P.source=P.target,P.target=O}}v[x]={index:x,startAngle:k,endAngle:C,value:f[x]}}C+=w}}return m=Object.values(m),m.groups=v,s?m.sort(s):m}return a.padAngle=function(l){return arguments.length?(r=dv(0,l),a):r},a.sortGroups=function(l){return arguments.length?(n=l,a):n},a.sortSubgroups=function(l){return arguments.length?(i=l,a):i},a.sortChords=function(l){return arguments.length?(l==null?s=null:(s=qV(l))._=l,a):s&&s._},a}var pv=Math.PI,mv=2*pv,io=1e-6,ZV=mv-io;function AE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function YV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AE;let r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var oo=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AE:YV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,d=n-t,f=i-r,p=a-t,m=l-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>io)if(!(Math.abs(m*d-f*p)>io)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-a,w=i-l,C=d*d+f*f,x=y*y+w*w,k=Math.sqrt(C),j=Math.sqrt(v),b=s*Math.tan((pv-Math.acos((C+v-x)/(2*k*j)))/2),P=b/j,O=b/k;Math.abs(P-1)>io&&this._append`L${t+P*p},${r+P*m}`,this._append`A${s},${s},0,0,${+(m*y>p*w)},${this._x1=t+O*d},${this._y1=r+O*f}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),d=n*Math.sin(i),f=t+l,p=r+d,m=1^a,v=a?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>io||Math.abs(this._y1-p)>io)&&this._append`L${f},${p}`,n&&(v<0&&(v=v%mv+mv),v>ZV?this._append`A${n},${n},0,1,${m},${t-l},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:v>io&&this._append`A${n},${n},0,${+(v>=pv)},${m},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function lf(){return new oo}lf.prototype=oo.prototype;var NE=Array.prototype.slice;function ii(e){return function(){return e}}function KV(e){return e.source}function XV(e){return e.target}function OE(e){return e.radius}function QV(e){return e.startAngle}function JV(e){return e.endAngle}function ej(){return 0}function tj(e){var t=KV,r=XV,n=OE,i=OE,s=QV,a=JV,l=ej,d=null;function f(){var p,m=t.apply(this,arguments),v=r.apply(this,arguments),y=l.apply(this,arguments)/2,w=NE.call(arguments),C=+n.apply(this,(w[0]=m,w)),x=s.apply(this,w)-Nu,k=a.apply(this,w)-Nu,j=+i.apply(this,(w[0]=v,w)),b=s.apply(this,w)-Nu,P=a.apply(this,w)-Nu;if(d||(d=p=lf()),y>uf&&(lv(k-x)>y*2+uf?k>x?(x+=y,k-=y):(x-=y,k+=y):x=k=(x+k)/2,lv(P-b)>y*2+uf?P>b?(b+=y,P-=y):(b-=y,P+=y):b=P=(b+P)/2),d.moveTo(C*no(x),C*ro(x)),d.arc(0,0,C,x,k),x!==b||k!==P)if(e){var O=+e.apply(this,arguments),F=j-O,H=(b+P)/2;d.quadraticCurveTo(0,0,F*no(b),F*ro(b)),d.lineTo(j*no(H),j*ro(H)),d.lineTo(F*no(P),F*ro(P))}else d.quadraticCurveTo(0,0,j*no(b),j*ro(b)),d.arc(0,0,j,b,P);if(d.quadraticCurveTo(0,0,C*no(x),C*ro(x)),d.closePath(),p)return d=null,p+""||null}return e&&(f.headRadius=function(p){return arguments.length?(e=typeof p=="function"?p:ii(+p),f):e}),f.radius=function(p){return arguments.length?(n=i=typeof p=="function"?p:ii(+p),f):n},f.sourceRadius=function(p){return arguments.length?(n=typeof p=="function"?p:ii(+p),f):n},f.targetRadius=function(p){return arguments.length?(i=typeof p=="function"?p:ii(+p),f):i},f.startAngle=function(p){return arguments.length?(s=typeof p=="function"?p:ii(+p),f):s},f.endAngle=function(p){return arguments.length?(a=typeof p=="function"?p:ii(+p),f):a},f.padAngle=function(p){return arguments.length?(l=typeof p=="function"?p:ii(+p),f):l},f.source=function(p){return arguments.length?(t=p,f):t},f.target=function(p){return arguments.length?(r=p,f):r},f.context=function(p){return arguments.length?(d=p??null,f):d},f}function gv(){return tj()}var PE={},vv={},yv=34,Ou=10,_v=13;function LE(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function nj(e,t){var r=LE(e);return function(n,i){return t(r(n),i,e)}}function RE(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Zt(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function rj(e){return e<0?"-"+Zt(-e,6):e>9999?"+"+Zt(e,6):Zt(e,4)}function ij(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":rj(e.getUTCFullYear(),4)+"-"+Zt(e.getUTCMonth()+1,2)+"-"+Zt(e.getUTCDate(),2)+(i?"T"+Zt(t,2)+":"+Zt(r,2)+":"+Zt(n,2)+"."+Zt(i,3)+"Z":n?"T"+Zt(t,2)+":"+Zt(r,2)+":"+Zt(n,2)+"Z":r||t?"T"+Zt(t,2)+":"+Zt(r,2)+"Z":"")}function Pu(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(m,v){var y,w,C=i(m,function(x,k){if(y)return y(x,k-1);w=x,y=v?nj(x,v):LE(x)});return C.columns=w||[],C}function i(m,v){var y=[],w=m.length,C=0,x=0,k,j=w<=0,b=!1;m.charCodeAt(w-1)===Ou&&--w,m.charCodeAt(w-1)===_v&&--w;function P(){if(j)return vv;if(b)return b=!1,PE;var F,H=C,W;if(m.charCodeAt(H)===yv){for(;C++<w&&m.charCodeAt(C)!==yv||m.charCodeAt(++C)===yv;);return(F=C)>=w?j=!0:(W=m.charCodeAt(C++))===Ou?b=!0:W===_v&&(b=!0,m.charCodeAt(C)===Ou&&++C),m.slice(H+1,F-1).replace(/""/g,'"')}for(;C<w;){if((W=m.charCodeAt(F=C++))===Ou)b=!0;else if(W===_v)b=!0,m.charCodeAt(C)===Ou&&++C;else if(W!==r)continue;return m.slice(H,F)}return j=!0,m.slice(H,w)}for(;(k=P())!==vv;){for(var O=[];k!==PE&&k!==vv;)O.push(k),k=P();v&&(O=v(O,x++))==null||y.push(O)}return y}function s(m,v){return m.map(function(y){return v.map(function(w){return p(y[w])}).join(e)})}function a(m,v){return v==null&&(v=RE(m)),[v.map(p).join(e)].concat(s(m,v)).join(`
`)}function l(m,v){return v==null&&(v=RE(m)),s(m,v).join(`
`)}function d(m){return m.map(f).join(`
`)}function f(m){return m.map(p).join(e)}function p(m){return m==null?"":m instanceof Date?ij(m):t.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:n,parseRows:i,format:a,formatBody:l,formatRows:d,formatRow:f,formatValue:p}}var so=Pu(","),wv=so.parse,oj=so.parseRows,sj=so.format,aj=so.formatBody,uj=so.formatRows,lj=so.formatRow,cj=so.formatValue;var ao=Pu("	"),Cv=ao.parse,dj=ao.parseRows,fj=ao.format,hj=ao.formatBody,pj=ao.formatRows,mj=ao.formatRow,gj=ao.formatValue;function vj(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function kE(e,t){return fetch(e,t).then(vj)}function FE(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),kE(t,r).then(function(i){return e(i,n)})}}var uo=FE(wv),yj=FE(Cv);function VE(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tr(e){return e=lo(Math.abs(e)),e?e[1]:NaN}function jE(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],d=0;i>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),s.push(r.substring(i-=l,i+l)),!((d+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function BE(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _j=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oi(e){if(!(t=_j.exec(e)))throw new Error("invalid format: "+e);var t;return new cf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}oi.prototype=cf.prototype;function cf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UE(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var xv;function $E(e,t){var r=lo(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(xv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+lo(e,Math.max(0,t+s-1))[0]}function bv(e,t){var r=lo(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var Dv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VE,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bv(e*100,t),r:bv,s:$E,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ev(e){return e}var zE=Array.prototype.map,HE=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function GE(e){var t=e.grouping===void 0||e.thousands===void 0?Ev:jE(zE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Ev:BE(zE.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=oi(m);var v=m.fill,y=m.align,w=m.sign,C=m.symbol,x=m.zero,k=m.width,j=m.comma,b=m.precision,P=m.trim,O=m.type;O==="n"?(j=!0,O="g"):Dv[O]||(b===void 0&&(b=12),P=!0,O="g"),(x||v==="0"&&y==="=")&&(x=!0,v="0",y="=");var F=C==="$"?r:C==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",H=C==="$"?n:/[%p]/.test(O)?a:"",W=Dv[O],M=/[defgprs%]/.test(O);b=b===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(D){var A=F,S=H,T,B,N;if(O==="c")S=W(D)+S,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?d:W(Math.abs(D),b),P&&(D=UE(D)),U&&+D==0&&w!=="+"&&(U=!1),A=(U?w==="("?w:l:w==="-"||w==="("?"":w)+A,S=(O==="s"?HE[8+xv/3]:"")+S+(U&&w==="("?")":""),M){for(T=-1,B=D.length;++T<B;)if(N=D.charCodeAt(T),48>N||N>57){S=(N===46?i+D.slice(T+1):D.slice(T))+S,D=D.slice(0,T);break}}}j&&!x&&(D=t(D,1/0));var I=A.length+D.length+S.length,$=I<k?new Array(k-I+1).join(v):"";switch(j&&x&&(D=t($+D,$.length?k-S.length:1/0),$=""),y){case"<":D=A+D+S+$;break;case"=":D=A+$+D+S;break;case"^":D=$.slice(0,I=$.length>>1)+A+D+S+$.slice(I);break;default:D=$+A+D+S;break}return s(D)}return R.toString=function(){return m+""},R}function p(m,v){var y=f((m=oi(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(tr(v)/3)))*3,C=Math.pow(10,-w),x=HE[8+w/3];return function(k){return y(C*k)+x}}return{format:f,formatPrefix:p}}var df,ff,hf;Mv({thousands:",",grouping:[3],currency:["$",""]});function Mv(e){return df=GE(e),ff=df.format,hf=df.formatPrefix,df}function Iv(e){return Math.max(0,-tr(Math.abs(e)))}function Sv(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tr(t)/3)))*3-tr(Math.abs(e)))}function Tv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tr(t)-tr(e))+1}function Ms(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var qE=Symbol("implicit");function pf(){var e=new xs,t=[],r=[],n=qE;function i(s){let a=e.get(s);if(a===void 0){if(n!==qE)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new xs;for(let a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return pf(t,r).unknown(n)},Ms.apply(i,arguments),i}function Ru(){var e=pf().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var v=t().length,y=i<n,w=y?i:n,C=y?n:i;s=(C-w)/Math.max(1,v-d+f*2),l&&(s=Math.floor(s)),w+=(C-w-s*(v-d))*p,a=s*(1-d),l&&(w=Math.round(w),a=Math.round(a));var x=Pd(v).map(function(k){return w+s*k});return r(y?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,m()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(v){return arguments.length?(l=!!v,m()):l},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return Ru(t(),[n,i]).round(l).paddingInner(d).paddingOuter(f).align(p)},Ms.apply(m(),arguments)}function Av(e){return function(){return e}}function Nv(e){return+e}var WE=[0,1];function Is(e){return e}function Ov(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Av(isNaN(t)?NaN:.5)}function wj(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Cj(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=Ov(i,n),s=r(a,s)):(n=Ov(n,i),s=r(s,a)),function(l){return s(n(l))}}function xj(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=Ov(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var d=$g(e,l,1,n)-1;return s[d](i[d](l))}}function ZE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bj(){var e=WE,t=WE,r=eo,n,i,s,a=Is,l,d,f;function p(){var v=Math.min(e.length,t.length);return a!==Is&&(a=wj(e[0],e[v-1])),l=v>2?xj:Cj,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?s:(d||(d=l(e.map(n),t,r)))(n(a(v)))}return m.invert=function(v){return a(i((f||(f=l(t,e.map(n),It)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Nv),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),r=rv,p()},m.clamp=function(v){return arguments.length?(a=v?!0:Is,p()):a!==Is},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,y){return n=v,i=y,p()}}function Pv(){return bj()(Is,Is)}function Rv(e,t,r,n){var i=zg(e,t,r),s;switch(n=oi(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Sv(i,a))&&(n.precision=s),hf(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Tv(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Iv(i))&&(n.precision=s-(n.type==="%")*2);break}}return ff(n)}function Dj(e){var t=e.domain;return e.ticks=function(r){var n=t();return Nd(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Rv(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],d,f,p=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);p-- >0;){if(f=du(a,l,r),f===d)return n[i]=a,n[s]=l,t(n);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;d=f}return e},e}function Lu(){var e=Pv();return e.copy=function(){return ZE(e,Lu())},Ms.apply(e,arguments),Dj(e)}function Dr(e){return function(){return e}}var Lv=Math.abs,Tt=Math.atan2,si=Math.cos,YE=Math.max,mf=Math.min,Vn=Math.sin,co=Math.sqrt,Bt=1e-12,Ss=Math.PI,ku=Ss/2,KE=2*Ss;function XE(e){return e>1?0:e<-1?Ss:Math.acos(e)}function kv(e){return e>=1?ku:e<=-1?-ku:Math.asin(e)}function QE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oo(t)}function Ej(e){return e.innerRadius}function Mj(e){return e.outerRadius}function Ij(e){return e.startAngle}function Sj(e){return e.endAngle}function Tj(e){return e&&e.padAngle}function Aj(e,t,r,n,i,s,a,l){var d=r-e,f=n-t,p=a-i,m=l-s,v=m*d-p*f;if(!(v*v<Bt))return v=(p*(t-s)-m*(e-i))/v,[e+v*d,t+v*f]}function gf(e,t,r,n,i,s,a){var l=e-r,d=t-n,f=(a?s:-s)/co(l*l+d*d),p=f*d,m=-f*l,v=e+p,y=t+m,w=r+p,C=n+m,x=(v+w)/2,k=(y+C)/2,j=w-v,b=C-y,P=j*j+b*b,O=i-s,F=v*C-w*y,H=(b<0?-1:1)*co(YE(0,O*O*P-F*F)),W=(F*b-j*H)/P,M=(-F*j-b*H)/P,R=(F*b+j*H)/P,D=(-F*j+b*H)/P,A=W-x,S=M-k,T=R-x,B=D-k;return A*A+S*S>T*T+B*B&&(W=R,M=D),{cx:W,cy:M,x01:-p,y01:-m,x11:W*(i/O-1),y11:M*(i/O-1)}}function Fv(){var e=Ej,t=Mj,r=Dr(0),n=null,i=Ij,s=Sj,a=Tj,l=null,d=QE(f);function f(){var p,m,v=+e.apply(this,arguments),y=+t.apply(this,arguments),w=i.apply(this,arguments)-ku,C=s.apply(this,arguments)-ku,x=Lv(C-w),k=C>w;if(l||(l=p=d()),y<v&&(m=y,y=v,v=m),!(y>Bt))l.moveTo(0,0);else if(x>KE-Bt)l.moveTo(y*si(w),y*Vn(w)),l.arc(0,0,y,w,C,!k),v>Bt&&(l.moveTo(v*si(C),v*Vn(C)),l.arc(0,0,v,C,w,k));else{var j=w,b=C,P=w,O=C,F=x,H=x,W=a.apply(this,arguments)/2,M=W>Bt&&(n?+n.apply(this,arguments):co(v*v+y*y)),R=mf(Lv(y-v)/2,+r.apply(this,arguments)),D=R,A=R,S,T;if(M>Bt){var B=kv(M/v*Vn(W)),N=kv(M/y*Vn(W));(F-=B*2)>Bt?(B*=k?1:-1,P+=B,O-=B):(F=0,P=O=(w+C)/2),(H-=N*2)>Bt?(N*=k?1:-1,j+=N,b-=N):(H=0,j=b=(w+C)/2)}var U=y*si(j),I=y*Vn(j),$=v*si(O),G=v*Vn(O);if(R>Bt){var q=y*si(b),X=y*Vn(b),Y=v*si(P),K=v*Vn(P),oe;if(x<Ss)if(oe=Aj(U,I,Y,K,q,X,$,G)){var ge=U-oe[0],Fe=I-oe[1],Ne=q-oe[0],be=X-oe[1],Re=1/Vn(XE((ge*Ne+Fe*be)/(co(ge*ge+Fe*Fe)*co(Ne*Ne+be*be)))/2),De=co(oe[0]*oe[0]+oe[1]*oe[1]);D=mf(R,(v-De)/(Re-1)),A=mf(R,(y-De)/(Re+1))}else D=A=0}H>Bt?A>Bt?(S=gf(Y,K,U,I,y,A,k),T=gf(q,X,$,G,y,A,k),l.moveTo(S.cx+S.x01,S.cy+S.y01),A<R?l.arc(S.cx,S.cy,A,Tt(S.y01,S.x01),Tt(T.y01,T.x01),!k):(l.arc(S.cx,S.cy,A,Tt(S.y01,S.x01),Tt(S.y11,S.x11),!k),l.arc(0,0,y,Tt(S.cy+S.y11,S.cx+S.x11),Tt(T.cy+T.y11,T.cx+T.x11),!k),l.arc(T.cx,T.cy,A,Tt(T.y11,T.x11),Tt(T.y01,T.x01),!k))):(l.moveTo(U,I),l.arc(0,0,y,j,b,!k)):l.moveTo(U,I),!(v>Bt)||!(F>Bt)?l.lineTo($,G):D>Bt?(S=gf($,G,q,X,v,-D,k),T=gf(U,I,Y,K,v,-D,k),l.lineTo(S.cx+S.x01,S.cy+S.y01),D<R?l.arc(S.cx,S.cy,D,Tt(S.y01,S.x01),Tt(T.y01,T.x01),!k):(l.arc(S.cx,S.cy,D,Tt(S.y01,S.x01),Tt(S.y11,S.x11),!k),l.arc(0,0,v,Tt(S.cy+S.y11,S.cx+S.x11),Tt(T.cy+T.y11,T.cx+T.x11),k),l.arc(T.cx,T.cy,D,Tt(T.y11,T.x11),Tt(T.y01,T.x01),!k))):l.arc(0,0,v,O,P,k)}if(l.closePath(),p)return l=null,p+""||null}return f.centroid=function(){var p=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,m=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Ss/2;return[si(m)*p,Vn(m)*p]},f.innerRadius=function(p){return arguments.length?(e=typeof p=="function"?p:Dr(+p),f):e},f.outerRadius=function(p){return arguments.length?(t=typeof p=="function"?p:Dr(+p),f):t},f.cornerRadius=function(p){return arguments.length?(r=typeof p=="function"?p:Dr(+p),f):r},f.padRadius=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Dr(+p),f):n},f.startAngle=function(p){return arguments.length?(i=typeof p=="function"?p:Dr(+p),f):i},f.endAngle=function(p){return arguments.length?(s=typeof p=="function"?p:Dr(+p),f):s},f.padAngle=function(p){return arguments.length?(a=typeof p=="function"?p:Dr(+p),f):a},f.context=function(p){return arguments.length?(l=p??null,f):l},f}function ai(e,t,r){this.k=e,this.x=t,this.y=r}ai.prototype={constructor:ai,scale:function(e){return e===1?this:new ai(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ai(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vv=new ai(1,0,0);jv.prototype=ai.prototype;function jv(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Vv;return e.__zoom}var Ts=class{constructor(t){this.arrivalCity="",this.arrivalCoordinates="",this.arrivalCountry="",this.arrivalRegion="",this.carCO2=-1,this.carDuration=-1,this.carEnergyResourceConsumption=-1,this.carProducts="",this.departureCity="",this.departureCoordinates="",this.departureCountry="",this.departureRegion="",this.flightCO2=-1,this.flightDuration=-1,this.flightEnergyResourceConsumption=-1,this.flightProducts="",this.id="",this.trainCO2=-1,this.trainDuration=-1,this.trainEnergyResourceConsumption=-1,this.trainProducts="",this.avgCO2=-1,this.avgERC=-1,this.avgCO2W=-1,this.avgERCW=-1,this.distance=-1,this.flightMarketShare=-1,this.trainFlightDurationDelta=-1,this.trainMarketShare=-1,this.chosenCO2="avg",t&&(this.id=t?.ID||"",this.departureCity=t?.["Departure City"]||"",this.arrivalCity=t?.["Arrival City"]||"",this.departureCoordinates=t?.["Departure Coordinates"]||"",this.arrivalCoordinates=t?.["Arrival Coordinates"]||"",this.trainCO2=parseFloat(t?.["Train CO2"])||0,this.trainEnergyResourceConsumption=parseFloat(t?.["Train Energy Resource Consumption"])||0,this.trainProducts=t?.["Train Products"]||"",this.trainDuration=parseFloat(t?.["Train Duration"])||0,this.carCO2=parseFloat(t?.["Car CO2"])||0,this.carEnergyResourceConsumption=parseFloat(t?.["Car Energy Resource Consumption"])||0,this.carProducts=t?.["Car Products"]||"",this.carDuration=parseFloat(t?.["Car Duration"])||0,this.flightCO2=parseFloat(t?.["Flight CO2"])||0,this.flightEnergyResourceConsumption=parseFloat(t?.["Flight Energy Resource Consumption"])||0,this.flightProducts=t?.["Flight Products"]||"",this.flightDuration=parseFloat(t?.["Flight Duration"])||0,this.departureCountry=t?.["Departure Country"]||"",this.arrivalCountry=t?.["Arrival Country"]||"",this.departureRegion=t?.["Departure Region"]||"",this.arrivalRegion=t?.["Arrival Region"]||"",this.trainFlightDurationDelta=parseFloat(t?.train_flight_duration_delta)||0,this.trainMarketShare=parseFloat(t?.train_market_share)||0,this.flightMarketShare=parseFloat(t?.flight_market_share)||0,this.avgCO2=parseFloat(t?.avg_co2)||0,this.avgERC=parseFloat(t?.avg_erc)||0,this.avgCO2W=parseFloat(t?.avg_co2_w)||0,this.avgERCW=parseFloat(t?.avg_erc_w)||0,this.distance=parseFloat(t?.distance)||0)}};var As=(()=>{let t=class t{constructor(){this._routes=new fa,this._deleteRoute=new ht,this.routes=[]}addRoute(n){console.log("Adding route:",n),this.routes.push(n),this._routes.next(n)}getRoutes(){return this.routes}getRoutesObservable(){return this._routes.asObservable()}getDeleteRouteObservable(){return this._deleteRoute.asObservable()}deleteRoute(n){this.routes=this.routes.filter(i=>i.id!==n.id),this._deleteRoute.next(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Nj(e,t){if(e&1){let r=_r();ie(0,"li",13),We("click",function(){let i=Zn(r).$implicit,s=_t(2);return Yn(s.selectCity(i,"departure"))}),ue(1),J()}if(e&2){let r=t.$implicit;He(),Xn(r)}}function Oj(e,t){if(e&1&&(ie(0,"ul",11),Rt(1,Nj,2,1,"li",12),J()),e&2){let r=_t();He(),yt("ngForOf",r.filteredCities)}}function Pj(e,t){if(e&1){let r=_r();ie(0,"li",13),We("click",function(){let i=Zn(r).$implicit,s=_t(2);return Yn(s.selectCity(i,"destination"))}),ue(1),J()}if(e&2){let r=t.$implicit;He(),Xn(r)}}function Rj(e,t){if(e&1&&(ie(0,"ul",11),Rt(1,Pj,2,1,"li",12),J()),e&2){let r=_t();He(),yt("ngForOf",r.filteredCities)}}var JE=(()=>{let t=class t{constructor(n,i){this.mapRouteService=n,this.http=i,this.data={},this.cities=[],this.filteredCities=[],this.route={departure:"",destination:"",transport:{plane:!1,train:!1,average:!1}}}ngOnInit(){this.getCities().subscribe(n=>{this.cities=n})}ngAfterViewInit(){uo("assets/final_dataset_new.csv").then(n=>{n.forEach(i=>{let s=new Ts(i);this.data[s.id]=s})})}addRoute(){console.log("Adding route:",this.route);let n=this.route.departure+" to "+this.route.destination,i=this.data[n];if(console.log(i),!i){alert("No route available between these cities in our database");return}if(this.route.transport.plane){if(i.flightCO2==0){alert("No flights available between these cities");return}i=JSON.parse(JSON.stringify(i)),i.chosenCO2="flight",this.mapRouteService.addRoute(i)}this.route.transport.train&&(i=JSON.parse(JSON.stringify(i)),i.chosenCO2="train",this.mapRouteService.addRoute(i)),this.route.transport.average&&i.flightCO2!=0&&(i=JSON.parse(JSON.stringify(i)),i.avgCO2=(i.flightCO2+i.trainCO2)/2,i.chosenCO2="avg",this.mapRouteService.addRoute(i))}selectCity(n,i){i==="departure"?this.route.departure=n:this.route.destination=n,this.filteredCities=[]}search(n,i){n?(this.searching=i,console.log(i),this.filteredCities=this.cities.filter(s=>s.toLowerCase().includes(n.toLowerCase())).sort((s,a)=>s.toLowerCase().indexOf(n.toLowerCase())-a.toLowerCase().indexOf(n.toLowerCase())).slice(0,10)):(this.filteredCities=[],this.searching=null)}getCities(){return this.http.get("assets/cities.txt",{responseType:"text"}).pipe(pe(n=>n.split(`
`)))}};t.\u0275fac=function(i){return new(i||t)(fe(As),fe(Hi))},t.\u0275cmp=lt({type:t,selectors:[["app-routes-input"]],standalone:!0,features:[ct],decls:21,vars:6,consts:[[1,"route-box"],[1,"form-group"],["for","departure"],["type","text","id","departure","name","departure",1,"form-control",3,"ngModelChange","ngModel"],["class","suggestions",4,"ngIf"],["for","destination"],["type","text","id","destination","name","destination",1,"form-control",3,"ngModelChange","ngModel"],[1,"checkbox-group"],["type","checkbox","name","plane",3,"ngModelChange","ngModel"],["type","checkbox","name","train",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"suggestions"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,s){i&1&&(ie(0,"div",0)(1,"form")(2,"div",1)(3,"label",2),ue(4,"Departure:"),J(),ie(5,"input",3),We("ngModelChange",function(l){return s.search(l,"departure")}),qr("ngModelChange",function(l){return Bi(s.route.departure,l)||(s.route.departure=l),l}),J(),Rt(6,Oj,2,1,"ul",4),J(),ie(7,"div",1)(8,"label",5),ue(9,"Destination:"),J(),ie(10,"input",6),We("ngModelChange",function(l){return s.search(l,"destination")}),qr("ngModelChange",function(l){return Bi(s.route.destination,l)||(s.route.destination=l),l}),J(),Rt(11,Rj,2,1,"ul",4),J(),ie(12,"div",7)(13,"label")(14,"input",8),qr("ngModelChange",function(l){return Bi(s.route.transport.plane,l)||(s.route.transport.plane=l),l}),J(),ue(15," Plane "),J(),ie(16,"label")(17,"input",9),qr("ngModelChange",function(l){return Bi(s.route.transport.train,l)||(s.route.transport.train=l),l}),J(),ue(18," Train "),J()(),ie(19,"button",10),We("click",function(){return s.addRoute()}),ue(20,"ADD"),J()()()),i&2&&(He(5),Gr("ngModel",s.route.departure),He(),yt("ngIf",s.filteredCities.length&&s.searching=="departure"),He(4),Gr("ngModel",s.route.destination),He(),yt("ngIf",s.filteredCities.length&&s.searching=="destination"),He(3),Gr("ngModel",s.route.transport.plane),He(3),Gr("ngModel",s.route.transport.train))},dependencies:[Sd,Nb,ws,Lg,Md,Eb,cu,Bg,Ln,Zr,ss],styles:[".route-box[_ngcontent-%COMP%]{padding:20px;width:320px;border-radius:10px;margin-left:auto;margin-right:auto;background-color:#fff}h3[_ngcontent-%COMP%]{margin-top:0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;flex-direction:column;align-items:start;position:relative;font-size:14px;text-transform:uppercase}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:5px}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:10px}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:20px;display:inline-flex;align-items:center}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:5px}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;border:none;background-color:#555;color:#fff;border-radius:20px;cursor:pointer;transition:background-color .3s ease;width:100%}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.suggestions[_ngcontent-%COMP%]{position:absolute;top:60px;z-index:20;width:100%;background:#fff;box-shadow:0 4px 6px #0000001a;list-style-type:none;padding:0;margin:0}.suggestions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let e=t;return e})();function Lj(e,t){if(e&1){let r=_r();ie(0,"li")(1,"div",4)(2,"div",5),ue(3),J(),ie(4,"div",6),ue(5),J(),ie(6,"div",7),ue(7),J(),ie(8,"button",8),We("click",function(){let i=Zn(r).$implicit,s=_t(2);return Yn(s.deleteRoute(i))}),ue(9,"Delete"),J()()()}if(e&2){let r=t.$implicit,n=_t(2);He(3),Em("",r.id," (",r.chosenCO2,") "),He(2),rs("",n.getCO2(r)," Kg"),He(2),Xn(n.getDuration(r))}}function kj(e,t){if(e&1&&(ie(0,"div",1)(1,"ul",2),Rt(2,Lj,10,4,"li",3),J()()),e&2){let r=_t();He(2),yt("ngForOf",r.routes)}}var eM=(()=>{let t=class t{constructor(n){this.mapRoutesService=n,this.routes=[],this.mapRoutesService.getRoutesObservable().subscribe(i=>{this.routes.push(i)})}deleteRoute(n){this.routes=this.routes.filter(i=>i.id!==n.id||i.chosenCO2!==n.chosenCO2),this.mapRoutesService.deleteRoute(n),console.log("Route with ID:",n.id,"has been deleted.")}getCO2(n){return n.chosenCO2=="flight"?this.trunc(n.flightCO2):n.chosenCO2=="train"?this.trunc(n.trainCO2):this.trunc(n.avgCO2)}getDuration(n){return n.chosenCO2=="flight"?`${n.flightDuration.toFixed(2)} h`:n.chosenCO2=="train"?`${n.trainDuration.toFixed(2)} h`:" "}trunc(n){return Math.trunc(n)}};t.\u0275fac=function(i){return new(i||t)(fe(As))},t.\u0275cmp=lt({type:t,selectors:[["app-list-routes"]],standalone:!0,features:[ct],decls:1,vars:1,consts:[["class","routes-list",4,"ngIf"],[1,"routes-list"],[2,"margin-top","0px"],[4,"ngFor","ngForOf"],[1,"route-item"],[1,"route-id"],[1,"route-co2"],[1,"route-duration"],[1,"btn-delete",3,"click"]],template:function(i,s){i&1&&Rt(0,kj,3,1,"div",0),i&2&&yt("ngIf",s.routes.length>0)},dependencies:[Ln,Zr,ss],styles:[".routes-list[_ngcontent-%COMP%]{margin-top:20px;padding:20px;border-radius:10px;background-color:#fff}.routes-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;text-align:center;color:#333}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;max-height:250px;overflow:scroll}.route-item[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border-bottom:1px solid #ddd;font-size:13px;display:flex;justify-content:space-between;align-items:center}.route-id[_ngcontent-%COMP%]{width:60px;padding-right:10px}.route-co2[_ngcontent-%COMP%]{width:50px;padding-right:10px}.route-duration[_ngcontent-%COMP%]{width:50px}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;width:70px;padding:5px 10px;background-color:#ff4d4d;color:#fff;border:none;border-radius:5px;cursor:pointer}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#c00}"]});let e=t;return e})();var Ns=xi(Vu(),1),At=class{static mapToArray(t){let r=[];for(let n in t)t.hasOwnProperty(n)&&r.push(t[n]);return r}static handleEvent(t,r,n){0<r.observers.length&&t.run(()=>{r.emit(n)})}},nM=(()=>{let t=class t{constructor(n,i){this.element=n,this.zone=i,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,Ns.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new Pe,this.zoomChange=new Pe,this.centerChange=new Pe,this.onClick=new Pe,this.onDoubleClick=new Pe,this.onMouseDown=new Pe,this.onMouseUp=new Pe,this.onMouseMove=new Pe,this.onMouseOver=new Pe,this.onMouseOut=new Pe,this.onMapMove=new Pe,this.onMapMoveStart=new Pe,this.onMapMoveEnd=new Pe,this.onMapZoom=new Pe,this.onMapZoomStart=new Pe,this.onMapZoomEnd=new Pe}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,Ns.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(n){n.zoom&&n.center&&this.zoom!=null&&this.center!=null?this.setView(n.center.currentValue,n.zoom.currentValue):n.zoom?this.setZoom(n.zoom.currentValue):n.center&&this.setCenter(n.center.currentValue),n.fitBounds&&this.setFitBounds(n.fitBounds.currentValue),n.maxBounds&&this.setMaxBounds(n.maxBounds.currentValue),n.minZoom&&this.setMinZoom(n.minZoom.currentValue),n.maxZoom&&this.setMaxZoom(n.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let n=(s,a)=>{this.map.on(s,a)};n("click",s=>At.handleEvent(this.zone,this.onClick,s)),n("dblclick",s=>At.handleEvent(this.zone,this.onDoubleClick,s)),n("mousedown",s=>At.handleEvent(this.zone,this.onMouseDown,s)),n("mouseup",s=>At.handleEvent(this.zone,this.onMouseUp,s)),n("mouseover",s=>At.handleEvent(this.zone,this.onMouseOver,s)),n("mouseout",s=>At.handleEvent(this.zone,this.onMouseOut,s)),n("mousemove",s=>At.handleEvent(this.zone,this.onMouseMove,s)),n("zoomstart",s=>At.handleEvent(this.zone,this.onMapZoomStart,s)),n("zoom",s=>At.handleEvent(this.zone,this.onMapZoom,s)),n("zoomend",s=>At.handleEvent(this.zone,this.onMapZoomEnd,s)),n("movestart",s=>At.handleEvent(this.zone,this.onMapMoveStart,s)),n("move",s=>At.handleEvent(this.zone,this.onMapMove,s)),n("moveend",s=>At.handleEvent(this.zone,this.onMapMoveEnd,s));let i=()=>{let s=this.map.getZoom();s!==this.zoom&&(this.zoom=s,At.handleEvent(this.zone,this.zoomChange,s));let a=this.map.getCenter();(a!=null||this.center!=null)&&((a==null||this.center==null)&&a!==this.center||a.lat!==this.center.lat||a.lng!==this.center.lng)&&(this.center=a,At.handleEvent(this.zone,this.centerChange,a))};n("moveend",i),n("zoomend",i)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(n,i){this.map!=null&&n!=null&&i!=null&&this.map.setView(n,i,this.zoomPanOptions)}setZoom(n){this.map!=null&&n!=null&&this.map.setZoom(n,this.zoomOptions)}setCenter(n){this.map!=null&&n!=null&&this.map.panTo(n,this.panOptions)}setFitBounds(n){this.map!=null&&n!=null&&this.map.fitBounds(n,this.fitBoundsOptions)}setMaxBounds(n){this.map!=null&&n!=null&&this.map.setMaxBounds(n)}setMinZoom(n){this.map!=null&&n!=null&&this.map.setMinZoom(n)}setMaxZoom(n){this.map!=null&&n!=null&&this.map.setMaxZoom(n)}};t.\u0275fac=function(i){return new(i||t)(fe(gr),fe(tt))},t.\u0275dir=Et({type:t,selectors:[["","leaflet",""]],hostBindings:function(i,s){i&1&&We("resize",function(){return s.onResize()},!1,jw)},inputs:{fitBoundsOptions:[Ze.None,"leafletFitBoundsOptions","fitBoundsOptions"],panOptions:[Ze.None,"leafletPanOptions","panOptions"],zoomOptions:[Ze.None,"leafletZoomOptions","zoomOptions"],zoomPanOptions:[Ze.None,"leafletZoomPanOptions","zoomPanOptions"],options:[Ze.None,"leafletOptions","options"],zoom:[Ze.None,"leafletZoom","zoom"],center:[Ze.None,"leafletCenter","center"],fitBounds:[Ze.None,"leafletFitBounds","fitBounds"],maxBounds:[Ze.None,"leafletMaxBounds","maxBounds"],minZoom:[Ze.None,"leafletMinZoom","minZoom"],maxZoom:[Ze.None,"leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[$r]});let e=t;return e})();var rM=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=On({type:t}),t.\u0275inj=Nn({});let e=t;return e})();var rt=xi(Vu()),AI=xi(iM()),NI=xi(ry());(function(){var e=L.Polyline.prototype.onAdd,t=L.Polyline.prototype.onRemove,r=L.Polyline.prototype._updatePath,n=L.Polyline.prototype.bringToFront,i={onAdd:function(s){e.call(this,s),this._textRedraw()},onRemove:function(s){s=s||this._map,s&&this._textNode&&s._renderer._container&&s._renderer._container.removeChild(this._textNode),t.call(this,s)},bringToFront:function(){n.call(this),this._textRedraw()},_updatePath:function(){r.call(this),this._textRedraw()},_textRedraw:function(){var s=this._text,a=this._textOptions;s&&this.setText(null).setText(s,a)},setText:function(s,a){if(this._text=s,this._textOptions=a,!L.Browser.svg||typeof this._map>"u")return this;var l={repeat:!1,fillColor:"black",attributes:{},below:!1};if(a=L.Util.extend(l,a),!s)return this._textNode&&this._textNode.parentNode&&(this._map._renderer._container.removeChild(this._textNode),delete this._textNode),this;s=s.replace(/ /g,"\xA0");var d="pathdef-"+L.Util.stamp(this),f=this._map._renderer._container;if(this._path.setAttribute("id",d),a.repeat){var p=L.SVG.create("text");for(var m in a.attributes)p.setAttribute(m,a.attributes[m]);p.appendChild(document.createTextNode(s)),f.appendChild(p);var v=p.getComputedTextLength();f.removeChild(p),s=new Array(Math.ceil(isNaN(this._path.getTotalLength()/v)?0:this._path.getTotalLength()/v)).join(s)}var y=L.SVG.create("text"),w=L.SVG.create("textPath"),C=a.offset||this._path.getAttribute("stroke-width");w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+d),y.setAttribute("dy",C);for(var m in a.attributes)y.setAttribute(m,a.attributes[m]);if(w.appendChild(document.createTextNode(s)),y.appendChild(w),this._textNode=y,a.below?f.insertBefore(y,f.firstChild):f.appendChild(y),a.center){var x=y.getComputedTextLength(),k=this._path.getTotalLength();y.setAttribute("dx",k/2-x/2)}if(a.orientation){var j=0;switch(a.orientation){case"flip":j=180;break;case"perpendicular":j=90;break;default:j=a.orientation}var b=y.getBBox().x+y.getBBox().width/2,P=y.getBBox().y+y.getBBox().height/2;y.setAttribute("transform","rotate("+j+" "+b+" "+P+")")}if(this.options.interactive){(L.Browser.svg||!L.Browser.vml)&&w.setAttribute("class","leaflet-interactive");for(var O=["click","dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],F=0;F<O.length;F++)L.DomEvent.on(y,O[F],this.fire,this)}return this}};L.Polyline.include(i),L.LayerGroup.include({setText:function(s,a){for(var l in this._layers)typeof this._layers[l].setText=="function"&&this._layers[l].setText(s,a);return this}})})();var OI=(()=>{let t=class t{constructor(n){this.mapRoutesService=n,this.routes={},this.customSmallIcon=rt.icon({iconUrl:"assets/story.png",iconSize:[15,15],iconAnchor:[7,7],popupAnchor:[0,-7]}),this.markers=[],this.options={layers:[rt.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20})],zoom:4,zoomControl:!1,center:{lat:54.520008,lng:13.404954}}}ngAfterViewInit(){this.mapRoutesService.getRoutesObservable().subscribe(n=>{let i;n.chosenCO2=="train"?i=this.plotTrain(n):n.chosenCO2=="flight"?i=this.plotGreatCircle(n):i=this.plotAvgLine(n),this.routes[n.id+n.chosenCO2]=i}),this.mapRoutesService.getDeleteRouteObservable().subscribe(n=>{this.routes[n.id+n.chosenCO2].filter(s=>s!=null).forEach(s=>this.map.removeLayer(s)),delete this.routes[n.id+n.chosenCO2]}),this.addLegend()}onMapReady(n){this.map=n,this.map.addControl(rt.control.zoom({position:"topright"}))}mapClicked(n){console.log(n.latlng.lat,n.latlng.lng)}plotAvgLine(n){let i=this.getEmissionColor(n.avgCO2W),s=this.parseCoordinates(n.departureCoordinates),a=this.parseCoordinates(n.arrivalCoordinates),l=[];var d=[s,a],f=rt.polyline(d,{color:i,weight:5}).addTo(this.map);l.push(f),f.bindPopup(`Route from ${n.departureCity} to ${n.arrivalCity}<br>
    Average CO2 Emissions: ${n.avgCO2.toFixed(2)} kg<br>
    Average Energy Consumption: ${n.avgERC.toFixed(2)} kWh<br>`),f.on("mouseover",v=>{f.setStyle({weight:8,color:"#545454"}),f.openPopup()}),f.on("mouseout",v=>{f.setStyle({weight:5,color:this.getEmissionColor(n.flightCO2)}),f.closePopup()}),this.map.fitBounds(f.getBounds().pad(.2));let p=rt.marker(a,{icon:this.customSmallIcon});l.push(p),p.addTo(this.map);let m=rt.marker(s,{icon:this.customSmallIcon});return l.push(m),m.addTo(this.map),l}plotGreatCircle(n){let i=this.getEmissionColor(n.flightCO2),s=[],a=this.parseCoordinates(n.departureCoordinates),l=this.parseCoordinates(n.arrivalCoordinates);for(var d=[a,l],f=AI.Geodesic.WGS84,p=100,m=f.InverseLine(a[0],a[1],l[0],l[1]),v=m.s13/p,y=[],w=0;w<=p;++w){var C=m.Position(w*v);y.push([C.lat2,C.lon2])}var x=rt.polyline(y,{color:i,weight:5}).addTo(this.map);s.push(x),x.bindPopup(`Flight Route from ${n.departureCity} to ${n.arrivalCity}<br>
      Flight CO2 Emissions: ${n.flightCO2.toFixed(2)} kg<br>
      Flight Energy Consumption: ${n.flightEnergyResourceConsumption.toFixed(2)} kWh<br>
      Flight Duration: ${n.flightDuration.toFixed(2)} hours`),x.on("mouseover",b=>{x.setStyle({weight:8,color:"#545454"}),x.openPopup()}),x.on("mouseout",b=>{x.setStyle({weight:5,color:this.getEmissionColor(n.flightCO2)}),x.closePopup()});let k=rt.marker(l,{icon:this.customSmallIcon});s.push(k),k.addTo(this.map);let j=rt.marker(a,{icon:this.customSmallIcon});return s.push(j),j.addTo(this.map),this.map.fitBounds(x.getBounds().pad(.2)),s}plotTrain(n){let i=`assets/kml_files_new/${n.departureCity.replace(/ /g,"_")}_to_${n.arrivalCity.replace(/ /g,"_")}.kml`,s=[];return NI.default.kml(i,null,rt.geoJson(null,{filter:l=>l.geometry.type!=="Point",style:()=>({color:this.getEmissionColor(n.trainCO2),weight:4,opacity:.7}),onEachFeature:(l,d)=>{s.push(d),d.on("mouseover",f=>{s.forEach(p=>{p.feature&&p.setStyle({weight:8,color:"#545454"})}),d.openPopup()}),d.on("mouseout",f=>{s.forEach(p=>{p.feature&&p.setStyle({weight:4,color:this.getEmissionColor(n.trainCO2)})}),d.closePopup()}),d.bindPopup(`Train Route from ${n.departureCity} to ${n.arrivalCity}<br>
          Train CO2 Emissions: ${n.trainCO2.toFixed(2)} kg<br>
          Train Energy Consumption: ${n.trainEnergyResourceConsumption.toFixed(2)} kWh<br>
          Train Duration: ${n.trainDuration.toFixed(2)} hours`)}})).addTo(this.map).on("ready",()=>{let l=s[0].getLatLngs(),d=l[0],f=l[l.length-1];this.map.fitBounds(s[0].getBounds().pad(.2));let p=rt.marker(f,{icon:this.customSmallIcon});p.addTo(this.map),s.push(p);let m=rt.marker(d,{icon:this.customSmallIcon});m.addTo(this.map),s.push(m)}),s}getEmissionColor(n){let l=(n-0)/150,d,f;return n<=75?(d=Math.floor(255*(2*l)),f=255):(d=255,f=Math.floor(255*(2*(1-l)))),`rgb(${d}, ${f}, 0)`}parseCoordinates(n){let i=/\[(-?\d+\.\d+),\s*(-?\d+\.\d+)\]/,s=n.match(i);if(s){let a=parseFloat(s[1]),l=parseFloat(s[2]);return[a,l]}else return[-1,-1]}addLegend(){let n=new rt.Control({position:"bottomright"});n.onAdd=()=>{let i=rt.DomUtil.create("div","info legend"),s=`
        <div class="legend-gradient" style="height: 10px; width: 100%; background: linear-gradient(to right, ${this.getEmissionColor(0)}, ${this.getEmissionColor(75)}, ${this.getEmissionColor(150)});">
        </div>
        <div class="legend-scale">
          <span>0 kg</span><span style="float: right;">150 kg</span>
        </div>`;return i.style.backgroundColor="white",i.style.padding="10px",i.style.boxShadow="0 0 15px rgba(0,0,0,0.2)",i.style.borderRadius="5px",i.innerHTML=`<div><strong>CO2 Emissions (kg)</strong></div>${s}`,i},n.addTo(this.map)}};t.\u0275fac=function(i){return new(i||t)(fe(As))},t.\u0275cmp=lt({type:t,selectors:[["app-route-map"]],standalone:!0,features:[ct],decls:1,vars:1,consts:[["leaflet","",1,"map-container",3,"leafletMapReady","leafletOptions"]],template:function(i,s){i&1&&(ie(0,"div",0),We("leafletMapReady",function(l){return s.onMapReady(l)}),J()),i&2&&yt("leafletOptions",s.options)},dependencies:[rM,nM],styles:[".map-container[_ngcontent-%COMP%]{height:80vh;border-radius:10px}"]});let e=t;return e})();var PI=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=lt({type:t,selectors:[["app-eco-router"]],standalone:!0,features:[ct],decls:10,vars:0,consts:[[1,"router-text"],[1,"map-area"],[1,"widget"]],template:function(i,s){i&1&&(ie(0,"main")(1,"div",0)(2,"h1"),ue(3," EcoExplorer: Sustainable journey planner"),J(),ue(4," Explore your desired journey by selecting the departure and arrival city. The color legend indicates the amount of CO2 emissions released per passenger for each route. Choose your preferred mode of transportation to compare CO2 emissions between different options. Hover over the route to view details about your journey. "),J(),ie(5,"div",1)(6,"div",2),Se(7,"app-routes-input")(8,"app-list-routes"),J(),Se(9,"app-route-map"),J()())},dependencies:[JE,eM,OI],styles:["main[_ngcontent-%COMP%]{margin-top:20px}.map-area[_ngcontent-%COMP%]{position:relative}.map-area[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1000}.router-text[_ngcontent-%COMP%]{margin:0 120px 20px;font-size:16px;text-align:justify;box-shadow:#0000001a 0 4px 12px;padding:20px 50px 30px;border-radius:20px}.router-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;text-align:center}"]});let e=t;return e})();var rr=xi(Vu()),RI=xi(ry());var Ff=(()=>{let t=class t{constructor(){this.searchResults=new Pe,this.routes=[],this.customSmallIcon=rr.default.icon({iconUrl:"assets/story.png",iconSize:[15,15],iconAnchor:[7,7],popupAnchor:[0,-7]}),this.customIcon=rr.default.icon({iconUrl:"assets/push-pin.png",iconSize:[50,50],iconAnchor:[25,50],popupAnchor:[0,-50]})}initMap(n){this.map=rr.default.map(n,{center:[54.520008,13.404954],zoom:5,scrollWheelZoom:!1}),rr.default.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}).addTo(this.map),this.addLegend()}searchCity(n,i,s,a){let l=a.filter(d=>d.departureCity.toLowerCase()===n&&d.distance<=s);if(l.length>0){l.sort((p,m)=>p.trainCO2-m.trainCO2);let d=l.slice(0,i);this.removeRoutes(),this.searchResults.emit(d.map(p=>({arrivalCity:p.arrivalCity,avgCO2:p.trainCO2}))),d.reverse().forEach(p=>this.addRoute(p));let f=this.parseCoordinates(d[0].departureCoordinates);if(f[0]!==-1){this.map.setView(f,7);let p=rr.default.marker(f,{icon:this.customIcon});p.addTo(this.map),this.routes.push([p])}}else alert("No destinations found within the specified distance")}removeRoutes(){this.routes.forEach(n=>{n.forEach(i=>{this.map.removeLayer(i)})}),this.routes=[]}addRoute(n){let i,s;n.departureCity==="Madrid City"?i="Madrid City":i=n.departureCity.replace(/ /g,"_"),n.arrivalCity==="Madrid City"?s="Madrid City":s=n.arrivalCity.replace(/ /g,"_");let a=`assets/kml_files_new/${i}_to_${s}.kml`,l=[];RI.default.kml(a,null,rr.default.geoJson(null,{filter:d=>d.geometry.type!=="Point",style:()=>({color:this.getEmissionColor(n.trainCO2),weight:8,opacity:.7}),onEachFeature:(d,f)=>{l.push(f),f.on("mouseover",p=>{l.forEach(m=>{m.feature&&m.setStyle({weight:10,color:"#545454"})}),f.openPopup()}),f.on("mouseout",p=>{l.forEach(m=>{m.feature&&m.setStyle({weight:8,color:this.getEmissionColor(n.trainCO2)})}),f.closePopup()}),f.bindPopup(`Route from ${n.departureCity} to ${n.arrivalCity}<br>
          CO2 Emissions: ${n.trainCO2.toFixed(2)} kg<br>
          Energy Consumption: ${n.trainEnergyResourceConsumption.toFixed(2)} kWh<br>
          Distance: ${n.distance.toFixed(2)} km<br>
          Train Duration: ${this.formatDuration(n.trainDuration)}`)}})).addTo(this.map).on("ready",()=>{let d=l[l.length-1].getLatLngs().slice(-1)[0],f=rr.default.marker(d,{icon:this.customSmallIcon});l.push(f),f.addTo(this.map)}),this.routes.push(l)}formatDuration(n){let i=Math.floor(n),s=Math.round((n-i)*60);return`${i}h ${s}m`}getEmissionColor(n){let a=(n-0)/30,l,d;return a<=.5?(l=Math.floor(255*(a*2)),d=255):(l=255,d=Math.floor(255*((1-a)*2))),`rgb(${l}, ${d}, 0)`}parseCoordinates(n){let i=/\[(-?\d+\.\d+),\s*(-?\d+\.\d+)\]/,s=n.match(i);if(s){let a=parseFloat(s[1]),l=parseFloat(s[2]);return[a,l]}else return[-1,-1]}addLegend(){let n=new rr.default.Control({position:"bottomleft"});n.onAdd=()=>{let i=rr.default.DomUtil.create("div","info legend"),s=`
        <div class="legend-gradient" style="height: 10px; width: 100%; background: linear-gradient(to right, ${this.getEmissionColor(0)}, ${this.getEmissionColor(15)}, ${this.getEmissionColor(30)});">
        </div>
        <div class="legend-scale">
          <span>0 kg</span><span style="float: right;">30 kg</span>
        </div>`;return i.style.backgroundColor="white",i.style.padding="10px",i.style.boxShadow="0 0 15px rgba(0,0,0,0.2)",i.style.borderRadius="5px",i.innerHTML=`<div><strong>CO2 Emissions (kg)</strong></div>${s}`,i},n.addTo(this.map)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Vf=(()=>{let t=class t{constructor(){this.ecoRoutes=[],this.cityNodes=[],this.cityLinks=[],this.countryNodes=[],this.countryLinks=[],this.regionNodes=[],this.regionLinks=[]}getEcoRoutes(){return this.ecoRoutes}getCountryByCity(n){return this.ecoRoutes.find(i=>i.departureCity===n)?.departureCountry||""}getSortedCityNodes(){return this.cityNodes.map(n=>({name:n,country:this.getCountryByCity(n)})).sort((n,i)=>{let s=n.country.localeCompare(i.country);return s!==0?s:n.name.localeCompare(i.name)}).map(n=>n.name)}loadCSVData(){return gl(this,null,function*(){let n=yield uo("assets/final_dataset_new.csv"),i=new Set,s=new Set,a=new Set,l=new Set;n.forEach(d=>{let f=new Ts(d);i.add(f.departureCity),i.add(f.arrivalCity),s.add(f.departureCountry),s.add(f.arrivalCountry),a.add(f.departureRegion),a.add(f.arrivalRegion);let p=`${f.departureCity}-${f.arrivalCity}`,m=`${f.arrivalCity}-${f.departureCity}`;!l.has(p)&&!l.has(m)&&f.distance<=5e3&&(this.cityLinks.push({source:f.departureCity,target:f.arrivalCity,weight:f.avgCO2,sourceCountry:f.departureCountry,targetCountry:f.arrivalCountry,sourceRegion:f.departureRegion,targetRegion:f.arrivalRegion}),l.add(p)),this.ecoRoutes.push(f)}),this.cityNodes=Array.from(i),this.prepareCountryData(),this.prepareRegionData()})}prepareCountryData(){let n=new Map;this.cityLinks.forEach(i=>{let{sourceCountry:s,targetCountry:a,weight:l,sourceRegion:d,targetRegion:f}=i;if(s===a)return;let p=`${s}-${a}`;n.has(p)||n.set(p,{weight:0,count:0,source:s,target:a,sourceCountry:s,targetCountry:a,sourceRegion:d,targetRegion:f});let m=n.get(p);m&&(m.weight+=l,m.count+=1)}),this.countryNodes=Array.from(new Set(this.cityLinks.map(i=>i.sourceCountry).concat(this.cityLinks.map(i=>i.targetCountry)))),this.countryLinks=Array.from(n.values()).map(i=>({source:i.source,target:i.target,weight:i.weight/i.count,sourceCountry:i.sourceCountry,targetCountry:i.targetCountry,sourceRegion:i.sourceRegion,targetRegion:i.targetRegion}))}prepareRegionData(){let n=new Map,i=new Set(["Eastern Europe","Southern Europe","Western Europe","British Isles","Northern Europe"]);this.cityLinks.forEach(s=>{let{sourceRegion:a,targetRegion:l,weight:d}=s;if(!i.has(a)||!i.has(l)||a===l)return;let f=`${a}-${l}`;n.has(f)||n.set(f,{weight:0,count:0,source:a,target:l});let p=n.get(f);p&&(p.weight+=d,p.count++)}),this.regionNodes=Array.from(new Set(this.cityLinks.map(s=>s.sourceRegion).concat(this.cityLinks.map(s=>s.targetRegion)))).filter(s=>i.has(s)),this.regionLinks=Array.from(n.values()).map(s=>({source:s.source,target:s.target,weight:s.weight/s.count,sourceCountry:"Unknown",targetCountry:"Unknown",sourceRegion:s.source,targetRegion:s.target}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var FI=(()=>{let t=class t{constructor(){this.graphWidth=700,this.graphHeight=700}initGraph(n){this.svg=ti(`#${n}`).append("svg").attr("width",this.graphWidth).attr("height",this.graphHeight).append("g").attr("transform",`translate(${this.graphWidth/2}, ${this.graphHeight/2})`)}updateGraph(n,i,s){let d=Math.min(500,500)*.5-30,f=d+10,p=new Map(n.map((b,P)=>[b,P])),m=Array.from(p,()=>new Array(n.length).fill(0));i.forEach(({source:b,target:P,weight:O})=>{let F=p.get(b),H=p.get(P);F!==void 0&&H!==void 0?(m[F][H]+=O,m[H][F]+=O):console.error(`Invalid link: ${b} -> ${P}`)});let v=hv().padAngle(.05).sortSubgroups(Cs),y=Fv().innerRadius(d).outerRadius(f),w=gv().radius(d);this.svg.selectAll("*").transition().duration(500).style("opacity",0).remove().end().then(()=>{this.svg.transition().duration(500).attr("viewBox",`-${500/2} -${500/2} 500 500`)}),this.svg.attr("width","100%").attr("height","100%").attr("viewBox",`-${500/2} -${500/2} 500 500`).attr("preserveAspectRatio","xMidYMid meet").attr("style","width: 100%; height: 100%; font: 10px sans-serif;");let C=v(m),x=this,k=s==="region"?1.5:s==="country"?1.2:1;this.svg.append("g").attr("class","ribbons").selectAll("path").data(C).join("path").attr("d",w).attr("stroke","#000").attr("stroke-opacity",.8).attr("fill","#CFCFCF").attr("opacity",.8);let j=this.svg.append("g").selectAll("g").data(C.groups).join("g");j.append("path").attr("d",y).attr("fill","#555555").attr("stroke",ni("#111").darker()).on("mouseover",function(b,P){Bd(".ribbons path").transition().duration(200).attr("opacity",function(O){return O.source.index===P.index||O.target.index===P.index?1:.2}).attr("fill",function(O){let F=i.find(H=>{let W=p.get(H.source),M=p.get(H.target);return W===O.source.index&&M===O.target.index||W===O.target.index&&M===O.source.index});return F&&(O.source.index===P.index||O.target.index===P.index)?x.getEmissionColor(F.weight,k):"#CFCFCF"})}).on("mouseout",function(){Bd(".ribbons path").transition().duration(200).attr("opacity",.8).attr("fill","#CFCFCF")}),j.append("text").each(b=>{b.angle=(b.startAngle+b.endAngle)/2}).attr("dy",".5em").attr("transform",b=>`
            rotate(${b.angle*180/Math.PI-90})
            translate(${f+5})
            ${b.angle>Math.PI?"rotate(180)":""}
        `).attr("text-anchor",b=>b.angle>Math.PI?"end":null).attr("font-size","15px").text(b=>n[b.index])}getEmissionColor(n,i=1){let s=140*i,a=0,l=(s-a)/2,d=(n-a)/(s-a),f,p;return n<=l?(f=Math.floor(255*(2*d)),p=255):(f=255,p=Math.floor(255*(2*(1-d)))),`rgb(${f}, ${p}, 0)`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var VI=(()=>{let t=class t{constructor(){}drawBarPlot(n,i){let s=ti(`#${i}`);s.selectAll("*").remove();let a={top:20,right:20,bottom:60,left:100},l=+s.attr("width")-a.left-a.right,d=+s.attr("height")-a.top-a.bottom,f=Lu().domain([0,Od(n,w=>w.avgCO2)]).range([0,l]),p=Ru().range([0,d]).domain(n.map(w=>w.arrivalCity)).padding(.1),m=s.append("g").attr("transform",`translate(${a.left},${a.top})`);s.append("text").attr("x",(l+a.left+a.right)/2).attr("y",a.top/2).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold"),m.append("g").call(Zg(p)).append("text").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",-a.left+10).attr("x",-(d/2)).attr("dy","1em").style("fill","black").style("font-size","18px").style("font-weight","bold").text("Arrival City"),m.append("g").attr("transform",`translate(0,${d})`).call(Wg(f)).append("text").attr("text-anchor","middle").attr("x",l/2).attr("y",a.bottom-10).style("fill","black").style("font-size","18px").style("font-weight","bold").text("CO2 Emissions per person (kg)"),m.selectAll(".bar").data(n).join(w=>w.append("rect").attr("class","bar").attr("y",C=>p(C.arrivalCity)??0).attr("height",p.bandwidth()).attr("x",0).attr("width",0).attr("fill",C=>this.getEmissionColor(C.avgCO2)).call(C=>C.transition().duration(500).attr("width",x=>f(x.avgCO2))).on("mouseover",(C,x)=>v(C,x)).on("mouseout",()=>y()),w=>w.call(C=>C.transition().duration(500).attr("y",x=>p(x.arrivalCity)??0).attr("width",x=>f(x.avgCO2)).attr("fill",x=>this.getEmissionColor(x.avgCO2))).on("mouseover",(C,x)=>v(C,x)).on("mouseout",()=>y()),w=>w.call(C=>C.transition().duration(500).attr("width",0).remove()));function v(w,C){let x=`<strong>Arrival City:</strong> ${C.arrivalCity}<br/>
                    <strong>CO2 Emissions:</strong> ${C.avgCO2.toFixed(2)} kg<br/>`;ti("#tooltip").style("left",`${w.pageX+10}px`).style("top",`${w.pageY+10}px`).style("display","inline-block").html(x)}function y(){ti("#tooltip").style("display","none")}ti("body").append("div").attr("id","tooltip").style("position","absolute").style("padding","10px").style("background","rgba(0,0,0,0.6)").style("color","#fff").style("border-radius","5px").style("display","none")}getEmissionColor(n){let a=(n-0)/30,l,d;return a<=.5?(l=Math.floor(255*(a*2)),d=255):(l=255,d=Math.floor(255*((1-a)*2))),`rgb(${l}, ${d}, 0)`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function AB(e,t){if(e&1){let r=_r();ie(0,"li",24),We("click",function(){let i=Zn(r).$implicit,s=_t(2);return Yn(s.selectCity(i))}),ue(1),J()}if(e&2){let r=t.$implicit;He(),Xn(r)}}function NB(e,t){if(e&1&&(ie(0,"ul",22),Rt(1,AB,2,1,"li",23),J()),e&2){let r=_t();He(),yt("ngForOf",r.filteredCities)}}var jI=(()=>{let t=class t{constructor(n,i,s,a,l){this.mapService=n,this.dataService=i,this.graphService=s,this.barPlotService=a,this.http=l,this.currentView="city",this.selectedCountries=new Set,this.selectedCities=new Set,this.flagsData=[],this.filteredCities=[],this.cities=[],this.cityInput=""}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.mapService.initMap("map"),this.dataService.loadCSVData().then(()=>{this.graphService.initGraph("graph"),this.selectedCountries.add("Switzerland"),this.selectedCountries.add("Germany"),this.updateGraph(),this.updateMapHighlighting(),this.initMapClickHandler(),this.setDefaultMapView()}),this.searchResultsSub=this.mapService.searchResults.subscribe(n=>{this.barPlotService.drawBarPlot(n,"co2BarPlot")}),this.getCities().subscribe(n=>{this.cities=n})},200)}ngOnDestroy(){this.searchResultsSub&&this.searchResultsSub.unsubscribe()}toggleView(n){this.currentView=n,this.updateGraph(),this.updateMapHighlighting()}updateGraph(){let n,i;if(this.currentView==="city"){i=this.dataService.cityLinks.filter(a=>this.selectedCountries.has(a.sourceCountry)&&this.selectedCountries.has(a.targetCountry));let s=new Set(i.flatMap(a=>[a.source,a.target]));n=this.dataService.getSortedCityNodes().filter(a=>s.has(a))}else this.currentView==="country"?(n=this.dataService.countryNodes.filter(s=>this.selectedCountries.has(s)),i=this.dataService.countryLinks.filter(s=>this.selectedCountries.has(s.sourceCountry)||this.selectedCountries.has(s.targetCountry))):(n=this.dataService.regionNodes,i=this.dataService.regionLinks);this.graphService.updateGraph(n,i,this.currentView)}searchCity(){let n=document.getElementById("citySearch").value.toLowerCase(),i=parseInt(document.getElementById("cityCount").value,10),s=parseFloat(document.getElementById("maxDistance").value);this.mapService.searchCity(n,i,s,this.dataService.getEcoRoutes())}initMapClickHandler(){let n=document.getElementById("europe-map"),i=s=>{s.querySelectorAll("path").forEach(l=>{let d=l.getAttribute("name")||"";l.style.fill=this.selectedCountries.has(d)?"#8ed99d":"rgb(235 235 235)",l.addEventListener("click",()=>{d&&(this.selectedCountries.has(d)?(this.selectedCountries.delete(d),l.style.fill="rgb(235 235 235)"):(this.selectedCountries.add(d),l.style.fill="#8ed99d"),this.updateGraph(),this.updateMapHighlighting())}),l.addEventListener("mouseover",()=>{l.style.fill="#8ed99d"}),l.addEventListener("mouseout",()=>{l.style.fill=this.selectedCountries.has(d)?"#8ed99d":"rgb(235 235 235)"})})};n.contentDocument?i(n.contentDocument):n.addEventListener("load",()=>{i(n.contentDocument)})}updateMapHighlighting(){let i=document.getElementById("europe-map").contentDocument;i&&i.querySelectorAll("path").forEach(a=>{let l=a.getAttribute("name")||"";this.selectedCountries.has(l)?a.setAttribute("fill","#007bff"):a.setAttribute("fill","#CFCFCF")})}updateBarPlot(n){this.barPlotService.drawBarPlot(n,"co2BarPlot")}selectCity(n){this.cityInput=n,this.filteredCities=[]}search(n){n?this.filteredCities=this.cities.filter(i=>i.toLowerCase().includes(n.toLowerCase())).sort((i,s)=>i.toLowerCase().indexOf(n.toLowerCase())-s.toLowerCase().indexOf(n.toLowerCase())).slice(0,10):this.filteredCities=[]}getCities(){return this.http.get("assets/cities.txt",{responseType:"text"}).pipe(pe(n=>n.split(`
`)))}setDefaultMapView(){this.mapService.searchCity("venice",4,300,this.dataService.getEcoRoutes())}};t.\u0275fac=function(i){return new(i||t)(fe(Ff),fe(Vf),fe(FI),fe(VI),fe(Hi))},t.\u0275cmp=lt({type:t,selectors:[["app-cities"]],standalone:!0,features:[ct],decls:58,vars:2,consts:[[1,"route-text"],[1,"search-area"],["type","text","id","citySearch","placeholder","City name",3,"ngModelChange","ngModel"],["class","suggestions",4,"ngIf"],["type","number","id","cityCount","placeholder","N","min","1","max","10","title","Number of Cities"],["type","number","id","maxDistance","placeholder","Max distance (km)","title","Maximum Distance"],[1,"search-button",3,"click"],[1,"container-citymap"],["id","map",2,"height","600px","width","100%","position","relative"],[1,"search-container"],["id","co2BarPlot","width","400","height","300"],[1,"route-text",2,"margin-top","60px"],[1,"graph-container"],[1,"button-container"],[1,"toggle-button",3,"click"],[1,"graph-legend","info","legend","leaflet-control"],[1,"legend-gradient",2,"height","10px","width","100%","background","linear-gradient(to right, rgb(0, 255, 0), rgb(255, 255, 0), rgb(255, 0, 0))"],[1,"legend-scale"],[2,"float","right"],["id","graph"],["id","europe-map-container"],["id","europe-map","type","image/svg+xml","data",Pc`assets/europe-map.svg`],[1,"suggestions"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,s){i&1&&(ie(0,"main")(1,"div",0)(2,"h1"),ue(3," Drop A Pin! "),J(),ue(4," Let's explore how traveling locally can simplify your adventures while minimizing environmental impact. Discover how local journeys can enrich your travel experience and also contribute to a healthier planet. "),Se(5,"br")(6,"br"),ue(7," Start by selecting a city, enter the number of cities to display and discover a range of nearby destinations within your chosen travel radius. As you navigate through the map, each pin drop reveals the most eco-friendly routes, highlighting low train CO2 emissions and promoting greener travel choices. "),Se(8,"br")(9,"br"),ue(10," Dive into the latest travel trend: base yourself in a single city and spend a few days uncovering the local places just a short trip away \u2013 minimizing your carbon footprint while maximizing your explorations. "),Se(11,"br")(12,"br"),ue(13," Drop a pin in Lausanne, and see how easy and eco-friendly your next weekend getaway can be! "),J(),ie(14,"div",1)(15,"input",2),We("ngModelChange",function(l){return s.search(l)}),qr("ngModelChange",function(l){return Bi(s.cityInput,l)||(s.cityInput=l),l}),J(),Rt(16,NB,2,1,"ul",3),Se(17,"input",4)(18,"input",5),ie(19,"button",6),We("click",function(){return s.searchCity()}),ue(20,"Search"),J(),Se(21,"br")(22,"br"),J(),ie(23,"div",7),Se(24,"div",8),ie(25,"div",9),aw(),Se(26,"svg",10),J()(),uw(),ie(27,"div",11)(28,"h1"),ue(29," Eco-Networks "),J(),ue(30," Now let's reveal the network of travel connections between cities and countries across Europe."),Se(31,"br")(32,"br"),ue(33," Start by clicking on the interactive map to select countries and dynamically add or remove nodes to the graph. As you hover over any node, watch the connecting lines change their color based on the average CO2 emissions. You can also switch perspectives easily \u2014 choose between city or country view to explore how travel patterns and environmental impacts differ at each level. "),Se(34,"br")(35,"br"),ue(36," Understand the bigger picture, and let this visualization offer you a fresh perspective on the broader implications of travel across Europe. "),Se(37,"br")(38,"br"),J(),ie(39,"div",12)(40,"div",13)(41,"button",14),We("click",function(){return s.toggleView("city")}),ue(42,"City View"),J(),ie(43,"button",14),We("click",function(){return s.toggleView("country")}),ue(44,"Country View"),J()(),ie(45,"div",15)(46,"div")(47,"strong"),ue(48,"CO2 Emissions (kg)"),J()(),Se(49,"div",16),ie(50,"div",17)(51,"span"),ue(52,"0 kg"),J(),ie(53,"span",18),ue(54,"150 kg"),J()()(),Se(55,"div",19),ie(56,"div",20),Se(57,"object",21),J()()()),i&2&&(He(15),Gr("ngModel",s.cityInput),He(),yt("ngIf",s.filteredCities.length))},dependencies:[Ln,Zr,ss,Sd,ws,Md,cu],styles:["main[_ngcontent-%COMP%]{margin-top:20px}.graph-container[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:99%}#graph[_ngcontent-%COMP%]{position:absolute;z-index:10000}#europe-map-container[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;display:inline-block;vertical-align:top;margin-right:20px}#europe-map[_ngcontent-%COMP%]{position:absolute;top:0;left:480px;transform:scale(.9)}#europe-map[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#dcdcdc;stroke:#000;stroke-width:1}img[_ngcontent-%COMP%]{margin-top:20px;width:100%}.container-citymap[_ngcontent-%COMP%]{position:relative;width:100%;display:block;z-index:0}#map[_ngcontent-%COMP%]{border-radius:20px}.search-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;border:none;background-color:#555;color:#fff;border-radius:99px;cursor:pointer;transition:background-color .3s ease;height:48.5px;margin-left:20px}#map[_ngcontent-%COMP%]{width:100%;height:100%;z-index:1}.search-container[_ngcontent-%COMP%]{position:absolute;top:115px;right:20px;width:400px;height:300px;background:#fff;padding:10px;box-shadow:0 4px 6px #0000001a;z-index:999;overflow:hidden;border-radius:20px}#co2BarPlot[_ngcontent-%COMP%]{max-width:98%;display:block}.search-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}#citySearch[_ngcontent-%COMP%], #cityCount[_ngcontent-%COMP%], #maxDistance[_ngcontent-%COMP%]{flex-grow:1;padding:12px 15px;margin-right:5px;font-size:1.25rem;border:1px solid #ccc;border-radius:99px}.search-area[_ngcontent-%COMP%]{width:95%;margin:0 auto;text-align:center;padding:20px;font-size:1.25rem;background-color:#fff}.text-for-search[_ngcontent-%COMP%]{width:60%;margin:0 auto;text-align:center;padding:5px;background-color:#fff}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.toggle-button[_ngcontent-%COMP%]{z-index:20000;padding:10px 20px;font-size:1rem;border:none;background-color:#555;color:#fff;border-radius:20px;cursor:pointer;transition:background-color .3s ease}.toggle-button[_ngcontent-%COMP%]:hover, .toggle-button[_ngcontent-%COMP%]:focus{background-color:#333;outline:none}.toggle-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.suggestions[_ngcontent-%COMP%]{position:absolute;z-index:20;width:50%;background:#fff;box-shadow:0 4px 6px #0000001a;list-style-type:none;padding:0;margin:0}.suggestions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.route-text[_ngcontent-%COMP%]{margin:0 120px 20px;font-size:16px;text-align:justify;box-shadow:#0000001a 0 4px 12px;padding:20px 50px 30px;border-radius:20px}.route-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;text-align:center}.graph-legend[_ngcontent-%COMP%]{position:absolute;left:120px}"]});let e=t;return e})();var iy=xi(Vu());function OB(e,t){if(e&1&&(ie(0,"th",16),ue(1),J()),e&2){let r=t.$implicit;He(),rs("",r," ")}}function PB(e,t){if(e&1){let r=_r();ie(0,"td",19),We("mouseover",function(){let i=Zn(r).$implicit,s=_t().$implicit,a=_t();return Yn(a.highlightMap(s,i))})("mouseout",function(){Zn(r);let i=_t(2);return Yn(i.resetMapHighlight())}),J()}if(e&2){let r=t.$implicit,n=_t().$implicit;Dm("id",n+";"+r)}}function RB(e,t){if(e&1&&(ie(0,"tr")(1,"th",17),ue(2),J(),Rt(3,PB,1,1,"td",18),J()),e&2){let r=t.$implicit,n=_t();He(2),Xn(r),He(),yt("ngForOf",n.regions)}}var BI=(()=>{let t=class t{constructor(n,i,s){this.mapService=n,this.dataService=i,this.http=s,this.country_to_region={"United Kingdom":"British Isles",Macedonia:"Eastern Europe",Greece:"Southern Europe",Ireland:"British Isles",Italy:"Southern Europe",Germany:"Western Europe",Switzerland:"Western Europe",France:"Western Europe",Netherlands:"Western Europe",Poland:"Eastern Europe",Spain:"Southern Europe",Slovenia:"Eastern Europe",Romania:"Eastern Europe",Croatia:"Eastern Europe",Sweden:"Northern Europe",Belgium:"Western Europe",Lithuania:"Eastern Europe",Moldova:"Eastern Europe",Luxembourg:"Western Europe",Malta:"Southern Europe",Norway:"Northern Europe",Slovakia:"Eastern Europe",Latvia:"Northern Europe",Serbia:"Eastern Europe",Austria:"Western Europe",Montenegro:"Eastern Europe",Ukraine:"Eastern Europe",Turkey:"Eastern Europe",Hungary:"Eastern Europe",Iceland:"Northern Europe","Czech Republic":"Eastern Europe",Georgia:"Eastern Europe",Finland:"Northern Europe",Kosovo:"Southern Europe",Denmark:"Northern Europe",Cyprus:"Southern Europe",Bulgaria:"Eastern Europe","Bosnia and Herzegovina":"Eastern Europe",Belarus:"Eastern Europe",Azerbaijan:"Eastern Europe",Armenia:"Eastern Europe",Andorra:"Southern Europe",Russia:"Eastern Europe",Portugal:"Southern Europe",Albania:"Southern Europe",Estonia:"Northern Europe"},this.data=[],this.regions=["Eastern Europe","Southern Europe","Western Europe","British Isles","Northern Europe"],this.selectedRegions=new Set,this.maxCo2=-1,this.minCo2=-1,this.midCo2=-1}ngAfterViewInit(){setTimeout(()=>{uo("assets/regions_co2.csv").then(n=>{this.data=n,this.maxCo2=Math.max(...this.data.map(i=>i.avg_co2)),this.minCo2=Math.min(...this.data.map(i=>i.avg_co2)),this.midCo2=(this.maxCo2+this.minCo2)/2,this.populateMatrix(),this.addLegend()})},200)}populateMatrix(){this.regions.forEach(n=>{this.regions.forEach(i=>{let s=this.findCO2ForRegions(n,i),a=`${n};${i}`,l=document.getElementById(a);l&&(l.innerHTML=s.toFixed(2),l.style.borderColor=this.getEmissionColor(s,100),l.style.backgroundColor=this.getEmissionColor(s,30))})})}resetRegions(){this.data.forEach(n=>{let i=document.getElementById(n["Departure Region"]+";"+n["Arrival Region"]);i&&(i.innerHTML="",i.style.borderColor="rgb(200, 200, 200)",i.style.backgroundColor="white")})}getCO2pairs(){this.data.forEach(n=>{if(this.selectedRegions.has(n["Departure Region"])&&this.selectedRegions.has(n["Arrival Region"])){console.log(n["Departure Region"],n["Arrival Region"],n.avg_co2);let i=document.getElementById(n["Departure Region"]+";"+n["Arrival Region"]),s=parseInt(n.avg_co2);i&&(i.innerHTML=s.toFixed(2),i.style.borderColor=this.getEmissionColor(s,100),i.style.backgroundColor=this.getEmissionColor(s,30),i.style.color=this.getEmissionColor(s,100))}})}getEmissionColor(n,i){let s=(n-this.minCo2)/(this.maxCo2-this.minCo2);console.log(s);let a,l;return n<=this.midCo2?(a=Math.floor(255*s*2),l=255):(a=255,l=Math.floor(255*(2-2*s))),`rgba(${a}, ${l}, 0, ${i/100})`}addLegend(){let n=new iy.default.Control({position:"topleft"});n.onAdd=()=>{let i=iy.default.DomUtil.create("div","info legend"),s=`
            <div class="legend-gradient" style="height: 10px; width: 100%; background: linear-gradient(to right, 
            ${this.getEmissionColor(this.minCo2,100)}, 
            ${this.getEmissionColor((this.maxCo2+this.minCo2)/2,100)}, 
            ${this.getEmissionColor(this.maxCo2,100)});">
            </div>
            <div class="legend-scale">
                <span>${this.minCo2} kg</span><span style="float: right;">${this.maxCo2} kg</span>
            </div>`;return i.innerHTML=`<div><strong>CO2 Emissions (kg)</strong></div>${s}`,i},n.addTo(this.map)}highlightMap(n,i){let a=document.getElementById("europe-map")?.contentDocument;if(!a)return;a.querySelectorAll("path").forEach(d=>{let f=d.getAttribute("name")||"",p=this.country_to_region[f];if(p===n||p===i){let m=this.findCO2ForRegions(n,i);d.style.fill=this.getEmissionColor(m,100)}})}resetMapHighlight(){let i=document.getElementById("europe-map")?.contentDocument;if(!i)return;i.querySelectorAll("path").forEach(a=>{a.style.fill="rgb(235, 235, 235)"})}findCO2ForRegions(n,i){let s=this.data.find(a=>a["Departure Region"]===n&&a["Arrival Region"]===i);return s?parseFloat(s.avg_co2):0}};t.\u0275fac=function(i){return new(i||t)(fe(Ff),fe(Vf),fe(Hi))},t.\u0275cmp=lt({type:t,selectors:[["app-regions"]],standalone:!0,features:[ct],decls:34,vars:2,consts:[[1,"route-text"],[1,"graph-container"],[1,"graph-legend","info","legend","leaflet-control"],[1,"legend-gradient",2,"height","10px","width","100%","background","linear-gradient(to right, rgb(0, 255, 0), rgb(255, 255, 0), rgb(255, 0, 0))"],[1,"legend-scale"],[2,"float","right"],[1,"grid"],[2,"transform","rotate(-90deg)","position","absolute","top","250px","left","-95px","font-size","16px"],[2,"position","relative"],[2,"position","absolute","left","240px","top","-35px","font-size","16px"],[2,"height","70px"],["style","transform: rotate(-90deg); font-weight: 100;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["id","europe-map-container",2,"transform","scale(0.75)"],["id","europe-map","type","image/svg+xml","data",Pc`assets/europe-map.svg`],[1,"empty-space"],[2,"transform","rotate(-90deg)","font-weight","100"],[2,"font-weight","100"],["class","matrix-cell",3,"id","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"matrix-cell",3,"mouseover","mouseout","id"]],template:function(i,s){i&1&&(ie(0,"main")(1,"div",0)(2,"h1"),ue(3,"Regional Emissions"),J(),ue(4," Finally, let\u2019s take a broader look at travel\u2019s environmental impact across different regions. This visualization features a matrix displaying the average CO2 emissions for all possible combinations of departure and arrival regions, color-coded to highlight the emissions levels. In this view, we completely shift the perspective to a larger scale, expanding upon the graph, to show regional travel patterns in a clear and more comprehensive fashion. "),Se(5,"br")(6,"br"),ue(7," Hover over the matrix cells to see the corresponding regions highlighted on the map. Understand how different regions compare in terms of CO2 emissions and explore the bigger picture of inter-regional travel. "),Se(8,"br")(9,"br"),J(),ie(10,"div",1)(11,"div",2)(12,"div")(13,"strong"),ue(14,"CO2 Emissions (kg)"),J()(),Se(15,"div",3),ie(16,"div",4)(17,"span"),ue(18,"0 kg"),J(),ie(19,"span",5),ue(20,"200 kg"),J()()(),ie(21,"table",6)(22,"th",7),ue(23," Departure Region"),J(),ie(24,"tr",8)(25,"th",9),ue(26,"Arrival Region"),J()(),ie(27,"tr",10),Se(28,"th"),Rt(29,OB,2,1,"th",11),J(),Rt(30,RB,4,2,"tr",12),J(),ie(31,"div",13),Se(32,"object",14),J()(),Se(33,"div",15),J()),i&2&&(He(29),yt("ngForOf",s.regions),He(),yt("ngForOf",s.regions))},dependencies:[Ln,Zr],styles:["main[_ngcontent-%COMP%]{margin-top:20px}#europe-map-container[_ngcontent-%COMP%]{height:auto;background-color:#fff;display:inline-block;vertical-align:top;margin-right:20px}#europe-map-container[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;display:inline-block;vertical-align:top;margin-right:20px}#europe-map[_ngcontent-%COMP%]{position:absolute;top:0;left:540px}#europe-map[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#dcdcdc;stroke:#000;stroke-width:1}.graph-container[_ngcontent-%COMP%]{position:relative;width:99%}.route-text[_ngcontent-%COMP%]{margin:10px 120px 60px;font-size:16px;text-align:justify;box-shadow:#0000001a 0 4px 12px;padding:20px 50px 30px;border-radius:20px}.route-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;text-align:center}.grid[_ngcontent-%COMP%]{position:absolute;left:150px;top:70px;font-size:14px;z-index:10}.graph-legend[_ngcontent-%COMP%]{position:absolute;left:120px;top:0}.empty-space[_ngcontent-%COMP%]{height:550px}.matrix-cell[_ngcontent-%COMP%]{height:65px;width:65px;border:2px solid rgb(200,200,200);border-radius:99px;text-align:center;transition:background-color .3s ease,transform .3s ease}.matrix-cell[_ngcontent-%COMP%]:hover{background-color:#fffc;transform:scale(1.03);font-weight:700;cursor:pointer}"]});let e=t;return e})();var UI=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=lt({type:t,selectors:[["app-home"]],standalone:!0,features:[ct],decls:23,vars:0,consts:[[1,"router-text"],[1,"quote"],[1,"fas","fa-quote-left","fa-xs","text-primary"],[1,"fas","fa-quote-right","fa-xs","text-primary"],[1,"last-sent"]],template:function(i,s){i&1&&(ie(0,"main")(1,"div",0)(2,"h1"),ue(3," EcoRoutes: The carbon cost of transportation"),J(),ie(4,"div",1),Se(5,"i",2),ie(6,"i"),ue(7,"The first step towards sustainable living is verifying your carbon footprint. "),J(),Se(8,"i",3)(9,"br")(10,"br"),J(),ue(11," Welcome to EcoRoutes, where we illuminate the path to sustainable living through the lens of your travel choices. In an era defined by a pressing climate emergency, adopting greener lifestyles is crucial. Transportation is a major contributor to this challenge, accounting for approximately one-fifth of global carbon dioxide (CO2) emissions\u2014a figure set to rise in the future. "),Se(12,"br")(13,"br"),ue(14," Have you ever paused to consider the environmental footprint of your adventures? Consider this: a round-trip flight from Lisbon to Helsinki produces emissions comparable to what an average person in the EU generates by heating their home for six months. We all cherish the opportunity to explore new places, but it\u2019s vital to ponder the environmental impact of our travel choices. "),Se(15,"br")(16,"br"),ue(17," By presenting data in a visually engaging manner, we hope to inspire changes in travel behavior and transportation policies that favor sustainability. We believe our story will promote a shift towards a greener future. "),Se(18,"br")(19,"br"),ie(20,"div",4),ue(21," Join us on this vital journey. Together, we can pave the way to a more sustainable world, one trip at a time! "),J(),Se(22,"br"),J()())},styles:['main[_ngcontent-%COMP%]{background-image:url("./media/train-mountains-cropped-TSFWAQI4.jpg");height:calc(100vh - 96px);background-size:cover;border-radius:20px}.quote[_ngcontent-%COMP%]{padding:10px;font-size:20px;text-align:center}.last-sent[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.router-text[_ngcontent-%COMP%]{border-radius:20px;background:#fff;padding:30px 40px 40px;position:absolute;text-align:justify;margin:20px 120px;font-size:16px;box-shadow:#0000001a 0 4px 12px}.router-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;text-align:center;font-size:36px}']});let e=t;return e})();var $I=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:UI},{path:"eco-router",component:PI},{path:"cities",component:jI},{path:"regions",component:BI}];var zI={providers:[ub($I),Ix()]};var HI=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=lt({type:t,selectors:[["app-navbar"]],standalone:!0,features:[ct],decls:14,vars:0,consts:[[1,"navbar"],["href","home"],[1,"navbar-logo"],["src","assets/logo_img.png","alt","EcoRoutes Logo",1,"logo"],["src","assets/name_only.png","alt","EcoRoutes name",1,"name"],[1,"navbar-links"],["href","eco-router"],["href","cities"],["href","regions"],["href","https://github.com/com-480-data-visualization/com-480-project-ecoroutes/tree/master",1,"right-link"]],template:function(i,s){i&1&&(ie(0,"nav",0)(1,"a",1)(2,"div",2),Se(3,"img",3)(4,"img",4),J()(),ie(5,"div",5)(6,"a",6),ue(7,"Eco Explorer"),J(),ie(8,"a",7),ue(9,"Cities"),J(),ie(10,"a",8),ue(11,"Regional Emissions"),J(),ie(12,"a",9),ue(13,"About"),J()()())},styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#000;border-radius:10px;margin-left:auto;margin-right:auto;background-color:#fff}.navbar-logo[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px;margin-bottom:6px;display:flex;align-items:center}.navbar-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:80px}.navbar-logo[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{height:20px;margin-left:10px;margin-right:20px}.navbar-links[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;margin-right:20px}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration-color:#8ed99d;text-decoration-thickness:4px;padding:10px;font-weight:500;text-transform:uppercase}.right-link[_ngcontent-%COMP%]{margin-left:auto}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration-color:#28430a}"]});let e=t;return e})();var GI=(()=>{let t=class t{constructor(){this.title="ecoroutes"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=lt({type:t,selectors:[["app-root"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(i,s){i&1&&Se(0,"app-navbar")(1,"router-outlet")},dependencies:[Ln,Mg,HI,gx]});let e=t;return e})();Ex(GI,zI).catch(e=>console.error(e));
